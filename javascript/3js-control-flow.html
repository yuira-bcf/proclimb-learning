<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 3: 条件分岐と繰り返し - JavaScript入門</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../shared/common.css">
  <style>
    :root {
      --primary: #007AFF;
      --primary-dark: #0062CC;
      --primary-light: #EFF6FF;
      --primary-lighter: #BFDBFE;
    }
    .nav-category-links { display: none; }
  </style>
</head>
<body>
  <nav class="global-nav"></nav>
  <script src="../shared/js/nav-javascript.js"></script>

  <div class="container">
    <!-- チャプターヘッダー -->
    <header class="chapter-header">
      <div class="chapter-badge">Chapter</div>
      <div class="chapter-number">3</div>
      <h1 class="chapter-title">条件分岐と繰り返し</h1>
      <p class="chapter-subtitle">プログラムの流れを制御しよう</p>
    </header>

    <!-- 目次 -->
    <nav class="toc">
      <h2 class="toc-title">この章の内容</h2>
      <ul class="toc-list">
        <li class="toc-item"><span class="toc-number">3-1</span>if-else 条件分岐</li>
        <li class="toc-item"><span class="toc-number">3-2</span>switch 文</li>
        <li class="toc-item"><span class="toc-number">3-3</span>for ループ</li>
        <li class="toc-item"><span class="toc-number">3-4</span>while ループ</li>
        <li class="toc-item"><span class="toc-number">3-5</span>配列の基礎</li>
        <li class="toc-item"><span class="toc-number">3-6</span>実習：おみくじアプリ</li>
        <li class="toc-item"><span class="toc-number">練習</span>練習問題</li>
      </ul>
    </nav>

    <!-- Section 3-1 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 3-1</span>
        <h2 class="section-title">if-else 条件分岐</h2>
      </div>

      <div class="intro-text">
        <p>条件分岐を使うと、特定の条件に応じて異なる処理を実行できます。if文はプログラミングの最も基本的な制御構文です。</p>
      </div>

      <div class="subsection">
        <h3>if文の基本構文</h3>

        <!-- SVGフローチャート -->
        <div class="demo-area" style="padding: 20px; overflow-x: auto;">
          <svg viewBox="0 0 500 300" style="min-width: 400px; width: 100%; height: auto;">
            <!-- 開始 -->
            <ellipse cx="250" cy="30" rx="40" ry="20" fill="#3b82f6"/>
            <text x="250" y="35" text-anchor="middle" font-size="12" fill="white">開始</text>

            <!-- 矢印 -->
            <line x1="250" y1="50" x2="250" y2="80" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>

            <!-- 条件 -->
            <polygon points="250,80 330,130 250,180 170,130" fill="#f97316"/>
            <text x="250" y="135" text-anchor="middle" font-size="11" fill="white">条件式</text>

            <!-- true側 -->
            <line x1="330" y1="130" x2="400" y2="130" stroke="#22c55e" stroke-width="2"/>
            <text x="365" y="120" font-size="10" fill="#22c55e">true</text>
            <line x1="400" y1="130" x2="400" y2="200" stroke="#22c55e" stroke-width="2"/>
            <rect x="340" y="200" width="120" height="40" rx="8" fill="#22c55e"/>
            <text x="400" y="225" text-anchor="middle" font-size="11" fill="white">処理A</text>
            <line x1="400" y1="240" x2="400" y2="270" stroke="#64748b" stroke-width="2"/>
            <line x1="400" y1="270" x2="250" y2="270" stroke="#64748b" stroke-width="2"/>

            <!-- false側 -->
            <line x1="170" y1="130" x2="100" y2="130" stroke="#ef4444" stroke-width="2"/>
            <text x="135" y="120" font-size="10" fill="#ef4444">false</text>
            <line x1="100" y1="130" x2="100" y2="200" stroke="#ef4444" stroke-width="2"/>
            <rect x="40" y="200" width="120" height="40" rx="8" fill="#ef4444"/>
            <text x="100" y="225" text-anchor="middle" font-size="11" fill="white">処理B（else）</text>
            <line x1="100" y1="240" x2="100" y2="270" stroke="#64748b" stroke-width="2"/>
            <line x1="100" y1="270" x2="250" y2="270" stroke="#64748b" stroke-width="2"/>

            <!-- 終了 -->
            <ellipse cx="250" cy="290" rx="40" ry="20" fill="#3b82f6"/>
            <text x="250" y="295" text-anchor="middle" font-size="12" fill="white">終了</text>

            <!-- 矢印マーカー定義 -->
            <defs>
              <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                <path d="M0,0 L0,6 L9,3 z" fill="#64748b"/>
              </marker>
            </defs>
          </svg>
        </div>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
年齢に基づく成人/未成年の判定とテストの点数評価

## 実装要件
- 変数`age`に20を代入
- `if`文で18歳以上なら「成人です」と表示
- `if-else`文で成人/未成年を判定
- `if-else if-else`文でテストの点数（75点）を評価
  - 90点以上:「優秀」
  - 70点以上:「合格」
  - 50点以上:「もう少し」
  - それ以外:「再試験」

## 使用する構文
- `if`文、`if-else`文、`if-else if-else`文
- 比較演算子（`>=`）
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">if文の基本</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="keyword">const</span> <span class="variable">age</span> = <span class="number">20</span>;

<span class="comment">// 基本のif文</span>
<span class="keyword">if</span> (<span class="variable">age</span> >= <span class="number">18</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"成人です"</span>);
}

<span class="comment">// if-else文</span>
<span class="keyword">if</span> (<span class="variable">age</span> >= <span class="number">18</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"成人です"</span>);
} <span class="keyword">else</span> {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"未成年です"</span>);
}

<span class="comment">// if-else if-else文</span>
<span class="keyword">const</span> <span class="variable">score</span> = <span class="number">75</span>;

<span class="keyword">if</span> (<span class="variable">score</span> >= <span class="number">90</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"優秀！"</span>);
} <span class="keyword">else if</span> (<span class="variable">score</span> >= <span class="number">70</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"合格"</span>);
} <span class="keyword">else if</span> (<span class="variable">score</span> >= <span class="number">50</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"もう少し"</span>);
} <span class="keyword">else</span> {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"再試験"</span>);
}</code></pre>
            </div>
          </div>
        </div>

        <div class="syntax-box">
          <div class="syntax-box-header">
            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
            <span class="syntax-box-title">構文説明</span>
          </div>
          <div class="syntax-box-content">
            <div class="syntax-item">
              <h4>if文</h4>
              <div class="syntax-pattern">if (条件式) {
  処理
}</div>
              <p>条件式がtrueの場合のみ、ブロック内の処理を実行します。最も基本的な条件分岐構文です。</p>
            </div>
            <div class="syntax-item">
              <h4>if-else文</h4>
              <div class="syntax-pattern">if (条件式) {
  処理A
} else {
  処理B
}</div>
              <p>条件式がtrueなら処理Aを、falseなら処理Bを実行します。2択の分岐に使用します。</p>
            </div>
            <div class="syntax-item">
              <h4>if-else if-else文</h4>
              <div class="syntax-pattern">if (条件1) {
  処理A
} else if (条件2) {
  処理B
} else {
  処理C
}</div>
              <p>複数の条件を順番に評価し、最初にtrueになった条件の処理を実行します。すべてfalseならelseブロックが実行されます。</p>
            </div>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>複合条件</h3>
        <p>複数の条件を組み合わせる場合は、論理演算子（<code>&&</code>、<code>||</code>）を使用します。</p>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
論理演算子を使った複合条件の判定

## 実装要件
- AND条件（`&&`）：18歳以上かつ免許ありで「運転できます」と表示
- OR条件（`||`）：会員または65歳以上で「割引適用」と表示
- 複合条件：営業時間（9-12時または13-18時）かどうかを判定

## 使用する構文
- 論理演算子（`&&`、`||`）
- 比較演算子（`>=`、`<`）
- `if`文
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">複合条件の例</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="keyword">const</span> <span class="variable">age</span> = <span class="number">25</span>;
<span class="keyword">const</span> <span class="variable">hasLicense</span> = <span class="keyword">true</span>;
<span class="keyword">const</span> <span class="variable">isMember</span> = <span class="keyword">true</span>;

<span class="comment">// AND条件（両方満たす）</span>
<span class="keyword">if</span> (<span class="variable">age</span> >= <span class="number">18</span> && <span class="variable">hasLicense</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"運転できます"</span>);
}

<span class="comment">// OR条件（どちらか満たす）</span>
<span class="keyword">if</span> (<span class="variable">isMember</span> || <span class="variable">age</span> >= <span class="number">65</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"割引適用"</span>);
}

<span class="comment">// 複雑な条件</span>
<span class="keyword">const</span> <span class="variable">hour</span> = <span class="number">14</span>;
<span class="keyword">if</span> ((<span class="variable">hour</span> >= <span class="number">9</span> && <span class="variable">hour</span> < <span class="number">12</span>) || (<span class="variable">hour</span> >= <span class="number">13</span> && <span class="variable">hour</span> < <span class="number">18</span>)) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"営業時間内です"</span>);
}</code></pre>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 3-2 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 3-2</span>
        <h2 class="section-title">switch 文</h2>
      </div>

      <div class="intro-text">
        <p>switch文は、一つの値に対して複数の分岐を行う場合に使います。if-else ifが多くなる場合はswitchの方が読みやすくなることがあります。</p>
      </div>

      <div class="subsection">
        <h3>switch文の構文</h3>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
数値から曜日名への変換

## 実装要件
- 変数`day`に0〜6の数値を代入
- `switch`文で数値に対応する曜日名を表示
  - 0:「日曜日」、1:「月曜日」...6:「土曜日」
- 無効な値は`default`で「無効な値」と表示
- 各`case`に`break`を記述

## 使用する構文
- `switch`文
- `case`、`break`、`default`
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">switch文の基本</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="keyword">const</span> <span class="variable">day</span> = <span class="number">3</span>;  <span class="comment">// 0=日, 1=月, 2=火, ...</span>

<span class="keyword">switch</span> (<span class="variable">day</span>) {
  <span class="keyword">case</span> <span class="number">0</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"日曜日"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">1</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"月曜日"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">2</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"火曜日"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">3</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"水曜日"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">4</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"木曜日"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">5</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"金曜日"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">6</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"土曜日"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">default</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"無効な値"</span>);
}</code></pre>
            </div>
          </div>
        </div>

        <div class="syntax-box">
          <div class="syntax-box-header">
            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
            <span class="syntax-box-title">構文説明</span>
          </div>
          <div class="syntax-box-content">
            <div class="syntax-item">
              <h4>switch文</h4>
              <div class="syntax-pattern">switch (式) {
  case 値1:
    処理;
    break;
  case 値2:
    処理;
    break;
  default:
    処理;
}</div>
              <p>式の値に応じて複数の分岐を行います。if-else ifの連続より読みやすくなる場合があります。各caseの終わりにbreakを忘れると次のcaseも実行されます（フォールスルー）。</p>
            </div>
          </div>
        </div>

        <div class="info-box warning">
          <div class="info-box-title"><span class="material-icons">warning</span> break を忘れずに！</div>
          <div class="info-box-content">
            <p><code>break</code>を書き忘れると、次の<code>case</code>も実行されてしまいます（フォールスルー）。意図的に使う場合以外は必ず<code>break</code>を入れましょう。</p>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>複数のcaseをまとめる</h3>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
月から季節への変換（フォールスルーの活用）

## 実装要件
- 変数`month`に月の数値を代入
- 複数の`case`をまとめて季節を判定
  - 3, 4, 5月:「春です」
  - 6, 7, 8月:「夏です」
  - 9, 10, 11月:「秋です」
  - 12, 1, 2月:「冬です」
- 無効な月は`default`で「無効な月」と表示

## 使用する構文
- `switch`文のフォールスルー（複数`case`のグループ化）
- `break`、`default`
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">フォールスルーの活用</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="keyword">const</span> <span class="variable">month</span> = <span class="number">4</span>;

<span class="keyword">switch</span> (<span class="variable">month</span>) {
  <span class="keyword">case</span> <span class="number">3</span>:
  <span class="keyword">case</span> <span class="number">4</span>:
  <span class="keyword">case</span> <span class="number">5</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"春です"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">6</span>:
  <span class="keyword">case</span> <span class="number">7</span>:
  <span class="keyword">case</span> <span class="number">8</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"夏です"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">9</span>:
  <span class="keyword">case</span> <span class="number">10</span>:
  <span class="keyword">case</span> <span class="number">11</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"秋です"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="number">12</span>:
  <span class="keyword">case</span> <span class="number">1</span>:
  <span class="keyword">case</span> <span class="number">2</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"冬です"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">default</span>:
    <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"無効な月"</span>);
}</code></pre>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 3-3 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 3-3</span>
        <h2 class="section-title">for ループ</h2>
      </div>

      <div class="intro-text">
        <p>for文は、決まった回数だけ処理を繰り返したい場合に使用します。最もよく使われるループ構文です。</p>
      </div>

      <div class="subsection">
        <h3>for文の構文</h3>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
for文による様々なループパターンの実装

## 実装要件
- パターン1：0から4まで出力（`i < 5`）
- パターン2：1から10まで出力（`i <= 10`）
- パターン3：10から1へカウントダウン（`i--`）
- パターン4：0から10まで偶数のみ出力（`i += 2`）

## 使用する構文
- `for`文（初期化; 条件; 更新）
- インクリメント（`i++`）、デクリメント（`i--`）
- 加算代入（`i += 2`）
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">for文の基本</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="comment">// for (初期化; 条件; 更新) { 処理 }</span>

<span class="comment">// 0から4まで出力</span>
<span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> < <span class="number">5</span>; <span class="variable">i</span>++) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="variable">i</span>);  <span class="comment">// 0, 1, 2, 3, 4</span>
}

<span class="comment">// 1から10まで出力</span>
<span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> = <span class="number">1</span>; <span class="variable">i</span> <= <span class="number">10</span>; <span class="variable">i</span>++) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="variable">i</span>);  <span class="comment">// 1, 2, 3, ... 10</span>
}

<span class="comment">// 10から1までカウントダウン</span>
<span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> = <span class="number">10</span>; <span class="variable">i</span> >= <span class="number">1</span>; <span class="variable">i</span>--) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="variable">i</span>);  <span class="comment">// 10, 9, 8, ... 1</span>
}

<span class="comment">// 2ずつ増加</span>
<span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> <= <span class="number">10</span>; <span class="variable">i</span> += <span class="number">2</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="variable">i</span>);  <span class="comment">// 0, 2, 4, 6, 8, 10</span>
}</code></pre>
            </div>
          </div>
        </div>

        <div class="syntax-box">
          <div class="syntax-box-header">
            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
            <span class="syntax-box-title">構文説明</span>
          </div>
          <div class="syntax-box-content">
            <div class="syntax-item">
              <h4>for文</h4>
              <div class="syntax-pattern">for (初期化; 条件; 更新) {
  処理
}</div>
              <p>指定した回数だけ処理を繰り返します。初期化で変数を設定し、条件がtrueの間ループを続け、各ループ後に更新処理を実行します。配列の処理やカウンターが必要な場面でよく使われます。</p>
            </div>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>配列とforループ</h3>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
配列要素のループ処理（2つの方法）

## 実装要件
- 果物の配列`["りんご", "バナナ", "みかん"]`を作成
- 方法1：インデックスを使ったループ
  - `i`と`fruits[i]`を組み合わせて出力
- 方法2：`for...of`ループ
  - 要素を直接取得して出力

## 使用する構文
- `for`文と`配列.length`
- `for...of`文
- テンプレートリテラル
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">配列の要素を処理する</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="keyword">const</span> <span class="variable">fruits</span> = [<span class="string">"りんご"</span>, <span class="string">"バナナ"</span>, <span class="string">"みかん"</span>];

<span class="comment">// インデックスを使ったループ</span>
<span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> < <span class="variable">fruits</span>.<span class="variable">length</span>; <span class="variable">i</span>++) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">`${<span class="variable">i</span>}: ${<span class="variable">fruits</span>[<span class="variable">i</span>]}`</span>);
}
<span class="comment">// 0: りんご</span>
<span class="comment">// 1: バナナ</span>
<span class="comment">// 2: みかん</span>

<span class="comment">// for...of ループ（要素を直接取得）</span>
<span class="keyword">for</span> (<span class="keyword">const</span> <span class="variable">fruit</span> <span class="keyword">of</span> <span class="variable">fruits</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="variable">fruit</span>);
}
<span class="comment">// りんご</span>
<span class="comment">// バナナ</span>
<span class="comment">// みかん</span></code></pre>
            </div>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>break と continue</h3>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
break/continueによるループ制御

## 実装要件
- `break`の例：
  - 0から9までのループで`i === 5`になったらループ終了
  - 出力：0, 1, 2, 3, 4
- `continue`の例：
  - 0から4までのループで`i === 2`のときだけスキップ
  - 出力：0, 1, 3, 4

## 使用する構文
- `for`文
- `break`（ループ終了）
- `continue`（その回をスキップ）
- `if`文
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">ループの制御</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="comment">// break: ループを途中で終了</span>
<span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> < <span class="number">10</span>; <span class="variable">i</span>++) {
  <span class="keyword">if</span> (<span class="variable">i</span> === <span class="number">5</span>) {
    <span class="keyword">break</span>;  <span class="comment">// ループ終了</span>
  }
  <span class="variable">console</span>.<span class="method">log</span>(<span class="variable">i</span>);  <span class="comment">// 0, 1, 2, 3, 4</span>
}

<span class="comment">// continue: その回だけスキップ</span>
<span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> < <span class="number">5</span>; <span class="variable">i</span>++) {
  <span class="keyword">if</span> (<span class="variable">i</span> === <span class="number">2</span>) {
    <span class="keyword">continue</span>;  <span class="comment">// 2をスキップ</span>
  }
  <span class="variable">console</span>.<span class="method">log</span>(<span class="variable">i</span>);  <span class="comment">// 0, 1, 3, 4</span>
}</code></pre>
            </div>
          </div>
        </div>

        <div class="syntax-box">
          <div class="syntax-box-header">
            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
            <span class="syntax-box-title">構文説明</span>
          </div>
          <div class="syntax-box-content">
            <div class="syntax-item">
              <h4>break</h4>
              <div class="syntax-pattern">if (条件) {
  break;
}</div>
              <p>ループを即座に終了します。特定の条件を満たしたらそれ以上ループを続ける必要がない場合に使用します。switchのcase内でも必須です。</p>
            </div>
            <div class="syntax-item">
              <h4>continue</h4>
              <div class="syntax-pattern">if (条件) {
  continue;
}</div>
              <p>現在のループ回をスキップし、次の繰り返しに進みます。特定の条件の時だけ処理をスキップしたい場合に使用します。ループ自体は終了しません。</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 3-4 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 3-4</span>
        <h2 class="section-title">while ループ</h2>
      </div>

      <div class="intro-text">
        <p>while文は、条件が真である間、処理を繰り返します。繰り返す回数が事前に分からない場合に使用します。</p>
      </div>

      <div class="subsection">
        <h3>while文の構文</h3>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
while文による条件付きループ

## 実装要件
- 基本例：
  - `count`が5未満の間カウントアップして表示
  - ループ内で`count++`を忘れずに記述
- 実践例：
  - サイコロを6が出るまで繰り返し振る
  - 何回目で6が出たかを表示

## 使用する構文
- `while`文
- `Math.random()`、`Math.floor()`
- インクリメント（`++`）
- テンプレートリテラル
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">while文の基本</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="comment">// while (条件) { 処理 }</span>

<span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;

<span class="keyword">while</span> (<span class="variable">count</span> < <span class="number">5</span>) {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="variable">count</span>);  <span class="comment">// 0, 1, 2, 3, 4</span>
  <span class="variable">count</span>++;  <span class="comment">// 忘れると無限ループ！</span>
}

<span class="comment">// 実践例：ランダムな数が出るまで繰り返す</span>
<span class="keyword">let</span> <span class="variable">dice</span>;
<span class="keyword">let</span> <span class="variable">rollCount</span> = <span class="number">0</span>;

<span class="keyword">while</span> (<span class="variable">dice</span> !== <span class="number">6</span>) {
  <span class="variable">dice</span> = <span class="variable">Math</span>.<span class="method">floor</span>(<span class="variable">Math</span>.<span class="method">random</span>() * <span class="number">6</span>) + <span class="number">1</span>;
  <span class="variable">rollCount</span>++;
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">`${<span class="variable">rollCount</span>}回目: ${<span class="variable">dice</span>}`</span>);
}
<span class="variable">console</span>.<span class="method">log</span>(<span class="string">`6が出ました！(${<span class="variable">rollCount</span>}回目)`</span>);</code></pre>
            </div>
          </div>
        </div>

        <div class="info-box warning">
          <div class="info-box-title"><span class="material-icons">warning</span> 無限ループに注意！</div>
          <div class="info-box-content">
            <p>whileの条件が永遠にtrueのままだと、無限ループになりブラウザがフリーズします。条件が必ずfalseになるように、ループ内で変数を更新しましょう。</p>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>do-while文</h3>
        <p>do-while文は、最低1回は処理を実行してから条件を判定します。</p>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
do-while文（最低1回は実行されるループ）

## 実装要件
- 基本例：
  - `num`が5未満の間ループし、0から4まで出力
- 特性を示す例：
  - `x`が10のときに`x < 5`の条件でループ
  - 条件がfalseでも1回は「実行されます」と表示

## 使用する構文
- `do...while`文
- インクリメント（`++`）
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">do-while文</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="comment">// do { 処理 } while (条件);</span>

<span class="keyword">let</span> <span class="variable">num</span> = <span class="number">0</span>;

<span class="keyword">do</span> {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="variable">num</span>);
  <span class="variable">num</span>++;
} <span class="keyword">while</span> (<span class="variable">num</span> < <span class="number">5</span>);
<span class="comment">// 0, 1, 2, 3, 4</span>

<span class="comment">// 条件が最初からfalseでも1回は実行される</span>
<span class="keyword">let</span> <span class="variable">x</span> = <span class="number">10</span>;
<span class="keyword">do</span> {
  <span class="variable">console</span>.<span class="method">log</span>(<span class="string">"実行されます"</span>);  <span class="comment">// 1回実行</span>
} <span class="keyword">while</span> (<span class="variable">x</span> < <span class="number">5</span>);</code></pre>
            </div>
          </div>
        </div>

        <div class="syntax-box">
          <div class="syntax-box-header">
            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
            <span class="syntax-box-title">構文説明</span>
          </div>
          <div class="syntax-box-content">
            <div class="syntax-item">
              <h4>while文</h4>
              <div class="syntax-pattern">while (条件式) {
  処理
}</div>
              <p>条件式がtrueの間、処理を繰り返します。条件が最初からfalseなら一度も実行されません。無限ループを避けるため、ループ内で条件がfalseになるよう変数を更新する必要があります。</p>
            </div>
            <div class="syntax-item">
              <h4>do-while文</h4>
              <div class="syntax-pattern">do {
  処理
} while (条件式);</div>
              <p>最低1回は処理を実行してから条件を判定します。条件がfalseでも必ず1回は実行されるため、ユーザー入力の検証などに適しています。</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 3-5 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 3-5</span>
        <h2 class="section-title">配列の基礎</h2>
      </div>

      <div class="intro-text">
        <p>配列は、複数の値をまとめて管理するためのデータ構造です。要素の追加、削除、検索など様々な操作ができます。</p>
      </div>

      <div class="subsection">
        <h3>配列の作成とアクセス</h3>

        <!-- SVG配列イメージ -->
        <div class="demo-area" style="padding: 20px; overflow-x: auto;">
          <svg viewBox="0 0 600 120" style="min-width: 500px; width: 100%; height: auto;">
            <text x="30" y="30" font-size="14" font-weight="bold" fill="#1e293b">配列: fruits</text>

            <!-- インデックス -->
            <text x="120" y="50" text-anchor="middle" font-size="12" fill="#64748b">0</text>
            <text x="220" y="50" text-anchor="middle" font-size="12" fill="#64748b">1</text>
            <text x="320" y="50" text-anchor="middle" font-size="12" fill="#64748b">2</text>
            <text x="420" y="50" text-anchor="middle" font-size="12" fill="#64748b">3</text>

            <!-- 配列の箱 -->
            <rect x="70" y="60" width="100" height="40" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
            <text x="120" y="85" text-anchor="middle" font-size="13" fill="#1e293b">"りんご"</text>

            <rect x="170" y="60" width="100" height="40" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
            <text x="220" y="85" text-anchor="middle" font-size="13" fill="#1e293b">"バナナ"</text>

            <rect x="270" y="60" width="100" height="40" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
            <text x="320" y="85" text-anchor="middle" font-size="13" fill="#1e293b">"みかん"</text>

            <rect x="370" y="60" width="100" height="40" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
            <text x="420" y="85" text-anchor="middle" font-size="13" fill="#1e293b">"ぶどう"</text>

            <text x="520" y="85" font-size="12" fill="#64748b">length: 4</text>
          </svg>
        </div>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
配列の作成と基本操作

## 実装要件
- 配列の作成：`["りんご", "バナナ", "みかん"]`
- インデックスでのアクセス（0から開始）
- `length`プロパティで配列の長さを取得
- 最後の要素の取得（`array[array.length - 1]`）
- 要素の変更（`array[1] = "メロン"`）

## 使用する構文
- 配列リテラル（`[]`）
- インデックスアクセス（`array[0]`）
- `length`プロパティ
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">配列の基本操作</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="comment">// 配列の作成</span>
<span class="keyword">const</span> <span class="variable">fruits</span> = [<span class="string">"りんご"</span>, <span class="string">"バナナ"</span>, <span class="string">"みかん"</span>];
<span class="keyword">const</span> <span class="variable">numbers</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];
<span class="keyword">const</span> <span class="variable">empty</span> = [];  <span class="comment">// 空の配列</span>

<span class="comment">// 要素へのアクセス（インデックスは0から）</span>
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">fruits</span>[<span class="number">0</span>]);  <span class="comment">// "りんご"</span>
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">fruits</span>[<span class="number">1</span>]);  <span class="comment">// "バナナ"</span>
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">fruits</span>[<span class="number">2</span>]);  <span class="comment">// "みかん"</span>

<span class="comment">// 配列の長さ</span>
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">fruits</span>.<span class="variable">length</span>);  <span class="comment">// 3</span>

<span class="comment">// 最後の要素を取得</span>
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">fruits</span>[<span class="variable">fruits</span>.<span class="variable">length</span> - <span class="number">1</span>]);  <span class="comment">// "みかん"</span>

<span class="comment">// 要素の変更</span>
<span class="variable">fruits</span>[<span class="number">1</span>] = <span class="string">"メロン"</span>;
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">fruits</span>);  <span class="comment">// ["りんご", "メロン", "みかん"]</span></code></pre>
            </div>
          </div>
        </div>

        <div class="syntax-box">
          <div class="syntax-box-header">
            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
            <span class="syntax-box-title">構文説明</span>
          </div>
          <div class="syntax-box-content">
            <div class="syntax-item">
              <h4>配列宣言</h4>
              <div class="syntax-pattern">const 配列名 = [要素1, 要素2, 要素3];</div>
              <p>複数の値をまとめて格納するデータ構造です。角括弧[]で囲み、要素をカンマで区切ります。異なる型の値を混在させることも可能です。</p>
            </div>
            <div class="syntax-item">
              <h4>配列アクセス</h4>
              <div class="syntax-pattern">配列名[インデックス]</div>
              <p>インデックス（添え字）は0から始まります。配列名[0]で最初の要素、配列名[配列名.length - 1]で最後の要素にアクセスできます。</p>
            </div>
            <div class="syntax-item">
              <h4>push() / pop()</h4>
              <div class="syntax-pattern">配列名.push(値) / 配列名.pop()</div>
              <p>push()は配列の末尾に要素を追加し、pop()は末尾の要素を削除して返します。両メソッドとも元の配列を変更します。</p>
            </div>
            <div class="syntax-item">
              <h4>length</h4>
              <div class="syntax-pattern">配列名.length</div>
              <p>配列の要素数を返すプロパティです。ループ処理の条件や、最後の要素へのアクセスによく使用されます。</p>
            </div>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>配列の操作メソッド</h3>

        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>メソッド</th>
                <th>説明</th>
                <th>例</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>push()</code></td>
                <td>末尾に追加</td>
                <td><code>arr.push("新要素")</code></td>
              </tr>
              <tr>
                <td><code>pop()</code></td>
                <td>末尾から削除</td>
                <td><code>arr.pop()</code></td>
              </tr>
              <tr>
                <td><code>unshift()</code></td>
                <td>先頭に追加</td>
                <td><code>arr.unshift("新要素")</code></td>
              </tr>
              <tr>
                <td><code>shift()</code></td>
                <td>先頭から削除</td>
                <td><code>arr.shift()</code></td>
              </tr>
              <tr>
                <td><code>includes()</code></td>
                <td>要素が含まれるか</td>
                <td><code>arr.includes("値")</code></td>
              </tr>
              <tr>
                <td><code>indexOf()</code></td>
                <td>要素のインデックス</td>
                <td><code>arr.indexOf("値")</code></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
配列操作メソッドによるタスクリスト管理

## 実装要件
- タスク配列`["買い物", "掃除"]`を作成
- `push()`で「料理」を末尾に追加
- `unshift()`で「洗濯」を先頭に追加
- `pop()`で末尾の要素を削除（戻り値を確認）
- `includes()`で「買い物」が含まれるか検索
- `indexOf()`で「掃除」のインデックスを取得

## 使用する構文
- `push()`、`pop()`（末尾操作）
- `unshift()`（先頭追加）
- `includes()`（要素検索、真偽値を返す）
- `indexOf()`（インデックス取得）
- `console.log()`</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">配列操作の実践</span>
          </div>
          <div class="demo-body">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="keyword">const</span> <span class="variable">tasks</span> = [<span class="string">"買い物"</span>, <span class="string">"掃除"</span>];

<span class="comment">// 末尾に追加</span>
<span class="variable">tasks</span>.<span class="method">push</span>(<span class="string">"料理"</span>);
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">tasks</span>);  <span class="comment">// ["買い物", "掃除", "料理"]</span>

<span class="comment">// 先頭に追加</span>
<span class="variable">tasks</span>.<span class="method">unshift</span>(<span class="string">"洗濯"</span>);
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">tasks</span>);  <span class="comment">// ["洗濯", "買い物", "掃除", "料理"]</span>

<span class="comment">// 末尾から削除</span>
<span class="keyword">const</span> <span class="variable">removed</span> = <span class="variable">tasks</span>.<span class="method">pop</span>();
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">removed</span>);  <span class="comment">// "料理"</span>
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">tasks</span>);    <span class="comment">// ["洗濯", "買い物", "掃除"]</span>

<span class="comment">// 要素の検索</span>
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">tasks</span>.<span class="method">includes</span>(<span class="string">"買い物"</span>));  <span class="comment">// true</span>
<span class="variable">console</span>.<span class="method">log</span>(<span class="variable">tasks</span>.<span class="method">indexOf</span>(<span class="string">"掃除"</span>));    <span class="comment">// 2</span></code></pre>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 3-6 実習 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 3-6</span>
        <h2 class="section-title">実習：おみくじアプリ</h2>
      </div>

      <div class="intro-text">
        <p>この章で学んだ条件分岐と乱数を使って、おみくじアプリを作成しましょう。運勢に応じて結果と背景色が変わります。</p>
      </div>

      <div class="subsection">
        <h3>完成イメージ</h3>
        <div class="demo-area" style="padding: 20px;">
          <div id="omikuji-demo" style="max-width: 350px; margin: 0 auto; background: #667eea; padding: 30px; border-radius: 16px; text-align: center; color: white;">
            <h2 style="margin-bottom: 20px; font-size: 24px;">おみくじ</h2>
            <div id="omikuji-result" style="font-size: 48px; margin: 20px 0;">🎍</div>
            <div id="omikuji-text" style="font-size: 24px; margin-bottom: 20px;">運勢を占おう</div>
            <button onclick="drawOmikuji()" style="padding: 12px 32px; font-size: 18px; background: white; color: #764ba2; border: none; border-radius: 30px; cursor: pointer; font-weight: bold;">おみくじを引く</button>
          </div>
        </div>

        <script>
          function drawOmikuji() {
            const random = Math.random() * 100;
            let result, emoji, bgColor;

            if (random < 10) {
              result = "大吉"; emoji = "🎊"; bgColor = "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)";
            } else if (random < 30) {
              result = "中吉"; emoji = "🌸"; bgColor = "linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)";
            } else if (random < 55) {
              result = "小吉"; emoji = "🌷"; bgColor = "linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)";
            } else if (random < 85) {
              result = "吉"; emoji = "🍀"; bgColor = "linear-gradient(135deg, #fa709a 0%, #fee140 100%)";
            } else {
              result = "凶"; emoji = "💧"; bgColor = "linear-gradient(135deg, #a8c0ff 0%, #3f2b96 100%)";
            }

            const container = document.getElementById('omikuji-demo');
            const resultEl = document.getElementById('omikuji-result');
            const textEl = document.getElementById('omikuji-text');

            container.style.background = bgColor;
            resultEl.textContent = emoji;
            textEl.textContent = result;

            resultEl.style.animation = 'none';
            resultEl.offsetHeight;
            resultEl.style.animation = 'bounce 0.5s ease';
          }
        </script>
        <style>
          @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
          }
        </style>
      </div>

      <div class="subsection">
        <h3>実装コード</h3>

        <div class="prompt-box">
          <div class="prompt-box-header">
            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
            <span class="prompt-box-title">プロンプト</span>
            <button class="prompt-copy-btn">コピー</button>
          </div>
          <div class="prompt-box-content">
            <pre><code>## 機能
おみくじアプリの作成

## 実装要件
- ボタンクリックで運勢を決定
- `Math.random() * 100`で0〜100の乱数を生成
- `if-else if`文で確率判定：
  - 0-10%：大吉
  - 10-30%：中吉
  - 30-55%：小吉
  - 55-85%：吉
  - 85-100%：凶
- 運勢ごとに絵文字と背景グラデーションを設定
- 結果表示時にバウンスアニメーションを適用

## 使用する構文
- `Math.random()`
- `if-else if-else`文
- `document.getElementById()`
- `element.style.background`、`element.textContent`
- `classList.add()`/`classList.remove()`
- CSSアニメーション（`@keyframes`）</code></pre>
          </div>
        </div>

        <div class="demo-container">
          <div class="demo-header">
            <span class="demo-title">omikuji.html</span>
          </div>
          <div class="demo-body vertical">
            <div class="demo-code-section">
              <div class="demo-code-header">
                <span class="demo-code-lang">HTML + JavaScript</span>
                <button class="demo-copy-btn">コピー</button>
              </div>
              <pre class="demo-code-content"><code><span class="tag">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;html</span> <span class="attr">lang</span>=<span class="value">"ja"</span><span class="tag">&gt;</span>
<span class="tag">&lt;head&gt;</span>
  <span class="tag">&lt;meta</span> <span class="attr">charset</span>=<span class="value">"UTF-8"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;meta</span> <span class="attr">name</span>=<span class="value">"viewport"</span> <span class="attr">content</span>=<span class="value">"width=device-width, initial-scale=1.0"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;title&gt;</span>おみくじアプリ<span class="tag">&lt;/title&gt;</span>
  <span class="tag">&lt;style&gt;</span>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #f0f0f0;
      font-family: sans-serif;
    }
    .omikuji-container {
      background: #667eea;
      padding: 40px;
      border-radius: 20px;
      text-align: center;
      color: white;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
      transition: background 0.5s ease;
    }
    .title { font-size: 28px; margin-bottom: 20px; }
    .result-emoji {
      font-size: 80px;
      margin: 20px 0;
      transition: transform 0.3s ease;
    }
    .result-text { font-size: 36px; font-weight: bold; margin-bottom: 30px; }
    .draw-btn {
      padding: 15px 40px;
      font-size: 18px;
      background: white;
      color: #764ba2;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .draw-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    }
    .draw-btn:active { transform: scale(0.98); }
    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    .bounce { animation: bounce 0.5s ease; }
  <span class="tag">&lt;/style&gt;</span>
<span class="tag">&lt;/head&gt;</span>
<span class="tag">&lt;body&gt;</span>
  <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="value">"omikuji-container"</span> <span class="attr">id</span>=<span class="value">"container"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;h1</span> <span class="attr">class</span>=<span class="value">"title"</span><span class="tag">&gt;</span>おみくじ<span class="tag">&lt;/h1&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="value">"result-emoji"</span> <span class="attr">id</span>=<span class="value">"emoji"</span><span class="tag">&gt;</span>🎍<span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="value">"result-text"</span> <span class="attr">id</span>=<span class="value">"result"</span><span class="tag">&gt;</span>運勢を占おう<span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;button</span> <span class="attr">class</span>=<span class="value">"draw-btn"</span> <span class="attr">onclick</span>=<span class="value">"drawOmikuji()"</span><span class="tag">&gt;</span>おみくじを引く<span class="tag">&lt;/button&gt;</span>
  <span class="tag">&lt;/div&gt;</span>

  <span class="tag">&lt;script&gt;</span>
    <span class="keyword">function</span> <span class="method">drawOmikuji</span>() {
      <span class="comment">// 0〜100のランダムな数を生成</span>
      <span class="keyword">const</span> <span class="variable">random</span> = <span class="variable">Math</span>.<span class="method">random</span>() * <span class="number">100</span>;

      <span class="comment">// 結果を格納する変数</span>
      <span class="keyword">let</span> <span class="variable">result</span>, <span class="variable">emoji</span>, <span class="variable">bgColor</span>;

      <span class="comment">// 確率に応じて運勢を決定</span>
      <span class="comment">// 大吉: 10%, 中吉: 20%, 小吉: 25%, 吉: 30%, 凶: 15%</span>
      <span class="keyword">if</span> (<span class="variable">random</span> < <span class="number">10</span>) {
        <span class="variable">result</span> = <span class="string">"大吉"</span>;
        <span class="variable">emoji</span> = <span class="string">"🎊"</span>;
        <span class="variable">bgColor</span> = <span class="string">"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"</span>;
      } <span class="keyword">else if</span> (<span class="variable">random</span> < <span class="number">30</span>) {
        <span class="variable">result</span> = <span class="string">"中吉"</span>;
        <span class="variable">emoji</span> = <span class="string">"🌸"</span>;
        <span class="variable">bgColor</span> = <span class="string">"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"</span>;
      } <span class="keyword">else if</span> (<span class="variable">random</span> < <span class="number">55</span>) {
        <span class="variable">result</span> = <span class="string">"小吉"</span>;
        <span class="variable">emoji</span> = <span class="string">"🌷"</span>;
        <span class="variable">bgColor</span> = <span class="string">"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"</span>;
      } <span class="keyword">else if</span> (<span class="variable">random</span> < <span class="number">85</span>) {
        <span class="variable">result</span> = <span class="string">"吉"</span>;
        <span class="variable">emoji</span> = <span class="string">"🍀"</span>;
        <span class="variable">bgColor</span> = <span class="string">"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"</span>;
      } <span class="keyword">else</span> {
        <span class="variable">result</span> = <span class="string">"凶"</span>;
        <span class="variable">emoji</span> = <span class="string">"💧"</span>;
        <span class="variable">bgColor</span> = <span class="string">"linear-gradient(135deg, #a8c0ff 0%, #3f2b96 100%)"</span>;
      }

      <span class="comment">// DOM要素を取得</span>
      <span class="keyword">const</span> <span class="variable">container</span> = <span class="variable">document</span>.<span class="method">getElementById</span>(<span class="string">'container'</span>);
      <span class="keyword">const</span> <span class="variable">emojiEl</span> = <span class="variable">document</span>.<span class="method">getElementById</span>(<span class="string">'emoji'</span>);
      <span class="keyword">const</span> <span class="variable">resultEl</span> = <span class="variable">document</span>.<span class="method">getElementById</span>(<span class="string">'result'</span>);

      <span class="comment">// 結果を表示</span>
      <span class="variable">container</span>.<span class="variable">style</span>.<span class="variable">background</span> = <span class="variable">bgColor</span>;
      <span class="variable">emojiEl</span>.<span class="variable">textContent</span> = <span class="variable">emoji</span>;
      <span class="variable">resultEl</span>.<span class="variable">textContent</span> = <span class="variable">result</span>;

      <span class="comment">// アニメーションを適用</span>
      <span class="variable">emojiEl</span>.<span class="variable">classList</span>.<span class="method">remove</span>(<span class="string">'bounce'</span>);
      <span class="variable">emojiEl</span>.<span class="variable">offsetHeight</span>;  <span class="comment">// リフロー強制</span>
      <span class="variable">emojiEl</span>.<span class="variable">classList</span>.<span class="method">add</span>(<span class="string">'bounce'</span>);
    }
  <span class="tag">&lt;/script&gt;</span>
<span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
            </div>
          </div>
        </div>

        <div class="info-box">
          <div class="info-box-title"><span class="material-icons">lightbulb</span> 学習ポイント</div>
          <div class="info-box-content">
            <ul>
              <li><strong>Math.random()</strong>：0以上1未満のランダムな小数を生成</li>
              <li><strong>if-else if連鎖</strong>：複数の条件を順番に判定</li>
              <li><strong>classList操作</strong>：CSSクラスの追加・削除でアニメーション</li>
              <li><strong>確率の設計</strong>：累積確率で範囲を決定</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- 練習問題 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">練習問題</span>
        <h2 class="section-title">Chapter 3 練習問題</h2>
      </div>

      <div class="exercise-list">
        <div class="exercise-item">
          <div class="exercise-number">Q1</div>
          <div class="exercise-content">
            <p>点数（0〜100）を受け取り、以下の評価を返すプログラムを作成してください。</p>
            <ul>
              <li>90以上: A</li>
              <li>80以上: B</li>
              <li>70以上: C</li>
              <li>60以上: D</li>
              <li>60未満: F</li>
            </ul>
          </div>
        </div>

        <div class="exercise-item">
          <div class="exercise-number">Q2</div>
          <div class="exercise-content">
            <p>forループを使って、1から100までの整数の合計を計算してください。</p>
          </div>
        </div>

        <div class="exercise-item">
          <div class="exercise-number">Q3</div>
          <div class="exercise-content">
            <p>配列 <code>["月", "火", "水", "木", "金", "土", "日"]</code> を使って、各曜日に「曜日」を付けて出力してください。</p>
            <p>期待される出力: 月曜日, 火曜日, ... 日曜日</p>
          </div>
        </div>

        <div class="exercise-item">
          <div class="exercise-number">Q4</div>
          <div class="exercise-content">
            <p>FizzBuzz問題：1から30までの数を出力し、3の倍数なら「Fizz」、5の倍数なら「Buzz」、両方の倍数なら「FizzBuzz」と出力してください。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- 解答 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">解答</span>
        <h2 class="section-title">練習問題の解答</h2>
      </div>

      <div class="answer-list">
        <div class="answer-item">
          <div class="answer-header">Q1の解答</div>
          <div class="answer-content">
            <div class="code-block">
              <div class="code-content">
<pre><code>function getGrade(score) {
  if (score >= 90) {
    return "A";
  } else if (score >= 80) {
    return "B";
  } else if (score >= 70) {
    return "C";
  } else if (score >= 60) {
    return "D";
  } else {
    return "F";
  }
}

console.log(getGrade(85)); // "B"</code></pre>
              </div>
            </div>
          </div>
        </div>

        <div class="answer-item">
          <div class="answer-header">Q2の解答</div>
          <div class="answer-content">
            <div class="code-block">
              <div class="code-content">
<pre><code>let sum = 0;
for (let i = 1; i <= 100; i++) {
  sum += i;
}
console.log(sum); // 5050</code></pre>
              </div>
            </div>
          </div>
        </div>

        <div class="answer-item">
          <div class="answer-header">Q3の解答</div>
          <div class="answer-content">
            <div class="code-block">
              <div class="code-content">
<pre><code>const days = ["月", "火", "水", "木", "金", "土", "日"];

for (const day of days) {
  console.log(day + "曜日");
}
// または
days.forEach(day => console.log(`${day}曜日`));</code></pre>
              </div>
            </div>
          </div>
        </div>

        <div class="answer-item">
          <div class="answer-header">Q4の解答</div>
          <div class="answer-content">
            <div class="code-block">
              <div class="code-content">
<pre><code>for (let i = 1; i <= 30; i++) {
  if (i % 15 === 0) {
    console.log("FizzBuzz");
  } else if (i % 3 === 0) {
    console.log("Fizz");
  } else if (i % 5 === 0) {
    console.log("Buzz");
  } else {
    console.log(i);
  }
}</code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- ページナビゲーション -->
  <div class="page-nav">
    <a href="2js-basics.html" class="page-nav-btn prev">
      <div class="page-nav-label">前へ</div>
      <div class="page-nav-title">JavaScript基礎文法</div>
    </a>
    <a href="4js-functions.html" class="page-nav-btn next">
      <div class="page-nav-label">次へ</div>
      <div class="page-nav-title">関数</div>
    </a>
  </div>

  <footer class="footer">
    <p>JavaScript入門 - 職業訓練校教材</p>
  </footer>

  <script src="../shared/demo.js"></script>
</body>
</html>
