<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>第5章: 関数（function） - JavaScript入門</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../shared/common.css">
  <style>
    :root {
      --primary: #F7DF1E;
      --primary-dark: #C9B617;
      --primary-light: #FFFDE7;
      --primary-lighter: #FFF9C4;
    }
    .nav-category-links { display: none; }
  </style>
</head>
<body>
  <nav class="global-nav"></nav>
  <script src="../shared/js/nav-javascript.js"></script>

  <div class="container">
    <!-- チャプターヘッダー -->
    <header class="chapter-header">
      <div class="chapter-badge">JavaScript超入門</div>
      <div class="chapter-number">5</div>
      <h1 class="chapter-title">関数（function）</h1>
      <p class="chapter-subtitle">コードをまとめて使い回す 〜「動きをまとめて再利用する」〜</p>
    </header>

    <!-- 目次 -->
    <nav class="toc">
      <h2 class="toc-title">この章の内容</h2>
      <ul class="toc-list">
        <li class="toc-item"><span class="toc-number">1</span>関数とは？</li>
        <li class="toc-item"><span class="toc-number">2</span>関数の基本構文</li>
        <li class="toc-item"><span class="toc-number">3</span>「関数」は料理のレシピのようなもの</li>
        <li class="toc-item"><span class="toc-number">4</span>引数（ひきすう）を使ってみよう</li>
        <li class="toc-item"><span class="toc-number">5</span>return（結果を返す）</li>
        <li class="toc-item"><span class="toc-number">6</span>関数をHTMLから使う</li>
        <li class="toc-item"><span class="toc-number">7</span>関数の名前のつけ方</li>
        <li class="toc-item"><span class="toc-number">8</span>関数とfor文を組み合わせる</li>
        <li class="toc-item"><span class="toc-number">9</span>アロー関数（ES6の書き方）</li>
        <li class="toc-item"><span class="toc-number">10</span>引数がない場合もOK</li>
        <li class="toc-item"><span class="toc-number">11</span>関数の中で関数を呼ぶ</li>
        <li class="toc-item"><span class="toc-number">12</span>まとめ</li>
        <li class="toc-item"><span class="toc-number">13</span>練習問題</li>
      </ul>
    </nav>

    <!-- Section 1 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 1</span>
        <h2 class="section-title">関数とは？</h2>
      </div>

      <div class="intro-text">
        <p>プログラムの中で、「同じ動きを何度も使いたい」というときに、処理を使いまわせる便利な仕組みがあります。それが「<strong>関数（function）</strong>」です！</p>
      </div>

      <div class="subsection">
        <p>関数は「命令のまとまり」に名前をつけて保存しておく仕組みです。一連の処理をまとめて一度登録しておくだけで、同じ処理を、いつでもどこでも呼び出すことが出来ます。</p>

        <p>日常で考えてみましょう。たとえば、スーパーやコンビニのレジを想像してみます。レジは、関数の塊です。</p>

        <p>レジがなかったら、商品のお合計金額をひとつずつ電卓で計算し、お金をもらってお釣りをまた計算して返します。毎回、考えながら、間違えないように、手早くやらなければいけません。</p>

        <p>これがレジだと……</p>
        <ul>
          <li>商品を登録すると、「自動的に計算して合計金額を出します」</li>
          <li>頂いたお金を登録すると「自動的に計算して差額を算出します」</li>
          <li>セルフレジ系なら「お金の種類を選別して、自動的に排出します」</li>
        </ul>

        <p>誰がやっても、ボタンひとつですべて完結します。このボタンひとつの操作に、決まった一連の処理の流れが詰め込まれています。こうした「処理の塊」が関数です。</p>
      </div>
    </section>

    <!-- Section 2 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 2</span>
        <h2 class="section-title">関数の基本構文</h2>
      </div>

      <div class="subsection">
        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">JavaScript</span>
          </div>
          <div class="code-content">
            <pre>function 関数名() {
  実行したい処理;
}</pre>
          </div>
        </div>

        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>部分</th>
                <th>説明</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>function</td>
                <td>関数を作るときに必ず書く宣言文、変数で言うところのletと同じ意味合い</td>
              </tr>
              <tr>
                <td>関数名</td>
                <td>関数の名前。自分でわかりやすい名前をつける</td>
              </tr>
              <tr>
                <td>{ ... }</td>
                <td>この中に実行したい処理（命令）を書く</td>
              </tr>
            </tbody>
          </table>
        </div>

        <p>呼び出すとき（関数を使いたいとき）は：</p>
        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">JavaScript</span>
          </div>
          <div class="code-content">
            <pre>関数名();</pre>
          </div>
        </div>

        <p>関数を呼び出すときは、関数名のあとに () をつけて実行します。() の中に値を入れると、関数にデータを渡すこともできます（これを引数といいます）</p>

        <h4>デベロッパーツールのコンソールに書いてみよう↓↓</h4>
        <p><strong>例1：あいさつをする関数</strong></p>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">JavaScript</span>
          </div>
          <div class="code-content">
            <pre>function sayHello() {
  console.log("こんにちは！");
}

sayHello();
sayHello();</pre>
          </div>
        </div>

        <p><strong>結果：</strong></p>
        <pre>こんにちは！
こんにちは！</pre>

        <ol>
          <li><code>function …… </code>で関数を定義（処理の塊を名前付きで作る）</li>
          <li><code>sayHello()</code> で、作った関数を呼び出す</li>
        </ol>
      </div>
    </section>

    <!-- Section 3 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 3</span>
        <h2 class="section-title">「関数」は料理のレシピのようなもの</h2>
      </div>

      <div class="subsection">
        <p>関数は「材料を渡して、加工する」という、料理のレシピのような考え方ができます。先ほどの関数 sayHello のように、材料を渡さなくても処理を実行することもできますが、材料を渡して、その材料を使って加工した処理を行う関数も作れます。この材料はプログラミングで「<strong>引数（ひきすう）</strong>」と呼ばれます。</p>

        <p>例えばこんな感じ：</p>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>レシピ名(関数名)</th>
                <th>材料(引数)</th>
                <th>作るもの(処理結果)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>sayHello</td>
                <td>（なし）</td>
                <td>あいさつ文</td>
              </tr>
              <tr>
                <td>add</td>
                <td>数字2つ</td>
                <td>計算結果</td>
              </tr>
              <tr>
                <td>greet</td>
                <td>名前</td>
                <td>名前を使ったメッセージ</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Section 4 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4</span>
        <h2 class="section-title">引数（ひきすう）を使ってみよう</h2>
      </div>

      <div class="subsection">
        <p>材料を渡すことを、「関数にデータを渡す」や「関数に引数を渡す」と言います。引数を使った関数の書き方は以下のようになります。</p>

        <p><strong>例2：名前を使ってあいさつ</strong></p>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">JavaScript</span>
          </div>
          <div class="code-content">
            <pre>function greet(name) {  // name が引数を受け取る変数
  console.log("こんにちは、" + name + "さん！");
}

greet("たろう");    // たろう、が引数
greet("はなこ");    // はなこ、が引数</pre>
          </div>
        </div>

        <p><strong>結果：</strong></p>
        <pre>こんにちは、たろうさん！
こんにちは、はなこさん！</pre>

        <div class="info-box">
          <div class="info-box-title">POINT</div>
          <div class="info-box-content">
            <ol>
              <li>関数の呼び出しのときに、( )の中に渡したい値を入れる<br>└─ <code>greet("たろう");</code></li>
              <li>関数の定義(function ...)のときに、( )の中に、渡された引数を受け取れる箱(変数)を用意する<br>└─ <code>function greet(name)</code></li>
              <li>処理の中で、変数を書いて実際に渡された材料を使う<br>└─ <code>"こんにちは、" + name + "さん！"</code></li>
            </ol>
            <p>これによって、同じ処理でも状況や場面によって柔軟に使いまわせる仕組みが出来上がります。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 5 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 5</span>
        <h2 class="section-title">return（結果を返す）</h2>
      </div>

      <div class="subsection">
        <p>先ほどまでの処理は、関数の中の処理を実行して終了していました。ですが、場合によっては関数の行った処理の結果を利用して、さらに発展した処理をしたい場合もあります。</p>

        <p>そんなときに関数は「処理した結果を返す」、ということが出来ます。それを可能にするのが「<strong>return文</strong>」という構文です。</p>

        <div class="highlight-box">
          <h4>日常に置き換えたイメージ</h4>
          <ul>
            <li><strong>return なしの関数</strong> ⇒ ○○さん、この仕事やっておいてーと頼んだだけ（処理されるだけで放置）</li>
            <li><strong>return ありの関数</strong> ⇒ ○○さん、この仕事やって結果を報告して ⇒ こうなりました！ ⇒ 結果を基に報告書作成</li>
          </ul>
        </div>

        <p><strong>例3：2つの数を足す関数</strong></p>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">JavaScript</span>
          </div>
          <div class="code-content">
            <pre>function add(a, b) {
  return a + b;
}

let result = add(5, 3);
console.log("計算されて、関数addから返ってきた値は「" + result + "」です。");</pre>
          </div>
        </div>

        <p><strong>結果：</strong>計算されて、関数addから返ってきた値は「8」です。</p>

        <p><code>return</code> は「結果を戻す」命令。1度でもこの命令を読み込むと、その時 return に渡された結果を呼び出し元に返して、関数は処理を終了します。</p>

        <p>上記例文では a + b の計算した結果 = 8 を、return で 、呼び出し元の「add(5, 3)」に返しています。その結果、add関数の処理終了後には、let result = 8 という形になり、変数result の中身は 8 になった、ということです。</p>

        <div class="info-box">
          <div class="info-box-title">引数・returnのルール</div>
          <div class="info-box-content">
            <ul>
              <li>引数を受けとる関数を作ったら、呼び出すときに引数を渡さないとエラーになる</li>
              <li>逆に、引数を受け取る必要のない関数に、引数を渡してもエラーになる</li>
              <li>複数の引数を受け渡したい場合はカンマで区切る（add(3, 5)、function add(num1, num2)など）</li>
              <li>引数の受け渡しは、書いた順番通りに変数に入っていく</li>
              <li>return は計算式でも、変数でも返せる（計算式は、計算した結果を返す）</li>
              <li>returnは2つ以上の値を返すことができない（配列は可能）</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 6 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 6</span>
        <h2 class="section-title">関数をHTMLから使う</h2>
      </div>

      <div class="intro-text">
        <p>JavaScriptの関数は、HTMLと連動させることができます。</p>
        <p><strong>ファイル：Chapter_5-6 \ index.html</strong></p>
      </div>

      <div class="subsection">
        <p><strong>例4：ボタンで動く関数</strong></p>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">HTML</span>
          </div>
          <div class="code-content">
            <pre>&lt;!DOCTYPE html&gt;
&lt;html lang="ja"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;関数の練習&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;button onclick="sayHello()"&gt;あいさつする&lt;/button&gt;

  &lt;script&gt;
    function sayHello() {
      alert("こんにちは！");
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
          </div>
        </div>

        <p><strong>結果：</strong>「こんにちは！」というポップアップが、画面上部に表示される</p>

        <p><strong>解説：</strong>&lt;button&gt; タグの中の <code>onclick</code>は「クリックされたときに、="…"の中に書いてある関数を実行する」という機能。ボタンを押すと sayHello()関数 が動き、「こんにちは！」がポップアップされます。</p>
      </div>
    </section>

    <!-- Section 7 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 7</span>
        <h2 class="section-title">関数の名前のつけ方</h2>
      </div>

      <div class="subsection">
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>コツ</th>
                <th>説明</th>
                <th>例</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>意味のわかる名前にする</td>
                <td>何をする関数かわかるように</td>
                <td>submitForm()</td>
              </tr>
              <tr>
                <td>動詞＋名詞で表す</td>
                <td>「何をどうするか」が伝わる</td>
                <td>showMessage(), addScore()</td>
              </tr>
              <tr>
                <td>キャメルケースを使う</td>
                <td>小文字ではじめ、次の単語の頭を大文字に</td>
                <td>getUserName()</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Section 8 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 8</span>
        <h2 class="section-title">関数とfor文を組み合わせる</h2>
      </div>

      <div class="subsection">
        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">JavaScript</span>
          </div>
          <div class="code-content">
            <pre>function repeatHello(times) {
  for (let i = 1; i <= times; i++) {
    console.log(i + "回目：こんにちは！");
  }
}

repeatHello(3);</pre>
          </div>
        </div>

        <p><strong>結果：</strong></p>
        <pre>1回目：こんにちは！
2回目：こんにちは！
3回目：こんにちは！</pre>

        <p><strong>ループ＋関数＝「同じ動きを何度でも実行できる便利な仕組み」</strong></p>
        <p>ループでくり返しを作り、関数でまとめることで、同じ動きを何度でも実行できます。</p>
      </div>
    </section>

    <!-- Section 9 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 9</span>
        <h2 class="section-title">アロー関数（ES6の書き方）</h2>
      </div>

      <div class="subsection">
        <p>最近のJavaScriptでは、より短く書ける <strong>アロー関数</strong> が主流です。</p>

        <p><strong>例5：同じ動きを短く！</strong></p>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">JavaScript</span>
          </div>
          <div class="code-content">
            <pre>// 通常
function greet(name) {
  return "こんにちは、" + name + "さん！";
}
console.log(greet("さくら"));

// アロー関数
const greet2 = (name) => "こんにちは、" + name + "さん！";
console.log(greet2("さくら"));</pre>
          </div>
        </div>

        <p><strong>結果：</strong></p>
        <pre>こんにちは、さくらさん！
こんにちは、さくらさん！</pre>

        <p>アロー関数は、短い処理を簡潔に書ける便利な書き方です。コードが読みやすくなるため、Vue.js や React などのモダン開発で広く使われています。</p>

        <div class="info-box">
          <div class="info-box-title">POINT</div>
          <div class="info-box-content">
            <ul>
              <li>上記のように関数は、変数に入れることができます（関数式と呼ぶ、呼び出し方は一緒）</li>
              <li>通常処理をアロー関数で使用する場合は、関数式でなければいけません</li>
              <li>関数式の場合は、関数の定義を必ず先に行う必要があります（呼び出しより後にするとエラー）</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 10 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 10</span>
        <h2 class="section-title">引数がない場合もOK</h2>
      </div>

      <div class="subsection">
        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">JavaScript</span>
          </div>
          <div class="code-content">
            <pre>const showTime = () => {
  let now = new Date();
  console.log("現在時刻：" + now.toLocaleTimeString());
};

showTime();</pre>
          </div>
        </div>

        <p><strong>結果：</strong>現在時刻：12:34:56</p>
      </div>
    </section>

    <!-- Section 11 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 11</span>
        <h2 class="section-title">関数の中で関数を呼ぶ</h2>
      </div>

      <div class="subsection">
        <p>関数は中で他の関数を呼ぶこともできます！</p>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">JavaScript</span>
          </div>
          <div class="code-content">
            <pre>function double(num) {
  return num * 2;
}

function showDouble(value) {
  console.log("2倍すると " + double(value));
}

showDouble(5);</pre>
          </div>
        </div>

        <p><strong>結果：</strong>2倍すると 10</p>

        <div class="highlight-box">
          <h4>実行されている流れ</h4>
          <ol>
            <li><code>showDouble(5);</code> で、関数に引数として5を渡して呼び出す</li>
            <li><code>console.log("2倍すると" + double(value));</code> で、コンソールに書き出す前に、double関数にさらに5を渡して呼び出す</li>
            <li><code>return num * 2;</code> で、double 関数は5 × 2 の計算結果を、呼び出し元のshowDouble関数に返す</li>
            <li>コンソールに「2倍すると 10」が表示される</li>
          </ol>
          <p>こうして「処理の組み合わせ」ができるようになります。</p>
        </div>
      </div>
    </section>

    <!-- Section 12 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 12</span>
        <h2 class="section-title">まとめ</h2>
      </div>

      <div class="subsection">
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>内容</th>
                <th>意味</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>関数</td>
                <td>命令をまとめた"動作の部品セット"</td>
              </tr>
              <tr>
                <td>引数</td>
                <td>関数に渡すデータ</td>
              </tr>
              <tr>
                <td>return</td>
                <td>処理の結果を返す</td>
              </tr>
              <tr>
                <td>関数宣言</td>
                <td>function 名前() {}</td>
              </tr>
              <tr>
                <td>アロー関数</td>
                <td>(引数) => 処理（短く書ける）</td>
              </tr>
              <tr>
                <td>HTML連動</td>
                <td>onclick="関数名()" でボタンから動かす</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Section 13 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 13</span>
        <h2 class="section-title">練習問題</h2>
      </div>

      <div class="intro-text">
        <p><strong>ファイル：project_5-16 \ index.htmlの&lt;script&gt;タグ内に書いてみよう：</strong></p>
      </div>

      <div class="subsection">
        <h4>問1</h4>
        <p>「こんにちは、○○さん！」と表示する関数 sayHello(name) を作ってみよう。</p>

        <h4>問2</h4>
        <p>2つの数をかけて結果を返す関数 multiply(a, b) を作ろう。</p>

        <h4>問3</h4>
        <p>合計金額を返す関数 calcTotal(price, count) を作ってconsole.log で出力しよう。</p>

        <h4>問4</h4>
        <p>関数の中で if文を使って、年齢が20以上なら「成人」、それ以外は「未成年」と出す関数を作ろう。</p>

        <h4>問5</h4>
        <p>アロー関数で「円 → ドル」に変換する関数を作ってみよう（1ドル=150円）。</p>

        <details class="demo-details">
          <summary>解答例を見る</summary>
          <div class="demo-content">
            <h4>問1</h4>
            <div class="code-block">
              <pre>function sayHello(name) {
  console.log("こんにちは、" + name + "さん！");
}
sayHello("たろう");</pre>
              </div>
            </div>

            <h4>問2</h4>
            <div class="code-block">
              <pre>function multiply(a, b) {
  return a * b;
}
console.log(multiply(3, 4));</pre>
              </div>
            </div>

            <h4>問3</h4>
            <div class="code-block">
              <pre>function calcTotal(price, count) {
  return price * count;
}
console.log("合計：" + calcTotal(200, 2) + "円");</pre>
              </div>
            </div>

            <h4>問4</h4>
            <div class="code-block">
              <pre>function checkAge(age) {
  if (age >= 20) {
    console.log("成人");
  } else {
    console.log("未成年");
  }
}
checkAge(18);</pre>
              </div>
            </div>

            <h4>問5</h4>
            <div class="code-block">
              <pre>const yenToDollar = (yen) => yen / 150;
console.log(yenToDollar(3000) + "ドル");</pre>
              </div>
            </div>
          </div>
        </details>
      </div>
    </section>

    <!-- まとめ -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">まとめ</span>
        <h2 class="section-title">第5章のまとめ</h2>
      </div>

      <div class="summary-box">
        <ul>
          <li><strong>関数</strong>は「命令のまとまり」に名前をつけて再利用できる仕組み</li>
          <li><strong>引数</strong>で関数にデータを渡せる</li>
          <li><strong>return</strong>で処理の結果を呼び出し元に返せる</li>
          <li><strong>アロー関数</strong>で短く書ける</li>
          <li><strong>onclick</strong>でHTMLから関数を呼び出せる</li>
          <li>関数の中で<strong>他の関数を呼ぶ</strong>ことも可能</li>
        </ul>
      </div>
    </section>
  </div>

  <!-- ページナビゲーション -->
  <div class="page-nav">
    <a href="4js-loops.html" class="page-nav-btn prev">
      <div class="page-nav-label">前へ</div>
      <div class="page-nav-title">繰り返し（for文）</div>
    </a>
    <a href="6js-arrays.html" class="page-nav-btn next">
      <div class="page-nav-label">次へ</div>
      <div class="page-nav-title">配列</div>
    </a>
  </div>

  <footer class="footer">
    <p>JavaScript入門 - 職業訓練校教材</p>
  </footer>

  <script src="../shared/demo.js"></script>
</body>
</html>
