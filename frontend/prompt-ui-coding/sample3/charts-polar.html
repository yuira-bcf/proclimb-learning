<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>極座標チャート - Admin Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="common.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="wrapper">
    <div id="sidebar-container"></div>

    <main class="main">
      <header class="header">
        <div class="header-left">
          <button class="menu-toggle" id="menuToggle">
            <span class="material-icons">menu</span>
          </button>
          <nav class="breadcrumb">
            <a href="sample-3-dashboard.html">ホーム</a>
            <span class="material-icons" style="font-size: 16px;">chevron_right</span>
            <a href="charts.html">チャート</a>
            <span class="material-icons" style="font-size: 16px;">chevron_right</span>
            <span>極座標チャート</span>
          </nav>
        </div>
        <div class="header-right">
          <button class="header-btn">
            <span class="material-icons">notifications_none</span>
          </button>
          <div class="header-user">
            <div class="header-user-avatar">
              <span class="material-icons" style="font-size: 16px;">person</span>
            </div>
            <span class="header-user-name">山田 太郎</span>
          </div>
        </div>
      </header>

      <div class="content">
        <div class="page-header">
          <h1 class="page-title">
              <span class="page-num-badge">2-5</span>極座標チャート
              <button class="prompt-btn" data-prompt-id="2-5" data-prompt="Chart.jsを使用した極座標チャートページを作成してください。

【要件】
- 基本極座標エリアチャート
- カスタムカラーの極座標チャート
- 半透明の極座標チャート
- スタート角度カスタマイズ

【技術】
- Chart.js polarArea タイプ使用
- startAngle設定
- 透明度のあるカラー設定" onclick="openPromptModal('2-5')">
                <span class="material-icons">auto_awesome</span>
                プロンプト
              </button>
              <button class="source-btn" data-source-id="2-5" onclick="openSourceModal('2-5')">
                <span class="material-icons">code</span>
                ソース
              </button>
            </h1>
          <p class="page-subtitle">Chart.jsを使用した極座標エリアチャートのサンプル</p>
        </div>

        <div class="grid-2">
          <!-- Basic Polar Area Chart -->
          <div class="card" id="sec-2-5-1">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-5-1</span>
                <span class="material-icons">donut_large</span>
                基本極座標チャート
                <button class="prompt-btn" data-prompt-id="2-5-1" data-prompt="Chart.jsを使用した基本極座標チャートを作成してください。

【チャート仕様】
- type: 'polarArea'
- labels: カテゴリラベル

【データセット】
- data: 各セグメントの値
- backgroundColor: 透明度のあるカラー配列

【オプション】
- responsive: true
- scales.r.beginAtZero: true
- legend: position 'right'" onclick="openPromptModal('2-5-1')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-5-1" onclick="openSourceModal('2-5-1')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="basicPolarChart"></canvas>
            </div>
          </div>

          <!-- Polar Area with Legend -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-5-2</span>
                <span class="material-icons">format_list_bulleted</span>
                凡例付き極座標チャート
                <button class="prompt-btn" data-prompt-id="2-5-2" data-prompt="Chart.jsを使用した凡例付き極座標チャートを作成してください。

【チャート仕様】
- type: 'polarArea'
- labels: ['電子機器', 'アパレル', '食品', '家具', '化粧品']

【データセット】
- data: [350, 250, 200, 150, 100]
- backgroundColor: 5色の透明度0.8のカラー配列
- borderWidth: 0

【オプション】
- responsive: true
- plugins.legend.position: 'bottom'
- plugins.legend.labels.padding: 20
- plugins.legend.labels.usePointStyle: true
- plugins.legend.labels.pointStyle: 'circle'" onclick="openPromptModal('2-5-2')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-5-2" onclick="openSourceModal('2-5-2')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="legendPolarChart"></canvas>
            </div>
          </div>
        </div>

        <div class="grid-2">
          <!-- Centered Polar Area -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-5-3</span>
                <span class="material-icons">center_focus_strong</span>
                中央開始極座標
                <button class="prompt-btn" data-prompt-id="2-5-3" data-prompt="Chart.jsを使用した中央開始極座標チャートを作成してください。

【チャート仕様】
- type: 'polarArea'
- labels: ['A', 'B', 'C', 'D', 'E']

【データセット】
- data: [80, 60, 90, 70, 85]
- backgroundColor: 5色の透明度0.8のカラー配列
- borderWidth: 2
- borderColor: '#fff'

【オプション】
- responsive: true
- scales.r.beginAtZero: true
- scales.r.ticks.stepSize: 20
- plugins.legend.position: 'right'" onclick="openPromptModal('2-5-3')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-5-3" onclick="openSourceModal('2-5-3')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="centeredPolarChart"></canvas>
            </div>
          </div>

          <!-- Custom Colors Polar -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-5-4</span>
                <span class="material-icons">palette</span>
                カスタムカラー
                <button class="prompt-btn" data-prompt-id="2-5-4" data-prompt="Chart.jsを使用したカスタムカラー極座標チャートを作成してください。

【チャート仕様】
- type: 'polarArea'
- labels: ['項目1', '項目2', '項目3', '項目4', '項目5', '項目6']

【データセット】
- data: [15, 12, 18, 10, 14, 11]
- backgroundColor: パステルカラー配列（透明度0.8）
  - rgba(255, 179, 186, 0.8) ピンク
  - rgba(255, 223, 186, 0.8) オレンジ
  - rgba(255, 255, 186, 0.8) イエロー
  - rgba(186, 255, 201, 0.8) グリーン
  - rgba(186, 225, 255, 0.8) ブルー
  - rgba(218, 186, 255, 0.8) パープル
- borderColor: 同色の透明度1.0
- borderWidth: 2

【オプション】
- responsive: true
- plugins.legend.position: 'right'" onclick="openPromptModal('2-5-4')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-5-4" onclick="openSourceModal('2-5-4')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="customColorPolarChart"></canvas>
            </div>
          </div>
        </div>

        <div class="grid-2">
          <!-- Sales by Region -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-5-5</span>
                <span class="material-icons">public</span>
                地域別売上
                <button class="prompt-btn" data-prompt-id="2-5-5" data-prompt="Chart.jsを使用した地域別売上の極座標チャートを作成してください。

【チャート仕様】
- type: 'polarArea'
- labels: ['北海道', '東北', '関東', '中部', '近畿', '中国', '四国', '九州']

【データセット】
- data: [120, 180, 450, 280, 320, 150, 90, 220]
- backgroundColor: 8色の透明度0.8のカラー配列
- borderWidth: 0

【オプション】
- responsive: true
- plugins.legend.position: 'right'
- plugins.tooltip.callbacks.label: ラベル + ': ' + 値 + '万円'

【ツールチップ】
- カスタムコールバックで単位「万円」を付与" onclick="openPromptModal('2-5-5')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-5-5" onclick="openSourceModal('2-5-5')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="regionPolarChart"></canvas>
            </div>
          </div>

          <!-- Resource Usage -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-5-6</span>
                <span class="material-icons">memory</span>
                リソース使用状況
                <button class="prompt-btn" data-prompt-id="2-5-6" data-prompt="Chart.jsを使用したリソース使用状況の極座標チャートを作成してください。

【チャート仕様】
- type: 'polarArea'
- labels: ['CPU', 'メモリ', 'ストレージ', 'ネットワーク', 'GPU']

【データセット】
- data: [72, 85, 45, 60, 30]（パーセンテージ値）
- backgroundColor: 5色の透明度0.8のカラー配列
- borderWidth: 0

【オプション】
- responsive: true
- scales.r.max: 100
- scales.r.ticks.callback: 値 + '%' を返す
- plugins.legend.position: 'right'
- plugins.tooltip.callbacks.label: ラベル + ': ' + 値 + '%'

【スケール設定】
- 最大値を100に固定（パーセンテージ表示）
- 目盛りに%記号を付与" onclick="openPromptModal('2-5-6')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-5-6" onclick="openSourceModal('2-5-6')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="resourcePolarChart"></canvas>
            </div>
          </div>
        </div>

        <div class="grid-2">
          <!-- Quarterly Performance -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-5-7</span>
                <span class="material-icons">calendar_view_month</span>
                四半期パフォーマンス
              </h3>
            </div>
            <div class="card-body">
              <canvas id="quarterlyPolarChart"></canvas>
            </div>
          </div>

          <!-- Category Distribution -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-5-8</span>
                <span class="material-icons">category</span>
                カテゴリ分布
              </h3>
            </div>
            <div class="card-body">
              <canvas id="categoryPolarChart"></canvas>
            </div>
          </div>
        </div>

      </div>
    </main>
  </div>

  <script src="common.js"></script>
  <script>
    // Chart.js default settings
    Chart.defaults.font.family = "'Noto Sans JP', sans-serif";
    Chart.defaults.color = '#6c757d';

    // Color palette
    const colors = {
      primary: 'rgba(23, 162, 184, 0.8)',
      primarySolid: 'rgba(23, 162, 184, 1)',
      success: 'rgba(40, 167, 69, 0.8)',
      successSolid: 'rgba(40, 167, 69, 1)',
      warning: 'rgba(255, 193, 7, 0.8)',
      warningSolid: 'rgba(255, 193, 7, 1)',
      danger: 'rgba(220, 53, 69, 0.8)',
      dangerSolid: 'rgba(220, 53, 69, 1)',
      purple: 'rgba(111, 66, 193, 0.8)',
      purpleSolid: 'rgba(111, 66, 193, 1)',
      orange: 'rgba(253, 126, 20, 0.8)',
      orangeSolid: 'rgba(253, 126, 20, 1)',
      teal: 'rgba(32, 201, 151, 0.8)',
      tealSolid: 'rgba(32, 201, 151, 1)',
      pink: 'rgba(232, 62, 140, 0.8)',
      pinkSolid: 'rgba(232, 62, 140, 1)'
    };

    // ========== Basic Polar Area Chart ==========
    new Chart(document.getElementById('basicPolarChart'), {
      type: 'polarArea',
      data: {
        labels: ['赤', '青', '黄', '緑', '紫', 'オレンジ'],
        datasets: [{
          data: [11, 16, 7, 14, 9, 12],
          backgroundColor: [
            colors.danger,
            colors.primary,
            colors.warning,
            colors.success,
            colors.purple,
            colors.orange
          ],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'right' }
        }
      }
    });

    // ========== Polar Area with Legend ==========
    new Chart(document.getElementById('legendPolarChart'), {
      type: 'polarArea',
      data: {
        labels: ['電子機器', 'アパレル', '食品', '家具', '化粧品'],
        datasets: [{
          data: [350, 250, 200, 150, 100],
          backgroundColor: [
            colors.primary,
            colors.success,
            colors.warning,
            colors.danger,
            colors.purple
          ],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              padding: 20,
              usePointStyle: true,
              pointStyle: 'circle'
            }
          }
        }
      }
    });

    // ========== Centered Polar Area ==========
    new Chart(document.getElementById('centeredPolarChart'), {
      type: 'polarArea',
      data: {
        labels: ['A', 'B', 'C', 'D', 'E'],
        datasets: [{
          data: [80, 60, 90, 70, 85],
          backgroundColor: [
            colors.primary,
            colors.success,
            colors.warning,
            colors.danger,
            colors.purple
          ],
          borderWidth: 2,
          borderColor: '#fff'
        }]
      },
      options: {
        responsive: true,
        scales: {
          r: {
            beginAtZero: true,
            ticks: {
              stepSize: 20
            }
          }
        },
        plugins: {
          legend: { position: 'right' }
        }
      }
    });

    // ========== Custom Colors Polar ==========
    const pastelColors = [
      'rgba(255, 179, 186, 0.8)',
      'rgba(255, 223, 186, 0.8)',
      'rgba(255, 255, 186, 0.8)',
      'rgba(186, 255, 201, 0.8)',
      'rgba(186, 225, 255, 0.8)',
      'rgba(218, 186, 255, 0.8)'
    ];

    new Chart(document.getElementById('customColorPolarChart'), {
      type: 'polarArea',
      data: {
        labels: ['項目1', '項目2', '項目3', '項目4', '項目5', '項目6'],
        datasets: [{
          data: [15, 12, 18, 10, 14, 11],
          backgroundColor: pastelColors,
          borderColor: pastelColors.map(c => c.replace('0.8', '1')),
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'right' }
        }
      }
    });

    // ========== Sales by Region ==========
    new Chart(document.getElementById('regionPolarChart'), {
      type: 'polarArea',
      data: {
        labels: ['北海道', '東北', '関東', '中部', '近畿', '中国', '四国', '九州'],
        datasets: [{
          data: [120, 180, 450, 280, 320, 150, 90, 220],
          backgroundColor: [
            colors.primary,
            colors.success,
            colors.warning,
            colors.danger,
            colors.purple,
            colors.orange,
            colors.teal,
            colors.pink
          ],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'right' },
          tooltip: {
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.raw + '万円';
              }
            }
          }
        }
      }
    });

    // ========== Resource Usage ==========
    new Chart(document.getElementById('resourcePolarChart'), {
      type: 'polarArea',
      data: {
        labels: ['CPU', 'メモリ', 'ストレージ', 'ネットワーク', 'GPU'],
        datasets: [{
          data: [72, 85, 45, 60, 30],
          backgroundColor: [
            colors.danger,
            colors.warning,
            colors.success,
            colors.primary,
            colors.purple
          ],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        scales: {
          r: {
            max: 100,
            ticks: {
              callback: function(value) {
                return value + '%';
              }
            }
          }
        },
        plugins: {
          legend: { position: 'right' },
          tooltip: {
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.raw + '%';
              }
            }
          }
        }
      }
    });

    // ========== Quarterly Performance ==========
    new Chart(document.getElementById('quarterlyPolarChart'), {
      type: 'polarArea',
      data: {
        labels: ['Q1 (1-3月)', 'Q2 (4-6月)', 'Q3 (7-9月)', 'Q4 (10-12月)'],
        datasets: [{
          data: [280, 320, 350, 420],
          backgroundColor: [
            colors.primary,
            colors.success,
            colors.warning,
            colors.danger
          ],
          borderWidth: 3,
          borderColor: [
            colors.primarySolid,
            colors.successSolid,
            colors.warningSolid,
            colors.dangerSolid
          ]
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' },
          tooltip: {
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.raw + '万円';
              }
            }
          }
        }
      }
    });

    // ========== Category Distribution ==========
    new Chart(document.getElementById('categoryPolarChart'), {
      type: 'polarArea',
      data: {
        labels: ['技術書', 'ビジネス書', '小説', '雑誌', 'コミック', '参考書'],
        datasets: [{
          data: [45, 35, 60, 25, 80, 40],
          backgroundColor: [
            colors.primary,
            colors.success,
            colors.warning,
            colors.danger,
            colors.purple,
            colors.orange
          ],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        animation: {
          animateScale: true,
          animateRotate: true
        },
        plugins: {
          legend: {
            position: 'right',
            labels: {
              generateLabels: function(chart) {
                const data = chart.data;
                if (data.labels.length && data.datasets.length) {
                  return data.labels.map((label, i) => {
                    const dataset = data.datasets[0];
                    const value = dataset.data[i];
                    return {
                      text: label + ' (' + value + ')',
                      fillStyle: dataset.backgroundColor[i],
                      hidden: false,
                      index: i
                    };
                  });
                }
                return [];
              }
            }
          }
        }
      }
    });
  </script>
</body>
</html>
