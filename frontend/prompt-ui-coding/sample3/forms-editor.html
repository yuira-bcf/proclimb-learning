<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>エディタ - Admin Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="common.css">
</head>
<body>
  <div class="wrapper">
    <div id="sidebar-container"></div>

    <main class="main">
      <header class="header">
        <div class="header-left">
          <button class="menu-toggle" id="menuToggle">
            <span class="material-icons">menu</span>
          </button>
          <nav class="breadcrumb">
            <a href="sample-3-dashboard.html">ホーム</a>
            <span class="material-icons" style="font-size: 16px;">chevron_right</span>
            <a href="forms.html">フォーム</a>
            <span class="material-icons" style="font-size: 16px;">chevron_right</span>
            <span>エディタ</span>
          </nav>
        </div>
        <div class="header-right">
          <button class="header-btn">
            <span class="material-icons">notifications_none</span>
          </button>
          <div class="header-user">
            <div class="header-user-avatar">
              <span class="material-icons" style="font-size: 16px;">person</span>
            </div>
            <span class="header-user-name">山田 太郎</span>
          </div>
        </div>
      </header>

      <div class="content">
        <div class="page-header">
          <h1 class="page-title">
              <span class="page-num-badge">3-3</span>エディタ
              <button class="prompt-btn" data-prompt-id="3-3" data-prompt="エディタコンポーネントページを作成してください。

【要件】
- リッチテキストエディタ（WYSIWYG）
- ツールバー（太字、斜体、リスト、リンクなど）
- コードエディタ風のテキストエリア
- Markdownエディタ
- プレビュー機能

【技術】
- contenteditable属性の活用
- ツールバーボタンの実装
- シンタックスハイライト風のスタイル" onclick="openPromptModal('3-3')">
                <span class="material-icons">auto_awesome</span>
                プロンプト
              </button>
              <button class="source-btn" data-source-id="3-3" onclick="openSourceModal('3-3')">
                <span class="material-icons">code</span>
                ソース
              </button>
            </h1>
          <p class="page-subtitle">リッチテキストエディタ・コードエディタ</p>
        </div>

        <!-- Rich Text Editor -->
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">
              <span class="section-num-badge">3-3-1</span>
              <span class="material-icons">edit_note</span>
              リッチテキストエディタ
              <button class="prompt-btn" data-prompt-id="3-3-1" data-prompt="リッチテキストエディタ（WYSIWYG）セクションを作成してください。

【HTML構造】
- editor-container: エディタ全体のラッパー
- editor-toolbar: ツールバー（複数のtoolbar-group）
- toolbar-group: ボタングループ
- toolbar-divider: グループ間の区切り線
- toolbar-btn: 各ツールボタン（Material Icons使用）
- toolbar-select: ドロップダウン（見出し、フォント、サイズ）
- editor-content[contenteditable=true]: 編集可能エリア

【ツールバーボタン】
1. 元に戻す/やり直す（undo, redo）
2. 見出し・フォント・サイズ選択（select）
3. 太字/斜体/下線/取り消し線（format_bold, format_italic, format_underlined, strikethrough_s）
4. テキスト色/背景色（format_color_text, format_color_fill）
5. 左/中央/右/両端揃え（format_align_*）
6. リスト/インデント（format_list_*, format_indent_*）
7. リンク/画像/テーブル/引用/コード（link, image, table_chart, format_quote, code）
8. 全画面（fullscreen）

【CSS】
- .editor-toolbar: display: flex, flex-wrap: wrap, gap: 4px, padding: 8px 12px, background: #f8f9fa, border-bottom: 1px solid #e9ecef
- .toolbar-btn: width: 32px, height: 32px, border: none, background: transparent, border-radius: 4px, cursor: pointer
- .toolbar-btn:hover: background: #e9ecef
- .toolbar-btn.active: background: #17a2b8, color: white
- .toolbar-divider: width: 1px, height: 24px, background: #ddd, margin: 0 8px
- .editor-content: min-height: 300px, padding: 20px, outline: none, line-height: 1.8
- .editor-content blockquote: border-left: 4px solid #17a2b8, padding-left: 16px, color: #6c757d, font-style: italic" onclick="openPromptModal('3-3-1')">
                <span class="material-icons">auto_awesome</span>
                プロンプト
              </button>
              <button class="source-btn" data-source-id="3-3-1" onclick="openSourceModal('3-3-1')">
                <span class="material-icons">code</span>
                ソース
              </button>
            </h3>
          </div>
          <div class="card-body p-0">
            <div class="editor-container">
              <div class="editor-toolbar">
                <div class="toolbar-group">
                  <button type="button" class="toolbar-btn" title="元に戻す">
                    <span class="material-icons">undo</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="やり直す">
                    <span class="material-icons">redo</span>
                  </button>
                </div>
                <div class="toolbar-divider"></div>
                <div class="toolbar-group">
                  <select class="toolbar-select">
                    <option>見出し1</option>
                    <option>見出し2</option>
                    <option>見出し3</option>
                    <option selected>段落</option>
                  </select>
                  <select class="toolbar-select">
                    <option>Noto Sans JP</option>
                    <option>Meiryo</option>
                    <option>Yu Gothic</option>
                  </select>
                  <select class="toolbar-select" style="width: 70px;">
                    <option>12</option>
                    <option selected>14</option>
                    <option>16</option>
                    <option>18</option>
                    <option>24</option>
                  </select>
                </div>
                <div class="toolbar-divider"></div>
                <div class="toolbar-group">
                  <button type="button" class="toolbar-btn active" title="太字">
                    <span class="material-icons">format_bold</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="斜体">
                    <span class="material-icons">format_italic</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="下線">
                    <span class="material-icons">format_underlined</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="取り消し線">
                    <span class="material-icons">strikethrough_s</span>
                  </button>
                </div>
                <div class="toolbar-divider"></div>
                <div class="toolbar-group">
                  <button type="button" class="toolbar-btn" title="テキスト色">
                    <span class="material-icons">format_color_text</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="背景色">
                    <span class="material-icons">format_color_fill</span>
                  </button>
                </div>
                <div class="toolbar-divider"></div>
                <div class="toolbar-group">
                  <button type="button" class="toolbar-btn" title="左揃え">
                    <span class="material-icons">format_align_left</span>
                  </button>
                  <button type="button" class="toolbar-btn active" title="中央揃え">
                    <span class="material-icons">format_align_center</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="右揃え">
                    <span class="material-icons">format_align_right</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="両端揃え">
                    <span class="material-icons">format_align_justify</span>
                  </button>
                </div>
                <div class="toolbar-divider"></div>
                <div class="toolbar-group">
                  <button type="button" class="toolbar-btn" title="番号付きリスト">
                    <span class="material-icons">format_list_numbered</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="箇条書き">
                    <span class="material-icons">format_list_bulleted</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="インデント減">
                    <span class="material-icons">format_indent_decrease</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="インデント増">
                    <span class="material-icons">format_indent_increase</span>
                  </button>
                </div>
                <div class="toolbar-divider"></div>
                <div class="toolbar-group">
                  <button type="button" class="toolbar-btn" title="リンク挿入">
                    <span class="material-icons">link</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="画像挿入">
                    <span class="material-icons">image</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="テーブル挿入">
                    <span class="material-icons">table_chart</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="引用">
                    <span class="material-icons">format_quote</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="コード">
                    <span class="material-icons">code</span>
                  </button>
                </div>
                <div class="toolbar-divider"></div>
                <div class="toolbar-group">
                  <button type="button" class="toolbar-btn" title="全画面">
                    <span class="material-icons">fullscreen</span>
                  </button>
                </div>
              </div>
              <div class="editor-content" contenteditable="true">
                <h2>リッチテキストエディタのサンプル</h2>
                <p>これはリッチテキストエディタのデモです。テキストを選択して、ツールバーのボタンで書式を変更できます。</p>
                <p><strong>太字</strong>、<em>斜体</em>、<u>下線</u>などの書式設定が可能です。</p>
                <ul>
                  <li>箇条書きリスト項目 1</li>
                  <li>箇条書きリスト項目 2</li>
                  <li>箇条書きリスト項目 3</li>
                </ul>
                <blockquote>これは引用ブロックです。重要なテキストを強調する際に使用します。</blockquote>
              </div>
            </div>
          </div>
        </div>

        <div class="grid-2">
          <!-- Markdown Editor -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">3-3-2</span>
                <span class="material-icons">article</span>
                Markdownエディタ
                <button class="prompt-btn" data-prompt-id="3-3-2" data-prompt="Markdownエディタセクションを作成してください。

【HTML構造】
- markdown-editor: エディタコンテナ
- markdown-toolbar: 簡易ツールバー
- toolbar-btn: 各機能ボタン
- toolbar-spacer: 右端にプレビューボタンを配置するためのスペーサー
- markdown-textarea: Markdown入力用テキストエリア

【ツールバーボタン】
見出し(title)、太字(format_bold)、斜体(format_italic)、リンク(link)、画像(image)、コード(code)、引用(format_quote)、リスト(format_list_bulleted)、プレビュー(visibility)

【サンプルMarkdown】
# 見出し1
**太字**、*斜体*
## 見出し2
- リスト項目
> 引用
\`インラインコード\`
\`\`\`javascript
コードブロック
\`\`\`

【CSS】
- .markdown-editor: display: flex, flex-direction: column
- .markdown-toolbar: display: flex, align-items: center, gap: 4px, padding: 8px 12px, background: #f8f9fa, border-bottom: 1px solid #e9ecef
- .toolbar-spacer: flex: 1（プレビューボタンを右端に配置）
- .markdown-textarea: min-height: 280px, padding: 16px, border: none, resize: none, font-family: 'Consolas', 'Monaco', monospace, font-size: 13px, line-height: 1.6, outline: none" onclick="openPromptModal('3-3-2')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="3-3-2" onclick="openSourceModal('3-3-2')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body p-0">
              <div class="markdown-editor">
                <div class="markdown-toolbar">
                  <button type="button" class="toolbar-btn" title="見出し">
                    <span class="material-icons">title</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="太字">
                    <span class="material-icons">format_bold</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="斜体">
                    <span class="material-icons">format_italic</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="リンク">
                    <span class="material-icons">link</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="画像">
                    <span class="material-icons">image</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="コード">
                    <span class="material-icons">code</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="引用">
                    <span class="material-icons">format_quote</span>
                  </button>
                  <button type="button" class="toolbar-btn" title="リスト">
                    <span class="material-icons">format_list_bulleted</span>
                  </button>
                  <div class="toolbar-spacer"></div>
                  <button type="button" class="toolbar-btn" title="プレビュー">
                    <span class="material-icons">visibility</span>
                  </button>
                </div>
                <textarea class="markdown-textarea"># 見出し1

これは**太字**のテキストです。
これは*斜体*のテキストです。

## 見出し2

- リスト項目1
- リスト項目2
- リスト項目3

> 引用テキスト

`インラインコード`

```javascript
const hello = "Hello World";
console.log(hello);
```</textarea>
              </div>
            </div>
          </div>

          <!-- Code Editor -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">3-3-3</span>
                <span class="material-icons">code</span>
                コードエディタ
                <button class="prompt-btn" data-prompt-id="3-3-3" data-prompt="コードエディタ風表示セクションを作成してください。

【HTML構造】
- card-tools: ヘッダー右側に言語選択セレクト
- code-editor: エディタ本体（ダークテーマ）
- code-gutter: 行番号エリア
- line-number: 各行番号
- code-content: コード表示エリア（pre > code）
- シンタックスハイライト用span（code-keyword, code-function等）

【シンタックスハイライトクラス】
- code-keyword: 予約語（function, const, return）→ #569cd6（青）
- code-function: 関数名 → #dcdcaa（黄）
- code-string: 文字列 → #ce9178（オレンジ）
- code-param: パラメータ → #9cdcfe（水色）
- code-comment: コメント → #6a9955（緑）
- code-builtin: 組み込みオブジェクト → #4ec9b0（シアン）

【CSS】
- .code-editor: display: flex, background: #1e1e1e（VSCode風ダーク）, color: #d4d4d4, font-family: 'Consolas', 'Monaco', monospace, font-size: 13px, line-height: 1.6, min-height: 280px, border-radius: 0 0 8px 8px
- .code-gutter: background: #252526, padding: 16px 0, text-align: right, user-select: none
- .line-number: padding: 0 12px, color: #858585
- .code-content: flex: 1, padding: 16px, margin: 0, overflow-x: auto" onclick="openPromptModal('3-3-3')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="3-3-3" onclick="openSourceModal('3-3-3')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
              <div class="card-tools">
                <select class="toolbar-select">
                  <option>JavaScript</option>
                  <option>HTML</option>
                  <option>CSS</option>
                  <option>Python</option>
                </select>
              </div>
            </div>
            <div class="card-body p-0">
              <div class="code-editor">
                <div class="code-gutter">
                  <div class="line-number">1</div>
                  <div class="line-number">2</div>
                  <div class="line-number">3</div>
                  <div class="line-number">4</div>
                  <div class="line-number">5</div>
                  <div class="line-number">6</div>
                  <div class="line-number">7</div>
                  <div class="line-number">8</div>
                  <div class="line-number">9</div>
                  <div class="line-number">10</div>
                  <div class="line-number">11</div>
                  <div class="line-number">12</div>
                </div>
                <pre class="code-content"><code><span class="code-keyword">function</span> <span class="code-function">greet</span>(<span class="code-param">name</span>) {
  <span class="code-keyword">const</span> message = <span class="code-string">`Hello, ${name}!`</span>;
  <span class="code-keyword">return</span> message;
}

<span class="code-comment">// ユーザーに挨拶</span>
<span class="code-keyword">const</span> user = <span class="code-string">"山田太郎"</span>;
<span class="code-keyword">const</span> greeting = <span class="code-function">greet</span>(user);

<span class="code-builtin">console</span>.<span class="code-function">log</span>(greeting);
<span class="code-comment">// 出力: Hello, 山田太郎!</span></code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Simple Textarea -->
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">
              <span class="section-num-badge">3-3-4</span>
              <span class="material-icons">text_fields</span>
              テキストエリア
              <button class="prompt-btn" data-prompt-id="3-3-4" data-prompt="テキストエリアバリエーションセクションを作成してください。

【HTML構造】
- grid-2: 2カラムレイアウト
- form-group: 各テキストエリアのグループ
- textarea.form-control: テキストエリア本体
- textarea-footer: テキストエリア下部のフッター
- char-count: 文字数カウント表示
- btn-sm: 小さいボタン

【フィールド】
1. 基本テキストエリア
   - rows=5, placeholder付き
   - 文字数カウント（0 / 500文字）

2. 自動リサイズテキストエリア
   - rows=3, auto-resizeクラス
   - フッターに下書き保存・送信ボタン

【CSS】
- .textarea-footer: display: flex, justify-content: space-between, align-items: center, margin-top: 8px, gap: 8px
- .char-count: font-size: 12px, color: #6c757d
- .btn-sm: padding: 6px 12px, font-size: 12px
- .auto-resize: JSで高さを自動調整（CSSのみではmin-height設定）
- textarea.form-control: width: 100%, padding: 12px, border: 1px solid #ddd, border-radius: 6px, resize: vertical, font-family: inherit" onclick="openPromptModal('3-3-4')">
                <span class="material-icons">auto_awesome</span>
                プロンプト
              </button>
              <button class="source-btn" data-source-id="3-3-4" onclick="openSourceModal('3-3-4')">
                <span class="material-icons">code</span>
                ソース
              </button>
            </h3>
          </div>
          <div class="card-body">
            <div class="grid-2">
              <div class="form-group">
                <label class="form-label">基本テキストエリア</label>
                <textarea class="form-control" rows="5" placeholder="ここにテキストを入力してください..."></textarea>
                <div class="textarea-footer">
                  <span class="char-count">0 / 500文字</span>
                </div>
              </div>
              <div class="form-group">
                <label class="form-label">自動リサイズ</label>
                <textarea class="form-control auto-resize" rows="3" placeholder="入力に応じて自動でリサイズされます..."></textarea>
                <div class="textarea-footer">
                  <button type="button" class="btn btn-sm btn-secondary">下書き保存</button>
                  <button type="button" class="btn btn-sm btn-primary">送信</button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </main>
  </div>

  <script src="common.js"></script>
  <style>
    /* Editor Container */
    .editor-container {
      border: 1px solid #e9ecef;
      border-radius: 0 0 8px 8px;
    }

    /* Editor Toolbar */
    .editor-toolbar {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 4px;
      padding: 8px 12px;
      background: #f8f9fa;
      border-bottom: 1px solid #e9ecef;
    }
    .toolbar-group {
      display: flex;
      align-items: center;
      gap: 2px;
    }
    .toolbar-divider {
      width: 1px;
      height: 24px;
      background: #ddd;
      margin: 0 8px;
    }
    .toolbar-spacer {
      flex: 1;
    }
    .toolbar-btn {
      width: 32px;
      height: 32px;
      border: none;
      background: transparent;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    .toolbar-btn:hover {
      background: #e9ecef;
    }
    .toolbar-btn.active {
      background: #17a2b8;
      color: #fff;
    }
    .toolbar-btn .material-icons {
      font-size: 18px;
    }
    .toolbar-select {
      padding: 4px 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 13px;
      background: #fff;
      cursor: pointer;
    }

    /* Editor Content */
    .editor-content {
      min-height: 300px;
      padding: 20px;
      outline: none;
      line-height: 1.8;
    }
    .editor-content h2 {
      font-size: 20px;
      margin-bottom: 12px;
    }
    .editor-content p {
      margin-bottom: 12px;
    }
    .editor-content ul {
      margin-bottom: 12px;
      padding-left: 24px;
    }
    .editor-content li {
      margin-bottom: 4px;
    }
    .editor-content blockquote {
      border-left: 4px solid #17a2b8;
      padding-left: 16px;
      margin: 16px 0;
      color: #6c757d;
      font-style: italic;
    }

    /* Markdown Editor */
    .markdown-editor {
      display: flex;
      flex-direction: column;
    }
    .markdown-toolbar {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 8px 12px;
      background: #f8f9fa;
      border-bottom: 1px solid #e9ecef;
    }
    .markdown-textarea {
      min-height: 280px;
      padding: 16px;
      border: none;
      resize: none;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 13px;
      line-height: 1.6;
      outline: none;
    }

    /* Code Editor */
    .code-editor {
      display: flex;
      background: #1e1e1e;
      color: #d4d4d4;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 13px;
      line-height: 1.6;
      min-height: 280px;
      border-radius: 0 0 8px 8px;
      overflow: hidden;
    }
    .code-gutter {
      background: #252526;
      padding: 16px 0;
      text-align: right;
      user-select: none;
    }
    .line-number {
      padding: 0 12px;
      color: #858585;
    }
    .code-content {
      flex: 1;
      padding: 16px;
      margin: 0;
      overflow-x: auto;
    }
    .code-keyword { color: #569cd6; }
    .code-function { color: #dcdcaa; }
    .code-string { color: #ce9178; }
    .code-param { color: #9cdcfe; }
    .code-comment { color: #6a9955; }
    .code-builtin { color: #4ec9b0; }

    /* Textarea Footer */
    .textarea-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
      gap: 8px;
    }
    .char-count {
      font-size: 12px;
      color: #6c757d;
    }
    .btn-sm {
      padding: 6px 12px;
      font-size: 12px;
    }
  </style>
</body>
</html>
