<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ポートフォリオ第4章: ボタンのコンポーネントを作る - Figma入門</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../shared/common.css">
  <style>
    :root {
      --primary: #FF6B35;
      --primary-dark: #E55A2B;
      --primary-light: #FFF5F2;
      --primary-lighter: #FFD4C7;
    }
    .nav-category-links { display: none; }
  </style>
</head>
<body>
  <nav class="global-nav"></nav>
  <script src="../shared/js/nav-figma.js"></script>

  <div class="container">
    <!-- チャプターヘッダー -->
    <header class="chapter-header">
      <div class="chapter-badge">Portfolio</div>
      <div class="chapter-number">4</div>
      <h1 class="chapter-title">ボタンのコンポーネントを作る</h1>
      <p class="chapter-subtitle">オートレイアウトとコンポーネントの基礎</p>
    </header>

    <!-- 目次 -->
    <nav class="toc">
      <h2 class="toc-title">この章の内容</h2>
      <ul class="toc-list">
        <li class="toc-item"><span class="toc-number">4-1</span>ボタンの概要</li>
        <li class="toc-item"><span class="toc-number">4-2</span>オートレイアウトを使ったボタン作成</li>
        <li class="toc-item"><span class="toc-number">4-3</span>ボタンをコンポーネントにする</li>
        <li class="toc-item"><span class="toc-number">4-4</span>コンポーネントの仕組み</li>
        <li class="toc-item"><span class="toc-number">4-5</span>コンポーネントの利用シーン</li>
        <li class="toc-item"><span class="toc-number">4-6</span>コンポーネントの留意点</li>
        <li class="toc-item"><span class="toc-number">4-7</span>Componentsページで管理する</li>
      </ul>
    </nav>

    <!-- Section 4-1 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-1</span>
        <h2 class="section-title">ボタンの概要</h2>
      </div>

      <div class="intro-text">
        <p>ユーザーがクリックするためのボタン要素を作成します。作成には<strong>オートレイアウト</strong>というFigmaの機能を使用します。オートレイアウトを使用することで、文字の長さに応じてボタン幅が自動的に変更されます。</p>
      </div>

      <div class="subsection">
        <p>さらに、一度作れば同じデザインを何度でも流用できる、<strong>コンポーネント</strong>という機能も使用していきます。</p>
        <p>※オートレイアウトとコンポーネントの詳細は別章で説明する</p>
      </div>
    </section>

    <!-- Section 4-2 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-2</span>
        <h2 class="section-title">オートレイアウトを使ったボタン作成</h2>
      </div>

      <div class="info-box">
        <div class="info-box-title">全体作業フロー</div>
        <div class="info-box-content">
          <ol>
            <li>テキストを作成とスタイル設定</li>
            <li>オートレイアウト化とオートレイアウト項目設定</li>
            <li>色スタイルの登録</li>
            <li>コンポーネント化と名称設定</li>
          </ol>
        </div>
      </div>

      <div class="subsection">
        <h3>① テキストを作成とスタイル設定</h3>
        <ol>
          <li>テキストを選択します：T または 下部ツールの T</li>
          <li>任意の場所をクリックし、「Button Text」と入力します</li>
          <li>テキストを選択して、右サイドパネルのタイポグラフィ右にある四点マークをクリック</li>
          <li>表示されたテキストスタイルから、下記のスタイルをクリックし、スタイルを適用します</li>
        </ol>
        <p>設定するテキストスタイル：<strong>text/md</strong></p>
      </div>

      <div class="subsection">
        <h3>② オートレイアウト化とオートレイアウト項目設定</h3>
        <ol>
          <li>テキストオブジェクトを選択し、 Shift + A でオートレイアウト化します</li>
        </ol>
        <p>※ 成功すると左側のレイヤーパネルで、テキストがオートレイアウト機能を持ったフレームに変化します</p>

        <div class="info-box">
          <div class="info-box-title">POINT</div>
          <div class="info-box-content">
            <ul>
              <li>左側のレイヤーには、キャンバス上に配置したオブジェクトの名称がすべて表示されます</li>
              <li>フォルダなどと同じ階層構造になっており、左側に寄っているのが親、その配下で字下げになっているのが子の要素であることを表しています</li>
              <li>上下の位置によって、キャンバス上で要素が重なったときの表示順が変わります（上が優先。表示順を変えたい場合は要素を選択してドラッグ、またはショートカットキーでも可）</li>
            </ul>
            <p><strong>★ 新たなオブジェクトを作ったら、このレイヤーに正しいオブジェクトが表示されているか、毎回必ず確認しましょう。気付くと不要なオブジェクトだらけになっていることが良くあります</strong></p>
          </div>
        </div>

        <ol start="2">
          <li>右サイドパネルの「オートレイアウト」にて、各項目を以下に設定します</li>
        </ol>

        <div class="highlight-box">
          <h4>オートレイアウト設定</h4>
          <ul>
            <li>配置：中央揃え</li>
            <li>間隔：0</li>
            <li>水平パディング：48 (テキストの左右の余白のこと)</li>
            <li>垂直パディング：10 (テキストの上下の余白のこと)</li>
          </ul>
        </div>
      </div>

      <div class="subsection">
        <h3>③ 色スタイルの設定</h3>
        <ol>
          <li>②の1でオートレイアウト化したフレームを選択します（キャンバス上でうまく要素を選択できないときは、左のレイヤーから直接選択することも出来ます）</li>
          <li>右パネルの ［塗り］ → ［四点マーク］ をクリック</li>
          <li>[ライブラリ]タブの中から、[portfolio / blue] をクリック</li>
        </ol>

        <p>ボタンの背景色はこれでOKです。次に、ボタン要素のテキスト「Button Text」の文字色を変更します。</p>

        <ol start="4">
          <li>「Button Text」のテキスト部分のみを選択します（レイヤーの[T　Button Text]を選択でも可）</li>
          <li>右パネルの[ 塗り]→ [四点マーク]をクリック</li>
          <li>[ライブラリ]タブの中から[portfolio / white] をクリック</li>
        </ol>

        <p>これで文字の色が白くなり、背景に対して視認性が良くなりました。最後に角を丸めてボタンらしく整形します。</p>

        <ol start="7">
          <li>ボタンのフレームを選択します</li>
          <li>右パネル[外見]→ [角の半径]の値に、[ 40 ]を入力します</li>
        </ol>

        <div class="info-box success">
          <div class="info-box-title">完了</div>
          <div class="info-box-content">
            <p>これでボタンらしいUIになりました。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 4-3 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-3</span>
        <h2 class="section-title">ボタンをコンポーネントにする</h2>
      </div>

      <div class="intro-text">
        <p>ボタンはサイト全体で同じ形を使うことが多いです。そうすることで、サイト全体に統一感を持たせられる他、ユーザーが迷わず「これはクリックするもの」と認識できるようになります。ここでは、ボタンをひとつの部品セットにして、どこでも使いまわせるようになる<strong>コンポーネント</strong>という機能を使用していきます。</p>
      </div>

      <div class="subsection">
        <ol>
          <li>ボタンのフレームを選択し、 [ Ctrl(Cmd) + Alt(Option) + K ]でコンポーネント化します（または、右パネル → [フレーム]→ [四つのひし形アイコン]をクリックでも可）</li>
        </ol>

        <p>※コンポーネント化が完了すると、ボタンのフレームの色が紫色に変わり、オブジェクトの左上と、レイヤーのアイコンが、コンポーネントを示す表示に変更されます。</p>

        <p>これで、今後同じボタンを再利用したいときに、このコンポーネントを呼び出して使うことができるようになります。最後にこのオブジェクトの名前を変更しておきます。</p>

        <div class="info-box warning">
          <div class="info-box-title">注意</div>
          <div class="info-box-content">
            <p>フレームなどには名前を付けておかないと、レイヤーが[ Frame ○]という名称だらけになり、オブジェクトを探しにくくなる上に、HTMLコーディングでAIが構造を読み取りにくくなります</p>
          </div>
        </div>

        <ol start="2">
          <li>オブジェクトの左上[Frame ○]をダブルクリック（レイヤーのボタンフレームの名称をダブルクリックでも可）</li>
          <li>入力可能状態になるので、[ Button ]と入力し、Enter</li>
        </ol>

        <p>どちらかで名前を変更すると、レイヤーとオブジェクトのどちらにも反映されます。</p>

        <div class="info-box success">
          <div class="info-box-title">完了</div>
          <div class="info-box-content">
            <p>これで、ボタンのコンポーネント化が完了しました。今後、同じデザインのボタンを複数使いたい場合は、左パネルの ［アセット（Assets）］ タブから「Button」をドラッグ＆ドロップして呼び出しが可能になります。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 4-4 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-4</span>
        <h2 class="section-title">コンポーネントの仕組み</h2>
      </div>

      <div class="intro-text">
        <p>コンポーネントを作成すると、Figma内部では<strong>「マスター（元）」</strong>と<strong>「インスタンス（使う側）」</strong>に分かれます。</p>
      </div>

      <div class="subsection">
        <div class="highlight-box">
          <h4>マスターとインスタンス</h4>
          <ul>
            <li><strong>マスター</strong>：元の設計図であり、[四つのひし形が集合したようなアイコン]で表現されます。</li>
            <li><strong>インスタンス</strong>：マスターから複製された子要素であり[ひとつのひし形アイコン]で表現されます。</li>
          </ul>
        </div>

        <p>インスタンスを編集してもマスター、他のインスタンスに影響は出ませんが、<strong>マスターを変更すると、そのとき存在している全インスタンスに変更が反映されます。</strong></p>
        <p>※ ただし変更箇所が、インスタンス側ですでに変更されているインスタンスには変更が反映されません</p>
      </div>
    </section>

    <!-- Section 4-5 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-5</span>
        <h2 class="section-title">コンポーネントの利用シーン</h2>
      </div>

      <div class="intro-text">
        <p>通常、Webサイトは複数ページで構成されることが多いです。同じサービスや会社のサイトでは、どのページにも共通の構成となっている要素が複数あります。</p>
      </div>

      <div class="subsection">
        <div class="highlight-box">
          <h4>共通要素の例</h4>
          <ul>
            <li>画面再上部のヘッダー、ナビゲーション</li>
            <li>お問合せなどのボタンUI</li>
            <li>商品やスタッフ紹介などの写真画像が入ったカードUI</li>
            <li>画面最下部のフッター……など</li>
          </ul>
        </div>

        <p>複数のページがあり、これらをコンポーネントにせず作成していたとき、修正や変更があった場合には、すべてのページのすべての要素、ひとつずつ直さなければなりません。そんなときにコンポーネントであれば、<strong>マスターを変更するだけですべての要素が一度に修正できます。</strong></p>

        <p>他にも、使う部品が決まっているので自然とサイトデザインが一貫性を保ち、統一感のあるページになりやすくなるのも、コンポーネントを利用する恩恵となります。</p>
      </div>
    </section>

    <!-- Section 4-6 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-6</span>
        <h2 class="section-title">コンポーネントの留意点</h2>
      </div>

      <div class="intro-text">
        <p>コンポーネントと、複製されたインスタンスは少しクセがあります。使用する際は以下のようなことに留意しながら使いましょう。</p>
      </div>

      <div class="subsection">
        <div class="info-box warning">
          <div class="info-box-title">コンポーネント・インスタンスの留意点</div>
          <div class="info-box-content">
            <ul>
              <li>マスターの変更は、その時点で変更を加えていないインスタンスすべてに影響する</li>
              <li>インスタンスでは、サイズや子要素の変更が出来ない場合がある（マスターを変更する）</li>
              <li>マスターはコンポーネント化したら元のオブジェクトに戻せない</li>
              <li>インスタンスは、[インスタンスの切り離し]で、通常のフレームにすることができる</li>
              <li>インスタンスから複製しても、同じコンポーネントから複製されたインスタンスとして扱われる</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 4-7 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-7</span>
        <h2 class="section-title">Componentsページで管理する</h2>
      </div>

      <div class="intro-text">
        <p>通常、デザイン前の事前準備（デザインシステム設計・作成）の段階で、コンポーネントなどのUIはデザインをするページとは、別に専用ページを用意して、部品は部品、デザインはデザインで管理することが多いです。ここでは、実際にコンポーネントなどを管理する[ components ]ページを作成してみましょう。</p>
      </div>

      <div class="subsection">
        <h3>Componentsページの作成</h3>
        <ol>
          <li>左パネルの[ Page1 ]をダブルクリックします</li>
          <li>[ Components ] と入力してEnter</li>
        </ol>

        <p>これまで作業してきたページは「Componentsページ」として登録されました。ついでに実際にデザイン作業をしていくページも追加しておきましょう。</p>

        <ol start="3">
          <li>左パネル [ ページ] → [＋]をクリックします</li>
          <li>新たに増えた[ Page2 ]を[ Portfolio ]に変更します。</li>
        </ol>

        <div class="info-box success">
          <div class="info-box-title">完了</div>
          <div class="info-box-content">
            <p>これで実際の作業ページ「Portfolioページ」が作成されました。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- まとめ -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">まとめ</span>
        <h2 class="section-title">第4章のまとめ</h2>
      </div>

      <div class="summary-box">
        <ul>
          <li><strong>オートレイアウト</strong>でテキストの長さに応じてボタン幅が自動変更</li>
          <li><strong>コンポーネント</strong>で同じデザインを何度でも再利用可能</li>
          <li>コンポーネントは<strong>マスター（元）</strong>と<strong>インスタンス（複製）</strong>に分かれる</li>
          <li>マスターを変更すると<strong>全インスタンスに反映</strong>される</li>
          <li>コンポーネントは<strong>Componentsページ</strong>で別管理するのが一般的</li>
          <li>レイヤーには<strong>わかりやすい名前</strong>を付けておく</li>
        </ul>
      </div>
    </section>
  </div>

  <!-- ページナビゲーション -->
  <div class="page-nav">
    <a href="9figma-color-text.html" class="page-nav-btn prev">
      <div class="page-nav-label">前へ</div>
      <div class="page-nav-title">サイト構成・色スタイル・テキストスタイル</div>
    </a>
    <a href="11figma-header.html" class="page-nav-btn next">
      <div class="page-nav-label">次へ</div>
      <div class="page-nav-title">ヘッダーとグローバルナビゲーション</div>
    </a>
  </div>

  <footer class="footer">
    <p>Figma入門 - 職業訓練校教材</p>
  </footer>

  <script src="../shared/demo.js"></script>
</body>
</html>
