<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬3ç«  ãƒˆãƒªã‚¬ãƒ¼ã¨ã‚¤ãƒ™ãƒ³ãƒˆ - GitHub Actionså…¥é–€</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../../shared/common.css">
    <style>
      :root {
        --primary: #F5A623;
        --primary-dark: #D4891D;
        --primary-light: #FEF7E8;
        --primary-lighter: #FDE4A8;
      }
      body { padding-top: 48px; }
      .nav-category-links { display: none; }
      .visual-diagram {
        margin: 28px 0; padding: 28px 20px;
        background: linear-gradient(135deg, #fef7e8 0%, #fef7e8 100%);
        border-radius: 16px; border: 1px solid #fde4a8;
      }
      .visual-diagram-title {
        text-align: center; font-size: 0.82rem; font-weight: 700;
        color: #F5A623; margin-bottom: 20px; letter-spacing: 0.05em;
      }
      .vd-flow {
        display: flex; align-items: center; justify-content: center;
        gap: 10px; flex-wrap: wrap;
      }
      .vd-box {
        background: white; border: 2px solid #F5A623; border-radius: 14px;
        padding: 16px 14px; text-align: center; min-width: 110px;
        box-shadow: 0 2px 8px rgba(245,166,35,0.08);
      }
      .vd-box.accent { background: #F5A623; color: white; }
      .vd-box .vd-icon { font-size: 1.6rem; display: block; margin-bottom: 4px; }
      .vd-box .vd-label { font-size: 0.78rem; font-weight: 700; display: block; }
      .vd-box .vd-sub { font-size: 0.68rem; opacity: 0.7; display: block; margin-top: 2px; }
      .vd-arrow { color: #F5A623; font-size: 1.3rem; font-weight: 700; }
      .vd-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 12px;
      }
      .vd-card {
        background: white; border-radius: 12px; padding: 16px; text-align: center;
        border: 2px solid #fef7e8; box-shadow: 0 1px 4px rgba(0,0,0,0.04);
      }
      .vd-card .vd-icon { font-size: 1.8rem; display: block; margin-bottom: 6px; }
      .vd-card .vd-label { font-size: 0.78rem; font-weight: 700; display: block; color: #F5A623; }
      .vd-card .vd-sub { font-size: 0.68rem; color: #666; display: block; margin-top: 4px; }
      .vd-card.green { border-color: #a5d6a7; background: #f1f8e9; }
      .vd-card.red { border-color: #ef9a9a; background: #fce4ec; }
      .vd-card.blue { border-color: #90caf9; background: #e3f2fd; }
      .vd-card.amber { border-color: #ffe082; background: #fff8e1; }
      .vd-card.purple { border-color: #ce93d8; background: #f3e5f5; }
      .vd-bar {
        display: flex; border-radius: 12px; overflow: hidden; margin: 16px 0;
      }
      .vd-bar-seg {
        flex: 1; padding: 14px 8px; text-align: center; font-size: 0.72rem; font-weight: 600; color: white;
      }
      @media (max-width: 560px) {
        .vd-flow { flex-direction: column; }
        .vd-arrow { transform: rotate(90deg); }
        .vd-grid { grid-template-columns: repeat(2, 1fr); }
      }
    </style>
</head>
<body>
    <nav class="global-nav"></nav>
    <script src="../../shared/js/nav-github-actions.js"></script>

    <div class="container">
        <header class="chapter-header">
            <div class="chapter-badge"><span class="material-icons">menu_book</span> Chapter</div>
            <div class="chapter-number">3</div>
            <h1 class="chapter-title">ãƒˆãƒªã‚¬ãƒ¼ã¨ã‚¤ãƒ™ãƒ³ãƒˆ</h1>
            <p class="chapter-lead">ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ã€Œã„ã¤ã€å®Ÿè¡Œã™ã‚‹ã‹ã‚’åˆ¶å¾¡ã™ã‚‹ãƒˆãƒªã‚¬ãƒ¼ã¨ã‚¤ãƒ™ãƒ³ãƒˆã®è¨­å®šæ–¹æ³•ã‚’è©³ã—ãå­¦ã³ã¾ã™ã€‚pushã€pull_requestã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã€æ‰‹å‹•å®Ÿè¡Œã¾ã§å¹…åºƒãã‚«ãƒãƒ¼ã—ã¾ã™ã€‚</p>
        </header>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ã‚¤ãƒ™ãƒ³ãƒˆã®åŸºç¤ -->
        <section class="section" id="event-basics">
            <h2><span class="material-icons">notifications_active</span> ã‚¤ãƒ™ãƒ³ãƒˆã®åŸºç¤</h2>

            <p>GitHub Actionsã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã€<strong>ã‚¤ãƒ™ãƒ³ãƒˆ</strong>ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<code>on</code>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã‚¤ãƒ™ãƒ³ãƒˆã‚’æŒ‡å®šã—ã€ç‰¹å®šã®æ¡ä»¶ãŒæº€ãŸã•ã‚ŒãŸã¨ãã«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒè‡ªå‹•çš„ã«èµ·å‹•ã—ã¾ã™ã€‚</p>

            <h3>onã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®åŸºæœ¬æ§‹æ–‡</h3>

            <pre><code># å˜ä¸€ã‚¤ãƒ™ãƒ³ãƒˆ
on: push

# è¤‡æ•°ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆé…åˆ—å½¢å¼ï¼‰
on: [push, pull_request]

# è©³ç´°è¨­å®šä»˜ãï¼ˆãƒãƒƒãƒ”ãƒ³ã‚°å½¢å¼ï¼‰
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]</code></pre>

            <h3>ã‚¤ãƒ™ãƒ³ãƒˆã®åˆ†é¡</h3>

            <div class="visual-diagram">
                <div class="visual-diagram-title">GitHub Actions ã‚¤ãƒ™ãƒ³ãƒˆã®3ã¤ã®åˆ†é¡</div>
                <div class="vd-grid" style="grid-template-columns: repeat(3, 1fr);">
                    <div class="vd-card blue">
                        <span class="vd-icon">ğŸ””</span>
                        <span class="vd-label">Webhook ã‚¤ãƒ™ãƒ³ãƒˆ</span>
                        <span class="vd-sub">GitHubã®æ“ä½œã«åå¿œ<br>push, pull_request,<br>issues, release ç­‰</span>
                    </div>
                    <div class="vd-card green">
                        <span class="vd-icon">â°</span>
                        <span class="vd-label">ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</span>
                        <span class="vd-sub">cronæ§‹æ–‡ã§<br>å®šæœŸå®Ÿè¡Œã‚’è¨­å®š<br>schedule</span>
                    </div>
                    <div class="vd-card amber">
                        <span class="vd-icon">ğŸ–±ï¸</span>
                        <span class="vd-label">æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼</span>
                        <span class="vd-sub">UI/APIã‹ã‚‰æ‰‹å‹•å®Ÿè¡Œ<br>workflow_dispatch<br>repository_dispatch</span>
                    </div>
                </div>
            </div>

            <h3>ä¸»è¦ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</h3>

            <table>
                <thead>
                    <tr>
                        <th>ã‚¤ãƒ™ãƒ³ãƒˆ</th>
                        <th>ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°</th>
                        <th>ä¸»ãªç”¨é€”</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>push</code></td>
                        <td>ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥æ™‚</td>
                        <td>CIï¼ˆãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>pull_request</code></td>
                        <td>PRä½œæˆãƒ»æ›´æ–°æ™‚</td>
                        <td>PRãƒã‚§ãƒƒã‚¯ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼è‡ªå‹•åŒ–</td>
                    </tr>
                    <tr>
                        <td><code>schedule</code></td>
                        <td>cronå¼ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</td>
                        <td>å®šæœŸãƒ†ã‚¹ãƒˆã€ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ</td>
                    </tr>
                    <tr>
                        <td><code>workflow_dispatch</code></td>
                        <td>æ‰‹å‹•å®Ÿè¡Œ</td>
                        <td>ãƒ‡ãƒ—ãƒ­ã‚¤ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä½œæ¥­</td>
                    </tr>
                    <tr>
                        <td><code>release</code></td>
                        <td>ãƒªãƒªãƒ¼ã‚¹ä½œæˆæ™‚</td>
                        <td>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹ã€CD</td>
                    </tr>
                    <tr>
                        <td><code>issues</code></td>
                        <td>Issueæ“ä½œæ™‚</td>
                        <td>è‡ªå‹•ãƒ©ãƒ™ãƒªãƒ³ã‚°ã€é€šçŸ¥</td>
                    </tr>
                    <tr>
                        <td><code>workflow_call</code></td>
                        <td>ä»–ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹ã‚‰å‘¼ã³å‡ºã—</td>
                        <td>å†åˆ©ç”¨å¯èƒ½ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</td>
                    </tr>
                </tbody>
            </table>

            <div class="point-box">
                <div class="point-title"><span class="material-icons">lightbulb</span> é‡è¦ãƒã‚¤ãƒ³ãƒˆ</div>
                <p>æœ€ã‚‚é »ç¹ã«ä½¿ç”¨ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã¯ <code>push</code> ã¨ <code>pull_request</code> ã§ã™ã€‚ã¾ãšã¯ã“ã®2ã¤ã®ä½¿ã„æ–¹ã‚’ã—ã£ã‹ã‚Šãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ã‚‡ã†ã€‚</p>
            </div>
        </section>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: pushã¨pull_request -->
        <section class="section" id="push-pr">
            <h2><span class="material-icons">call_merge</span> pushã¨pull_request</h2>

            <p><code>push</code>ã¨<code>pull_request</code>ã¯ã€æœ€ã‚‚åŸºæœ¬çš„ã§ä½¿ç”¨é »åº¦ã®é«˜ã„ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚ãƒ–ãƒ©ãƒ³ãƒãƒ•ã‚£ãƒ«ã‚¿ã‚„ãƒ‘ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ã‚’ä½¿ã£ã¦ã€å®Ÿè¡Œæ¡ä»¶ã‚’ç´°ã‹ãåˆ¶å¾¡ã§ãã¾ã™ã€‚</p>

            <h3>pushã‚¤ãƒ™ãƒ³ãƒˆ</h3>

            <pre><code># mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushã®ã¿
on:
  push:
    branches: [main]

# mainã¨developãƒ–ãƒ©ãƒ³ãƒã¸ã®push
on:
  push:
    branches: [main, develop]

# ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼ˆãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ï¼‰
on:
  push:
    branches:
      - main
      - 'release/**'   # release/1.0, release/2.0/beta ç­‰
      - 'feature/*'    # feature/login, feature/signup ç­‰</code></pre>

            <h3>ãƒ–ãƒ©ãƒ³ãƒãƒ•ã‚£ãƒ«ã‚¿</h3>

            <pre><code># branches: æŒ‡å®šãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒƒãƒã—ãŸã‚‰å®Ÿè¡Œ
on:
  push:
    branches:
      - main
      - develop

# branches-ignore: æŒ‡å®šãƒ–ãƒ©ãƒ³ãƒä»¥å¤–ã§å®Ÿè¡Œ
on:
  push:
    branches-ignore:
      - 'docs/**'
      - 'experimental/**'</code></pre>

            <div class="point-box">
                <div class="point-title"><span class="material-icons">warning</span> æ³¨æ„</div>
                <p><code>branches</code> ã¨ <code>branches-ignore</code> ã¯åŒæ™‚ã«ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚ã©ã¡ã‚‰ã‹ä¸€æ–¹ã®ã¿æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</p>
            </div>

            <h3>ãƒ‘ã‚¹ãƒ•ã‚£ãƒ«ã‚¿</h3>
            <p>ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã«ã®ã¿å®Ÿè¡Œã™ã‚‹ã‚ˆã†åˆ¶é™ã§ãã¾ã™ã€‚ãƒ¢ãƒãƒ¬ãƒã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå¤‰æ›´ã®é™¤å¤–ã«ä¾¿åˆ©ã§ã™ã€‚</p>

            <pre><code># ç‰¹å®šãƒ‘ã‚¹ã®å¤‰æ›´æ™‚ã®ã¿å®Ÿè¡Œ
on:
  push:
    branches: [main]
    paths:
      - 'src/**'
      - 'package.json'
      - 'package-lock.json'

# ç‰¹å®šãƒ‘ã‚¹ã®å¤‰æ›´ã‚’é™¤å¤–
on:
  push:
    branches: [main]
    paths-ignore:
      - 'docs/**'
      - '**.md'
      - '.gitignore'</code></pre>

            <div class="visual-diagram">
                <div class="visual-diagram-title">push ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ§‹é€ </div>
                <div class="vd-flow">
                    <div class="vd-box">
                        <span class="vd-icon">ğŸ“¤</span>
                        <span class="vd-label">git push</span>
                        <span class="vd-sub">ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚’ãƒ—ãƒƒã‚·ãƒ¥</span>
                    </div>
                    <span class="vd-arrow">â†’</span>
                    <div class="vd-box accent">
                        <span class="vd-icon">ğŸŒ¿</span>
                        <span class="vd-label">ãƒ–ãƒ©ãƒ³ãƒãƒ•ã‚£ãƒ«ã‚¿</span>
                        <span class="vd-sub">branches / branches-ignore</span>
                    </div>
                    <span class="vd-arrow">â†’</span>
                    <div class="vd-box accent">
                        <span class="vd-icon">ğŸ“</span>
                        <span class="vd-label">ãƒ‘ã‚¹ãƒ•ã‚£ãƒ«ã‚¿</span>
                        <span class="vd-sub">paths / paths-ignore</span>
                    </div>
                    <span class="vd-arrow">â†’</span>
                    <div class="vd-box">
                        <span class="vd-icon">ğŸš€</span>
                        <span class="vd-label">ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œ</span>
                        <span class="vd-sub">æ¡ä»¶ä¸€è‡´ã§èµ·å‹•</span>
                    </div>
                </div>
            </div>

            <h3>pull_requestã‚¤ãƒ™ãƒ³ãƒˆ</h3>

            <pre><code># åŸºæœ¬çš„ãªPRãƒˆãƒªã‚¬ãƒ¼
on:
  pull_request:
    branches: [main]

# ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—ã®æŒ‡å®š
on:
  pull_request:
    types: [opened, synchronize, reopened]
    branches: [main]

# PRã§ã‚‚ãƒ‘ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãŒä½¿ãˆã‚‹
on:
  pull_request:
    branches: [main]
    paths:
      - 'src/**'
      - 'tests/**'</code></pre>

            <h3>pull_requestã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—</h3>

            <table>
                <thead>
                    <tr>
                        <th>ã‚¿ã‚¤ãƒ—</th>
                        <th>ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°</th>
                        <th>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>opened</code></td>
                        <td>PRãŒæ–°è¦ä½œæˆã•ã‚ŒãŸæ™‚</td>
                        <td>ã¯ã„</td>
                    </tr>
                    <tr>
                        <td><code>synchronize</code></td>
                        <td>PRã®ãƒ–ãƒ©ãƒ³ãƒã«ã‚³ãƒŸãƒƒãƒˆãŒè¿½åŠ ã•ã‚ŒãŸæ™‚</td>
                        <td>ã¯ã„</td>
                    </tr>
                    <tr>
                        <td><code>reopened</code></td>
                        <td>ã‚¯ãƒ­ãƒ¼ã‚ºã•ã‚ŒãŸPRãŒå†ã‚ªãƒ¼ãƒ—ãƒ³ã•ã‚ŒãŸæ™‚</td>
                        <td>ã¯ã„</td>
                    </tr>
                    <tr>
                        <td><code>closed</code></td>
                        <td>PRãŒã‚¯ãƒ­ãƒ¼ã‚º/ãƒãƒ¼ã‚¸ã•ã‚ŒãŸæ™‚</td>
                        <td>ã„ã„ãˆ</td>
                    </tr>
                    <tr>
                        <td><code>labeled</code></td>
                        <td>PRã«ãƒ©ãƒ™ãƒ«ãŒä»˜ä¸ã•ã‚ŒãŸæ™‚</td>
                        <td>ã„ã„ãˆ</td>
                    </tr>
                    <tr>
                        <td><code>review_requested</code></td>
                        <td>ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã•ã‚ŒãŸæ™‚</td>
                        <td>ã„ã„ãˆ</td>
                    </tr>
                </tbody>
            </table>

            <h3>å®Ÿè·µä¾‹: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰/ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åˆ¥CI</h3>

            <pre><code># .github/workflows/frontend-ci.yml
name: Frontend CI
on:
  push:
    branches: [main, develop]
    paths:
      - 'frontend/**'
      - 'package.json'
  pull_request:
    branches: [main]
    paths:
      - 'frontend/**'

jobs:
  frontend-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - run: cd frontend && npm ci
      - run: cd frontend && npm test</code></pre>

            <div class="exercise">
                <div class="exercise-title"><span class="material-icons">edit</span> æ¼”ç¿’å•é¡Œ 3-1</div>
                <p><strong>å•é¡Œ:</strong> ä»¥ä¸‹ã®è¦ä»¶ã‚’æº€ãŸã™onã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’YAMLã§è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚</p>
                <ul>
                    <li>mainãƒ–ãƒ©ãƒ³ãƒã¨release/*ãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã«å®Ÿè¡Œ</li>
                    <li>mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pull_requestæ™‚ã«å®Ÿè¡Œ</li>
                    <li>docs/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨*.mdãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã¯é™¤å¤–</li>
                </ul>
                <details>
                    <summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>
                    <div class="exercise-answer">
                        <pre><code>on:
  push:
    branches:
      - main
      - 'release/*'
    paths-ignore:
      - 'docs/**'
      - '**.md'
  pull_request:
    branches:
      - main
    paths-ignore:
      - 'docs/**'
      - '**.md'</code></pre>
                    </div>
                </details>
            </div>
        </section>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ -->
        <section class="section" id="schedule">
            <h2><span class="material-icons">schedule</span> ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ</h2>

            <p><code>schedule</code>ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½¿ã†ã¨ã€cronæ§‹æ–‡ã§å®šæœŸçš„ã«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚å¤œé–“ãƒ†ã‚¹ãƒˆã€å®šæœŸãƒ¬ãƒãƒ¼ãƒˆã€ä¾å­˜é–¢ä¿‚ã®æ›´æ–°ãƒã‚§ãƒƒã‚¯ãªã©ã«æ´»ç”¨ã•ã‚Œã¾ã™ã€‚</p>

            <h3>cronæ§‹æ–‡ã®åŸºæœ¬</h3>

            <pre><code>on:
  schedule:
    # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ† (0-59)
    # â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ™‚ (0-23)
    # â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥ (1-31)
    # â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆ (1-12)
    # â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ›œæ—¥ (0-6, 0=æ—¥æ›œ)
    # â”‚ â”‚ â”‚ â”‚ â”‚
    - cron: '30 5 * * *'  # æ¯æ—¥UTC 5:30ï¼ˆJST 14:30ï¼‰</code></pre>

            <div class="visual-diagram">
                <div class="visual-diagram-title">cronæ§‹æ–‡ã®5ã¤ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</div>
                <div class="vd-bar">
                    <div class="vd-bar-seg" style="background: #1565C0;">åˆ†<br>0-59</div>
                    <div class="vd-bar-seg" style="background: #1E88E5;">æ™‚<br>0-23</div>
                    <div class="vd-bar-seg" style="background: #42A5F5;">æ—¥<br>1-31</div>
                    <div class="vd-bar-seg" style="background: #29B6F6;">æœˆ<br>1-12</div>
                    <div class="vd-bar-seg" style="background: #26C6DA;">æ›œæ—¥<br>0-6</div>
                </div>
                <div class="vd-grid" style="grid-template-columns: repeat(2, 1fr); margin-top: 16px;">
                    <div class="vd-card blue">
                        <span class="vd-label">* (ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯)</span>
                        <span class="vd-sub">ã™ã¹ã¦ã®å€¤ã«ãƒãƒƒãƒ</span>
                    </div>
                    <div class="vd-card green">
                        <span class="vd-label">, (ã‚«ãƒ³ãƒ)</span>
                        <span class="vd-sub">è¤‡æ•°å€¤: 1,15</span>
                    </div>
                    <div class="vd-card amber">
                        <span class="vd-label">- (ãƒã‚¤ãƒ•ãƒ³)</span>
                        <span class="vd-sub">ç¯„å›²: 1-5</span>
                    </div>
                    <div class="vd-card purple">
                        <span class="vd-label">/ (ã‚¹ãƒ©ãƒƒã‚·ãƒ¥)</span>
                        <span class="vd-sub">é–“éš”: */15</span>
                    </div>
                </div>
            </div>

            <h3>cronå¼ã®å…·ä½“ä¾‹</h3>

            <table>
                <thead>
                    <tr>
                        <th>cronå¼</th>
                        <th>æ„å‘³ï¼ˆUTCï¼‰</th>
                        <th>JSTæ›ç®—</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>'0 0 * * *'</code></td>
                        <td>æ¯æ—¥ 0:00 UTC</td>
                        <td>æ¯æ—¥ 9:00 JST</td>
                    </tr>
                    <tr>
                        <td><code>'0 18 * * *'</code></td>
                        <td>æ¯æ—¥ 18:00 UTC</td>
                        <td>æ¯æ—¥ 3:00 JSTï¼ˆç¿Œæ—¥ï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>'30 5 * * 1-5'</code></td>
                        <td>å¹³æ—¥ 5:30 UTC</td>
                        <td>å¹³æ—¥ 14:30 JST</td>
                    </tr>
                    <tr>
                        <td><code>'0 0 1 * *'</code></td>
                        <td>æ¯æœˆ1æ—¥ 0:00 UTC</td>
                        <td>æ¯æœˆ1æ—¥ 9:00 JST</td>
                    </tr>
                    <tr>
                        <td><code>'*/15 * * * *'</code></td>
                        <td>15åˆ†ã”ã¨</td>
                        <td>15åˆ†ã”ã¨</td>
                    </tr>
                    <tr>
                        <td><code>'0 0 * * 0'</code></td>
                        <td>æ¯é€±æ—¥æ›œ 0:00 UTC</td>
                        <td>æ¯é€±æ—¥æ›œ 9:00 JST</td>
                    </tr>
                </tbody>
            </table>

            <div class="point-box">
                <div class="point-title"><span class="material-icons">warning</span> æ³¨æ„äº‹é …</div>
                <ul>
                    <li>cronå¼ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã¯<strong>UTC</strong>ã§ã™ã€‚æ—¥æœ¬æ™‚é–“ï¼ˆJSTï¼‰ã¯UTC+9ãªã®ã§æ›ç®—ãŒå¿…è¦ã§ã™</li>
                    <li>æœ€çŸ­é–“éš”ã¯<strong>5åˆ†</strong>ã§ã™ã€‚ãã‚Œã‚ˆã‚ŠçŸ­ã„é–“éš”ã¯5åˆ†ã«ä¸¸ã‚ã‚‰ã‚Œã¾ã™</li>
                    <li>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œã¯<strong>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ãƒ³ãƒ</strong>ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿å¯¾è±¡</li>
                    <li>GitHubã®è² è·çŠ¶æ³ã«ã‚ˆã‚Šã€å®Ÿè¡ŒãŒæ•°åˆ†ã€œæ•°ååˆ†é…å»¶ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™</li>
                </ul>
            </div>

            <h3>å®Ÿè·µä¾‹: å¤œé–“ãƒ†ã‚¹ãƒˆã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯</h3>

            <pre><code># .github/workflows/nightly.yml
name: Nightly Tests

on:
  schedule:
    # æ¯æ—¥ UTC 18:00ï¼ˆJST 3:00ï¼‰ã«å®Ÿè¡Œ
    - cron: '0 18 * * *'

jobs:
  full-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - run: npm ci
      - name: Run full test suite
        run: npm run test:full
      - name: Run security audit
        run: npm audit --audit-level=high</code></pre>

            <pre><code># è¤‡æ•°ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­å®š
on:
  schedule:
    - cron: '0 18 * * 1-5'   # å¹³æ—¥ã®å¤œé–“ãƒ†ã‚¹ãƒˆ
    - cron: '0 0 * * 0'      # é€±æ¬¡ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³</code></pre>

            <div class="exercise">
                <div class="exercise-title"><span class="material-icons">edit</span> æ¼”ç¿’å•é¡Œ 3-2</div>
                <p><strong>å•é¡Œ:</strong> ä»¥ä¸‹ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å¯¾å¿œã™ã‚‹cronå¼ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚</p>
                <ol>
                    <li>æ¯æ—¥æ—¥æœ¬æ™‚é–“ã®åˆå‰6æ™‚ã«å®Ÿè¡Œ</li>
                    <li>æ¯é€±æœˆæ›œæ—¥ã¨é‡‘æ›œæ—¥ã®æ—¥æœ¬æ™‚é–“ã®åˆå¾Œ3æ™‚ã«å®Ÿè¡Œ</li>
                    <li>æ¯æœˆ15æ—¥ã®æ—¥æœ¬æ™‚é–“ã®åˆå‰0æ™‚ã«å®Ÿè¡Œ</li>
                </ol>
                <details>
                    <summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>
                    <div class="exercise-answer">
                        <ol>
                            <li><code>'0 21 * * *'</code> â€” JST 6:00 = UTC 21:00ï¼ˆå‰æ—¥ï¼‰</li>
                            <li><code>'0 6 * * 1,5'</code> â€” JST 15:00 = UTC 6:00ã€‚æœˆæ›œ=1ã€é‡‘æ›œ=5</li>
                            <li><code>'0 15 15 * *'</code> â€” JST 0:00 = UTC 15:00ï¼ˆå‰æ—¥ï¼‰ã€‚æ¯æœˆ15æ—¥ã®UTC 15:00</li>
                        </ol>
                        <p>æ³¨æ„: JSTã‹ã‚‰UTCã¸ã®å¤‰æ›ã¯ã€Œ-9æ™‚é–“ã€ã§ã™ã€‚æ—¥ã‚’ã¾ãŸãå ´åˆã¯å‰æ—¥ã®UTCæ™‚åˆ»ã«ãªã‚Šã¾ã™ã€‚</p>
                    </div>
                </details>
            </div>
        </section>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³4: æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼ -->
        <section class="section" id="manual-trigger">
            <h2><span class="material-icons">touch_app</span> æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼</h2>

            <p><code>workflow_dispatch</code>ã‚’ä½¿ã†ã¨ã€GitHubã®UIï¼ˆActionsã‚¿ãƒ–ï¼‰ã‚„APIã‹ã‚‰ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ‰‹å‹•ã§å®Ÿè¡Œã§ãã¾ã™ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä½œæ¥­ãªã©ã€ä»»æ„ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å®Ÿè¡Œã—ãŸã„å‡¦ç†ã«æœ€é©ã§ã™ã€‚</p>

            <h3>åŸºæœ¬çš„ãªæ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼</h3>

            <pre><code># æœ€å°æ§‹æˆ
name: Manual Deploy

on:
  workflow_dispatch:

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: echo "Manual deployment started!"</code></pre>

            <h3>inputsã«ã‚ˆã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®šç¾©</h3>
            <p><code>inputs</code>ã‚’ä½¿ã†ã¨ã€æ‰‹å‹•å®Ÿè¡Œæ™‚ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿè¡Œæ™‚ã«UIã‹ã‚‰ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã§ãã¾ã™ã€‚</p>

            <pre><code>name: Deploy to Environment

on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ç’°å¢ƒ'
        required: true
        type: choice
        options:
          - staging
          - production
        default: staging
      version:
        description: 'ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³'
        required: true
        type: string
        default: 'latest'
      dry_run:
        description: 'ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ï¼ˆå®Ÿéš›ã«ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„ï¼‰'
        required: false
        type: boolean
        default: false

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Show parameters
        run: |
          echo "Environment: ${{ github.event.inputs.environment }}"
          echo "Version: ${{ github.event.inputs.version }}"
          echo "Dry Run: ${{ github.event.inputs.dry_run }}"

      - name: Deploy
        if: ${{ github.event.inputs.dry_run == 'false' }}
        run: |
          echo "Deploying version ${{ github.event.inputs.version }}"
          echo "Target: ${{ github.event.inputs.environment }}"</code></pre>

            <h3>inputsã®å‹</h3>

            <table>
                <thead>
                    <tr>
                        <th>å‹</th>
                        <th>èª¬æ˜</th>
                        <th>UIè¡¨ç¤º</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>string</code></td>
                        <td>è‡ªç”±å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆ</td>
                        <td>ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</td>
                    </tr>
                    <tr>
                        <td><code>boolean</code></td>
                        <td>true/false</td>
                        <td>ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹</td>
                    </tr>
                    <tr>
                        <td><code>choice</code></td>
                        <td>é¸æŠè‚¢ã‹ã‚‰é¸ã¶</td>
                        <td>ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³</td>
                    </tr>
                    <tr>
                        <td><code>environment</code></td>
                        <td>GitHub Environmentsã‹ã‚‰é¸ã¶</td>
                        <td>ç’°å¢ƒã‚»ãƒ¬ã‚¯ã‚¿</td>
                    </tr>
                </tbody>
            </table>

            <div class="visual-diagram">
                <div class="visual-diagram-title">workflow_dispatch ã®å…¥åŠ›UIã‚¤ãƒ¡ãƒ¼ã‚¸</div>
                <div style="max-width: 400px; margin: 0 auto; background: white; border-radius: 12px; padding: 20px; border: 2px solid #fef7e8;">
                    <div style="font-weight: 700; font-size: 0.9rem; color: #333; margin-bottom: 16px; border-bottom: 1px solid #eee; padding-bottom: 8px;">Run workflow</div>
                    <div style="margin-bottom: 12px;">
                        <div style="font-size: 0.72rem; font-weight: 600; color: #555; margin-bottom: 4px;">Branch</div>
                        <div style="background: #f6f8fa; border: 1px solid #d0d7de; border-radius: 6px; padding: 8px 12px; font-size: 0.78rem;">main</div>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <div style="font-size: 0.72rem; font-weight: 600; color: #555; margin-bottom: 4px;">Environment</div>
                        <div style="background: #f6f8fa; border: 1px solid #d0d7de; border-radius: 6px; padding: 8px 12px; font-size: 0.78rem;">staging â–¼</div>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <div style="font-size: 0.72rem; font-weight: 600; color: #555; margin-bottom: 4px;">Version</div>
                        <div style="background: #f6f8fa; border: 1px solid #d0d7de; border-radius: 6px; padding: 8px 12px; font-size: 0.78rem;">latest</div>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <label style="font-size: 0.72rem; font-weight: 600; color: #555; display: flex; align-items: center; gap: 6px;">
                            <span style="display: inline-block; width: 16px; height: 16px; border: 2px solid #d0d7de; border-radius: 3px;"></span>
                            Dry Run
                        </label>
                    </div>
                    <div style="background: #F5A623; color: white; text-align: center; padding: 10px; border-radius: 6px; font-size: 0.82rem; font-weight: 600;">Run workflow</div>
                </div>
            </div>

            <h3>GitHub CLIã§ã®æ‰‹å‹•å®Ÿè¡Œ</h3>

            <pre><code># GitHub CLI ã§æ‰‹å‹•å®Ÿè¡Œ
gh workflow run deploy.yml \
  -f environment=staging \
  -f version=v1.2.3 \
  -f dry_run=false

# å®Ÿè¡ŒçŠ¶æ…‹ã®ç¢ºèª
gh run list --workflow=deploy.yml</code></pre>

            <div class="exercise">
                <div class="exercise-title"><span class="material-icons">edit</span> æ¼”ç¿’å•é¡Œ 3-3</div>
                <p><strong>å•é¡Œ:</strong> ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æ‰‹å‹•ã§å®Ÿè¡Œã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚ä»¥ä¸‹ã®inputsã‚’å®šç¾©ã—ã¦ãã ã•ã„ã€‚</p>
                <ul>
                    <li><code>database</code>: å¯¾è±¡DBåï¼ˆchoiceå‹: production, staging, developmentï¼‰</li>
                    <li><code>backup_type</code>: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¨®åˆ¥ï¼ˆchoiceå‹: full, incrementalï¼‰</li>
                    <li><code>compress</code>: åœ§ç¸®ã™ã‚‹ã‹ï¼ˆbooleanå‹ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆtrueï¼‰</li>
                </ul>
                <details>
                    <summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>
                    <div class="exercise-answer">
                        <pre><code>name: Database Backup

on:
  workflow_dispatch:
    inputs:
      database:
        description: 'å¯¾è±¡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹'
        required: true
        type: choice
        options:
          - production
          - staging
          - development
      backup_type:
        description: 'ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¨®åˆ¥'
        required: true
        type: choice
        options:
          - full
          - incremental
        default: full
      compress:
        description: 'åœ§ç¸®ã‚’æœ‰åŠ¹ã«ã™ã‚‹'
        required: false
        type: boolean
        default: true

jobs:
  backup:
    runs-on: ubuntu-latest
    steps:
      - name: Run backup
        run: |
          echo "Database: ${{ github.event.inputs.database }}"
          echo "Type: ${{ github.event.inputs.backup_type }}"
          echo "Compress: ${{ github.event.inputs.compress }}"</code></pre>
                    </div>
                </details>
            </div>
        </section>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5: ãã®ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆ -->
        <section class="section" id="other-events">
            <h2><span class="material-icons">extension</span> ãã®ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆ</h2>

            <p>pushã€pull_requestã€scheduleä»¥å¤–ã«ã‚‚ã€GitHub Actionsã¯å¤šæ•°ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã¯ç‰¹ã«å®Ÿå‹™ã§æ´»ç”¨é »åº¦ã®é«˜ã„ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</p>

            <h3>releaseã‚¤ãƒ™ãƒ³ãƒˆ</h3>
            <p>ãƒªãƒªãƒ¼ã‚¹ã®ä½œæˆãƒ»å…¬é–‹ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹ã‚„ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è‡ªå‹•åŒ–ã§ãã¾ã™ã€‚</p>

            <pre><code>name: Publish Package

on:
  release:
    types: [published]

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          registry-url: 'https://registry.npmjs.org'
      - run: npm ci
      - run: npm publish
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}</code></pre>

            <h3>issuesã‚¤ãƒ™ãƒ³ãƒˆ</h3>
            <p>Issueæ“ä½œæ™‚ã«è‡ªå‹•åŒ–å‡¦ç†ã‚’è¡Œãˆã¾ã™ã€‚</p>

            <pre><code>name: Issue Automation

on:
  issues:
    types: [opened, labeled]

jobs:
  auto-label:
    runs-on: ubuntu-latest
    if: github.event.action == 'opened'
    steps:
      - name: Add triage label
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.addLabels({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              labels: ['needs-triage']
            })</code></pre>

            <h3>workflow_callã‚¤ãƒ™ãƒ³ãƒˆï¼ˆå†åˆ©ç”¨å¯èƒ½ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰</h3>
            <p>ä»–ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ã€Œå†åˆ©ç”¨å¯èƒ½ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚’å®šç¾©ã§ãã¾ã™ã€‚</p>

            <pre><code># .github/workflows/reusable-test.ymlï¼ˆå‘¼ã³å‡ºã•ã‚Œã‚‹å´ï¼‰
name: Reusable Test Workflow

on:
  workflow_call:
    inputs:
      node-version:
        required: true
        type: string

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: ${{ inputs.node-version }}
      - run: npm ci
      - run: npm test</code></pre>

            <pre><code># .github/workflows/ci.ymlï¼ˆå‘¼ã³å‡ºã™å´ï¼‰
name: CI

on: push

jobs:
  call-test:
    uses: ./.github/workflows/reusable-test.yml
    with:
      node-version: '20'</code></pre>

            <h3>repository_dispatchã‚¤ãƒ™ãƒ³ãƒˆ</h3>
            <p>å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰APIã‚’é€šã˜ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ãƒˆãƒªã‚¬ãƒ¼ã§ãã¾ã™ã€‚</p>

            <pre><code># ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©
name: External Trigger

on:
  repository_dispatch:
    types: [deploy-request]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Show payload
        run: |
          echo "Event type: ${{ github.event.action }}"
          echo "Client payload: ${{ toJSON(github.event.client_payload) }}"</code></pre>

            <pre><code># APIã§ãƒˆãƒªã‚¬ãƒ¼ï¼ˆcurlã®ä¾‹ï¼‰
curl -X POST \
  -H "Accept: application/vnd.github.v3+json" \
  -H "Authorization: token YOUR_TOKEN" \
  https://api.github.com/repos/OWNER/REPO/dispatches \
  -d '{"event_type":"deploy-request","client_payload":{"version":"1.0.0"}}'</code></pre>

            <h3>ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ï¼ˆgithub.eventï¼‰</h3>
            <p>å„ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯å›ºæœ‰ã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ¼ã‚¿ï¼‰ãŒä»˜å±ã—ã¦ã„ã¾ã™ã€‚<code>github.event</code>ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚</p>

            <div class="visual-diagram">
                <div class="visual-diagram-title">ä¸»è¦ã‚¤ãƒ™ãƒ³ãƒˆã¨ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®é–¢ä¿‚</div>
                <div class="vd-grid" style="grid-template-columns: repeat(2, 1fr);">
                    <div class="vd-card blue">
                        <span class="vd-icon">ğŸ“¤</span>
                        <span class="vd-label">push</span>
                        <span class="vd-sub">github.event.commits<br>github.event.head_commit<br>github.event.pusher</span>
                    </div>
                    <div class="vd-card green">
                        <span class="vd-icon">ğŸ”€</span>
                        <span class="vd-label">pull_request</span>
                        <span class="vd-sub">github.event.pull_request<br>github.event.number<br>github.event.action</span>
                    </div>
                    <div class="vd-card amber">
                        <span class="vd-icon">ğŸ·ï¸</span>
                        <span class="vd-label">release</span>
                        <span class="vd-sub">github.event.release<br>github.event.release.tag_name<br>github.event.action</span>
                    </div>
                    <div class="vd-card purple">
                        <span class="vd-icon">ğŸ“‹</span>
                        <span class="vd-label">issues</span>
                        <span class="vd-sub">github.event.issue<br>github.event.issue.number<br>github.event.action</span>
                    </div>
                </div>
            </div>

            <pre><code># ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®æ´»ç”¨ä¾‹
name: Commit Info

on: push

jobs:
  show-info:
    runs-on: ubuntu-latest
    steps:
      - name: Show commit info
        run: |
          echo "Pushed by: ${{ github.event.pusher.name }}"
          echo "Commit message: ${{ github.event.head_commit.message }}"
          echo "Branch: ${{ github.ref_name }}"
          echo "SHA: ${{ github.sha }}"</code></pre>

            <h3>è¤‡æ•°ã‚¤ãƒ™ãƒ³ãƒˆã®çµ„ã¿åˆã‚ã›</h3>
            <p>å®Ÿå‹™ã§ã¯è¤‡æ•°ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã†ã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ã€‚</p>

            <pre><code># å®Ÿè·µçš„ãªè¤‡åˆãƒˆãƒªã‚¬ãƒ¼è¨­å®š
name: CI/CD Pipeline

on:
  # ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´æ™‚ï¼ˆCIï¼‰
  push:
    branches: [main, develop]
    paths-ignore: ['docs/**', '**.md']

  # PRã®ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚
  pull_request:
    branches: [main]

  # å®šæœŸãƒ†ã‚¹ãƒˆ
  schedule:
    - cron: '0 18 * * 1-5'

  # æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤
  workflow_dispatch:
    inputs:
      deploy_target:
        type: choice
        options: [staging, production]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: npm ci
      - run: npm test

  deploy:
    needs: test
    if: github.event_name == 'workflow_dispatch'
    runs-on: ubuntu-latest
    steps:
      - run: echo "Deploying to ${{ github.event.inputs.deploy_target }}"</code></pre>

            <div class="exercise">
                <div class="exercise-title"><span class="material-icons">edit</span> æ¼”ç¿’å•é¡Œ 3-4</div>
                <p><strong>å•é¡Œ:</strong> ä»¥ä¸‹ã®è¦ä»¶ã‚’ã™ã¹ã¦æº€ãŸã™<code>on</code>ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚</p>
                <ol>
                    <li>mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushï¼ˆsrc/é…ä¸‹ã®å¤‰æ›´ã®ã¿ï¼‰</li>
                    <li>mainãƒ–ãƒ©ãƒ³ãƒã¸ã®PRä½œæˆãƒ»æ›´æ–°æ™‚</li>
                    <li>æ¯é€±æœˆæ›œæ—¥ã®JSTåˆå‰9æ™‚ã«å®šæœŸãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</li>
                    <li>æ‰‹å‹•å®Ÿè¡Œï¼ˆå…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: debug_modeï¼ˆbooleanã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆfalseï¼‰ï¼‰</li>
                </ol>
                <details>
                    <summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>
                    <div class="exercise-answer">
                        <pre><code>on:
  push:
    branches: [main]
    paths:
      - 'src/**'
  pull_request:
    branches: [main]
    types: [opened, synchronize]
  schedule:
    # JST 9:00 = UTC 0:00
    - cron: '0 0 * * 1'
  workflow_dispatch:
    inputs:
      debug_mode:
        description: 'ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹'
        required: false
        type: boolean
        default: false</code></pre>
                    </div>
                </details>
            </div>
        </section>

        <!-- ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <nav class="chapter-nav">
            <a href="2actions-workflow-basics.html" class="prev"><span class="material-icons">arrow_back</span> å‰ã®ç« </a>
            <a href="index.html" class="home"><span class="material-icons">home</span> ç›®æ¬¡</a>
            <a href="4actions-jobs-runners.html" class="next">æ¬¡ã®ç«  <span class="material-icons">arrow_forward</span></a>
        </nav>
    </div>

    <footer class="global-footer"></footer>
    <script src="../../shared/footer.js"></script>
</body>
</html>