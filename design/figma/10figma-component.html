<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ポートフォリオ第4章: ボタンのコンポーネントを作る - Figma入門</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../../shared/common.css">
  <style>
    :root {
      --primary: #FF6B35;
      --primary-dark: #E55A2B;
      --primary-light: #FFF5F2;
      --primary-lighter: #FFD4C7;
    }
    .nav-category-links { display: none; }
  </style>
</head>
<body>
  <nav class="global-nav"></nav>
  <script src="../../shared/js/nav-figma.js"></script>

  <div class="container">
    <header class="chapter-header">
      <div class="chapter-badge">Portfolio</div>
      <div class="chapter-number">4</div>
      <h1 class="chapter-title">ボタンのコンポーネントを作る</h1>
      <p class="chapter-subtitle">オートレイアウトとコンポーネントで再利用可能なボタンを作成</p>
    </header>

    <nav class="toc">
      <h2 class="toc-title">この章の内容</h2>
      <ul class="toc-list">
        <li class="toc-item"><span class="toc-number">4-1</span>ボタンの概要</li>
        <li class="toc-item"><span class="toc-number">4-2</span>オートレイアウトを使ったボタン作成</li>
        <li class="toc-item"><span class="toc-number">4-3</span>ボタンをコンポーネントにする</li>
        <li class="toc-item"><span class="toc-number">4-4</span>コンポーネントの仕組み</li>
        <li class="toc-item"><span class="toc-number">4-5</span>コンポーネントの利用シーン</li>
        <li class="toc-item"><span class="toc-number">4-6</span>コンポーネントの留意点</li>
        <li class="toc-item"><span class="toc-number">4-7</span>Compornents ページで管理する</li>
      </ul>
    </nav>

    <!-- Section 4-1 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-1</span>
        <h2 class="section-title">ボタンの概要</h2>
      </div>

      <p>ユーザーがクリックするためのボタン要素を作成します。
作成にはオートレイアウトというFigmaの機能を使用します。
オートレイアウトを使用することで、文字の長さに応じてボタン幅が自動的に変更されます。
さらに、一度作れば同じデザインを何度でも流用できる、コンポーネントという機能も使用していきます。</p>

      <p>※オートレイアウトとコンポーネントの詳細は別章で説明する</p>
    </section>

    <!-- Section 4-2 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-2</span>
        <h2 class="section-title">オートレイアウトを使ったボタン作成</h2>
      </div>

      <div class="info-box">
        <div class="info-box-title">全体作業フロー</div>
        <div class="info-box-content">
          <ol>
            <li>テキストを作成とスタイル設定</li>
            <li>オートレイアウト化とオートレイアウト項目設定</li>
            <li>色スタイルの登録</li>
            <li>コンポーネント化と名称設定</li>
          </ol>
        </div>
      </div>

      <div class="subsection">
        <h3>① テキストを作成とスタイル設定</h3>

        <ol>
          <li>テキストを選択します：T または 下部ツールの T</li>
          <li>任意の場所をクリックし、「Button Text」と入力します</li>
          <li>テキストを選択して、右サイドパネルのタイポグラフィ右にある四点マークをクリック</li>
          <li>表示されたテキストスタイルから、下記のスタイルをクリックし、スタイルを適用します
            <ul>
              <li>設定するテキストスタイル：text/md</li>
            </ul>
          </li>
        </ol>

        <div class="image-container" style="margin: 24px 0; text-align: center;">
          <img src="../text_image/figma/design/4-2-1.create-text-style.png" alt="テキストスタイルの設定" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        </div>
      </div>

      <div class="subsection">
        <h3>② オートレイアウト化とオートレイアウト項目設定</h3>

        <ol>
          <li>テキストオブジェクトを選択し、 Shift + A でオートレイアウト化します
            <br>※ 成功すると左側のレイヤーパネルで、テキストがオートレイアウト機能を持ったフレームに変化します</li>
        </ol>

        <div class="image-container" style="margin: 24px 0; text-align: center;">
          <img src="../text_image/figma/design/4-2-2-1.auto-layout-settings.png" alt="オートレイアウト設定" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        </div>

        <p>▼ オートレイアウト前</p>
        <p>↓↓↓</p>
        <p>▼ オートレイアウト後</p>

        <div class="info-box">
          <div class="info-box-title">POINT</div>
          <div class="info-box-content">
            <ul>
              <li>左側のレイヤーには、キャンバス上に配置したオブジェクトの名称がすべて表示されます</li>
              <li>フォルダなどと同じ階層構造になっており、左側に寄っているのが親、その配下で字下げになっているのが子の要素であることを表しています</li>
              <li>上下の位置によって、キャンバス上で要素が重なったときの表示順が変わります
                <br>※ 上が優先。表示順を変えたい場合は要素を選択してドラッグ、またはショートカットキーでも可</li>
            </ul>
            <p>★ 新たなオブジェクトを作ったら、このレイヤーに正しいオブジェクトが表示されているか、
毎回必ず確認しましょう。気付くと不要なオブジェクトだらけになっていることが良くあります</p>
          </div>
        </div>

        <ol start="2">
          <li>右サイドパネルの「オートレイアウト」にて、各項目を以下に設定します
            <ul>
              <li>配置：中央揃え</li>
              <li>間隔：0</li>
              <li>水平パディング：48 (テキストの左右の余白のこと)</li>
              <li>垂直パディング：10 (テキストの上下の余白のこと)</li>
            </ul>
          </li>
        </ol>

        <div class="image-container" style="margin: 24px 0; text-align: center;">
          <img src="../text_image/figma/design/4-2-2-2.auto-layout.png" alt="オートレイアウトの設定" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        </div>
      </div>

      <div class="subsection">
        <h3>③ 色スタイルの設定</h3>

        <ol>
          <li>②の1でオートレイアウト化したフレームを選択します
            <br>※ キャンバス上でうまく要素を選択できないときは、左のレイヤーから直接選択することも出来ます</li>
          <li>右パネルの ［塗り］ → ［四点マーク］ をクリック</li>
          <li>[ライブラリ]タブの中から、[portfolio / blue] をクリック</li>
        </ol>

        <div class="image-container" style="margin: 24px 0; text-align: center;">
          <img src="../text_image/figma/design/4-2-3.color-style-1.png" alt="色スタイルの設定1" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        </div>

        <p>ボタンの背景色はこれでOKです。
次に、ボタン要素のテキスト「Button Text」の文字色を変更します。</p>

        <ol start="4">
          <li>「Button Text」のテキスト部分のみを選択します
            <br>※ レイヤーの[T　Button Text]を選択でも可</li>
          <li>右パネルの[ 塗り]→ [四点マーク]をクリック</li>
          <li>[ライブラリ]タブの中から[portfolio / white] をクリック</li>
        </ol>

        <div class="image-container" style="margin: 24px 0; text-align: center;">
          <img src="../text_image/figma/design/4-2-3-1.color-style-2.png" alt="色スタイルの設定2" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        </div>

        <p>これで文字の色が白くなり、背景に対して視認性が良くなりました。
最後に角を丸めてボタンらしく整形します。</p>

        <ol start="7">
          <li>ボタンのフレームを選択します
            <br>※ レイヤーの を選択しても可</li>
          <li>右パネル[外見]→ [角の半径]の値に、[ 40 ]を入力します</li>
        </ol>

        <div class="image-container" style="margin: 24px 0; text-align: center;">
          <img src="../text_image/figma/design/4-2-3-2.color-style-3.png" alt="角の半径の設定" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        </div>

        <p>これでボタンらしいUIになりました。</p>
      </div>
    </section>

    <!-- Section 4-3 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-3</span>
        <h2 class="section-title">ボタンをコンポーネントにする</h2>
      </div>

      <p>ボタンはサイト全体で同じ形を使うことが多いです。そうすることで、サイト全体に統一感を持たせられる他、
ユーザーが迷わず「これはクリックするもの」と認識できるようになります。
ここでは、ボタンをひとつの部品セットにして、どこでも使いまわせるようになる
コンポーネントという機能を使用していきます。</p>

      <ol>
        <li>ボタンのフレームを選択し、 [ Ctrl(Cmd) + Alt(Option) + K ]でコンポーネント化します
          <br>※ または、右パネル → [フレーム]→ [四つのひし形アイコン]をクリックでも可</li>
      </ol>

      <div class="image-container" style="margin: 24px 0; text-align: center;">
        <img src="../text_image/figma/design/4-3-1.button-component-1.png" alt="コンポーネント化1" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      </div>

      <p>※コンポーネント化が完了すると、ボタンのフレームの色が紫色に変わり、
オブジェクトの左上と、レイヤーのアイコンが、コンポーネントを示す表示に変更されます。</p>

      <div class="image-container" style="margin: 24px 0; text-align: center;">
        <img src="../text_image/figma/design/4-3-2.button-component-2.png" alt="コンポーネント化2" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      </div>

      <p>これで、今後同じボタンを再利用したいときに、このコンポーネントを呼び出して使うことができるようになります。
最後にこのオブジェクトの名前を変更しておきます。</p>

      <p>※ フレームなどには名前を付けておかないと、レイヤーが[ Frame ○]という名称だらけになり、
オブジェクトを探しにくくなる上に、HTMLコーディングでAIが構造を読み取りにくくなります</p>

      <ol start="2">
        <li>オブジェクトの左上[Frame ○]をダブルクリック
          <br>※ レイヤーのボタンフレームの名称をダブルクリックでも可</li>
        <li>入力可能状態になるので、[ Button ]と入力し、Enter</li>
      </ol>

      <div class="image-container" style="margin: 24px 0; text-align: center;">
        <img src="../text_image/figma/design/4-3-3.button-component-3.png" alt="名前の変更" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      </div>

      <p>どちらかで名前を変更すると、レイヤーとオブジェクトのどちらにも反映されます。</p>

      <div class="image-container" style="margin: 24px 0; text-align: center;">
        <img src="../text_image/figma/design/4-3-4.button-component-4.png" alt="名前変更の反映" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      </div>

      <p>これで、ボタンのコンポーネント化が完了しました。今後、同じデザインのボタンを複数使いたい場合は、
左パネルの ［アセット（Assets）］ タブから「Button」をドラッグ＆ドロップして呼び出しが可能になります。</p>

      <div class="image-container" style="margin: 24px 0; text-align: center;">
        <img src="../text_image/figma/design/4-3-5.button-component-5.png" alt="アセットからの呼び出し" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      </div>
    </section>

    <!-- Section 4-4 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-4</span>
        <h2 class="section-title">コンポーネントの仕組み</h2>
      </div>

      <p>コンポーネントを作成すると、Figma内部では「マスター（元）」と「インスタンス（使う側）」に分かれます。
マスターは元の設計図であり、[四つのひし形が集合したようなアイコン]で表現されます。
インスタンスは、マスターから複製された子要素であり[ひとつのひし形アイコン]で表現されます。</p>

      <p>インスタンスを編集してもマスター、他のインスタンスに影響は出ませんが、
マスターを変更すると、そのとき存在している全インスタンスに変更が反映されます。</p>

      <p>※ ただし変更箇所が、インスタンス側ですでに変更されているインスタンスには変更が反映されません</p>
    </section>

    <!-- Section 4-5 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-5</span>
        <h2 class="section-title">コンポーネントの利用シーン</h2>
      </div>

      <p>通常、Webサイトは複数ページで構成されることが多いです。
同じサービスや会社のサイトでは、どのページにも共通の構成となっている要素が複数あります。</p>

      <ul>
        <li>画面再上部のヘッダー、ナビゲーション</li>
        <li>お問合せなどのボタンUI</li>
        <li>商品やスタッフ紹介などの写真画像が入ったカードUI</li>
        <li>画面最下部のフッター……など</li>
      </ul>

      <p>複数のページがあり、これらをコンポーネントにせず作成していたとき、
修正や変更があった場合には、すべてのページのすべての要素、ひとつずつ直さなければなりません。
そんなときにコンポーネントであれば、マスターを変更するだけですべての要素が一度に修正できます。</p>

      <p>他にも、使う部品が決まっているので自然とサイトデザインが一貫性を保ち、
統一感のあるページになりやすくなるのも、コンポーネントを利用する恩恵となります。</p>
    </section>

    <!-- Section 4-6 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-6</span>
        <h2 class="section-title">コンポーネントの留意点</h2>
      </div>

      <p>コンポーネントと、複製されたインスタンスは少しクセがあります。
使用する際は以下のようなことに留意しながら使いましょう。</p>

      <div class="info-box">
        <div class="info-box-title">コンポーネント・インスタンスの留意点</div>
        <div class="info-box-content">
          <ul>
            <li>マスターの変更は、その時点で変更を加えていないインスタンスすべてに影響する</li>
            <li>インスタンスでは、サイズや子要素の変更が出来ない場合がある（マスターを変更する）</li>
            <li>マスターはコンポーネント化したら元のオブジェクトに戻せない</li>
            <li>インスタンスは、[インスタンスの切り離し]で、通常のフレームにすることができる</li>
            <li>インスタンスから複製しても、同じコンポーネントから複製されたインスタンスとして扱われる</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Section 4-7 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 4-7</span>
        <h2 class="section-title">Compornents ページで管理する</h2>
      </div>

      <p>通常、デザイン前の事前準備（デザインシステム設計・作成）の段階で、コンポーネントなどのUIは
デザインをするページとは、別に専用ページを用意して、部品は部品、デザインはデザインで管理することが多いです。
ここでは、実際にコンポーネントなどを管理する[ components ]ページを作成してみましょう。</p>

      <ol>
        <li>左パネルの[ Page1 ]をダブルクリックします</li>
        <li>[ Components ] と入力してEnter</li>
      </ol>

      <div class="image-container" style="margin: 24px 0; text-align: center;">
        <img src="../text_image/figma/design/4-7-1.components-page-1.png" alt="Componentsページの作成" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      </div>

      <p>これまで作業してきたページは「Componentsページ」として登録されました。
ついでに実際にデザイン作業をしていくページも追加しておきましょう。</p>

      <ol start="3">
        <li>左パネル [ ページ] →  [＋]をクリックします</li>
        <li>新たに増えた[ Page2 ]を[ Portfolio ]に変更します。</li>
      </ol>

      <div class="image-container" style="margin: 24px 0; text-align: center;">
        <img src="../text_image/figma/design/4-7-2.components-page-2.png" alt="Portfolioページの作成" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      </div>

      <p>これで実際の作業ページ「Portfolioページ」が作成されました。</p>
    </section>

  </div>

  <div class="page-nav">
    <a href="9figma-color-text.html" class="page-nav-btn prev">
      <div class="page-nav-label">前へ</div>
      <div class="page-nav-title">カラー・テキストスタイル</div>
    </a>
    <a href="11figma-header.html" class="page-nav-btn next">
      <div class="page-nav-label">次へ</div>
      <div class="page-nav-title">ヘッダー制作</div>
    </a>
  </div>

  <footer class="footer">
    <p>Figma入門 - 職業訓練校教材</p>
  </footer>

  <script src="../../shared/demo.js"></script>
</body>
</html>