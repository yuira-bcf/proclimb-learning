<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Step 7: å‰Šé™¤æ©Ÿèƒ½</title>

        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&family=M+PLUS+Rounded+1c:wght@400;500;700&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="../shared/common.css" />
        <style>
  :root {
    --primary: #AF52DE;
    --primary-dark: #9333EA;
    --primary-light: #FAF5FF;
    --primary-lighter: #E9D5FF;
  }
  .nav-category-links { display: none; }
</style>
        <style>
            .download-btn { background: #22c55e; color: white; border: none; padding: 6px 14px; border-radius: 6px; font-size: 12px; font-weight: 600; cursor: pointer; margin-left: auto; }
            .code-header { display: flex; align-items: center; justify-content: space-between; }
            .step-indicator { display: flex; justify-content: center; gap: 0.5rem; margin: 2rem 0; flex-wrap: wrap; }
            .step-dot { width: 36px; height: 36px; border-radius: 50%; background: #e2e8f0; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; color: #64748b; }
            .step-dot.active { background: #3b82f6; color: white; box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4); }
            .step-dot.completed { background: #22c55e; color: white; }
            .file-badge { display: inline-block; background: #3b82f6; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; margin-right: 8px; }
            .file-badge.new { background: #22c55e; }
            .file-badge.modified { background: #f59e0b; }
        </style>
    </head>
    <body>
        <nav class="global-nav"></nav>
        <script src="../shared/js/nav-promptpg-step.js"></script>

        <div class="container">
            <div class="step-indicator">
                <div class="step-dot completed">1</div>
                <div class="step-dot completed">2</div>
                <div class="step-dot completed">3</div>
                <div class="step-dot completed">4</div>
                <div class="step-dot completed">5</div>
                <div class="step-dot completed">6</div>
                <div class="step-dot active">7</div>
                <div class="step-dot">8</div>
            </div>

            <header class="chapter-header">
                <div class="chapter-badge">ğŸš€ Step</div>
                <div class="chapter-number">7</div>
                <h1 class="chapter-title">å‰Šé™¤æ©Ÿèƒ½</h1>
            </header>

            <nav class="toc">
                <h2 class="toc-title"><span class="material-icons">list_alt</span> ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã®å†…å®¹</h2>
                <ul class="toc-list">
                    <li class="toc-item"><span class="toc-number">7-1</span><span>æ¦‚è¦</span></li>
                    <li class="toc-item"><span class="toc-number">7-2</span><span>ä»•æ§˜</span></li>
                    <li class="toc-item"><span class="toc-number">7-3</span><span>ã‚¢ãƒ—ãƒªä»•æ§˜</span></li>
                    <li class="toc-item"><span class="toc-number">7-4</span><span>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ç”Ÿæˆ</span></li>
                    <li class="toc-item"><span class="toc-number">7-5</span><span>è¿½åŠ ãƒ»å¤‰æ›´ç®‡æ‰€ã®è§£èª¬</span></li>
                </ul>
            </nav>

            <!-- æ¦‚è¦ -->
            <section class="section">
                <div class="section-header">
                    <span class="section-number">Section 7-1</span>
                    <h2 class="section-title">æ¦‚è¦</h2>
                </div>

                <div class="intro-text">
                    <p>ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€<strong>ä¸€è¦§ç”»é¢ã‹ã‚‰ToDoã‚’å‰Šé™¤</strong>ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>
                    <p>å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã¦ã‹ã‚‰å‰Šé™¤ã—ã¾ã™ã€‚</p>
                </div>

                <h3>ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§å­¦ã¶ã“ã¨</h3>
                <div class="module-list">
                    <div class="module-item">
                        <div class="module-icon">ğŸ—‘ï¸</div>
                        <div class="module-content">
                            <h4>å‰Šé™¤å‡¦ç†</h4>
                            <p>IDã‚’æŒ‡å®šã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã™ã‚‹æ–¹æ³•</p>
                        </div>
                    </div>
                    <div class="module-item">
                        <div class="module-icon"><span class="material-icons">warning</span></div>
                        <div class="module-content">
                            <h4>ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°</h4>
                            <p>JavaScriptã§å‰Šé™¤å‰ã«ç¢ºèªã‚’è¡Œã†</p>
                        </div>
                    </div>
                    <div class="module-item">
                        <div class="module-icon">ğŸ”—</div>
                        <div class="module-content">
                            <h4>ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</h4>
                            <p>URLã§IDã‚’å—ã‘æ¸¡ã™æ–¹æ³•ï¼ˆ/delete/{id}ï¼‰</p>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <div class="info-box-header">
                        <span class="info-box-icon"><span class="material-icons">lightbulb</span></span>
                        <span class="info-box-title">ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚´ãƒ¼ãƒ«</span>
                    </div>
                    <p>ä¸€è¦§ç”»é¢ã‹ã‚‰å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ToDoã‚’å‰Šé™¤ã§ãã‚Œã°OKã§ã™ï¼</p>
                </div>
            </section>

            <!-- ä»•æ§˜ -->
            <section class="section">
                <div class="section-header">
                    <span class="section-number">Section 7-2</span>
                    <h2 class="section-title">ä»•æ§˜</h2>
                </div>

                <h3>å‰Šé™¤ã®æµã‚Œ</h3>
                <ol class="step-list">
                    <li>ä¸€è¦§ç”»é¢ã®å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                    <li>ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                    <li>ã€ŒOKã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å‰Šé™¤å®Ÿè¡Œ</li>
                    <li>ä¸€è¦§ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼ˆå‰Šé™¤ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã¯è¡¨ç¤ºã•ã‚Œãªã„ï¼‰</li>
                </ol>

                <h3>URLè¨­è¨ˆ</h3>
                <table class="data-table">
                    <thead><tr><th>URL</th><th>ãƒ¡ã‚½ãƒƒãƒ‰</th><th>èª¬æ˜</th></tr></thead>
                    <tbody>
                        <tr><td><code>/delete/{id}</code></td><td>POST</td><td>æŒ‡å®šIDã®ToDoã‚’å‰Šé™¤</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- ã‚¢ãƒ—ãƒªä»•æ§˜ -->
            <section class="section">
                <div class="section-header">
                    <span class="section-number">Section 7-3</span>
                    <h2 class="section-title">ã‚¢ãƒ—ãƒªä»•æ§˜</h2>
                </div>

                <h3>ç”»é¢ã‚¤ãƒ¡ãƒ¼ã‚¸</h3>
                <div class="screen-mockup" style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 8px; padding: 1rem; margin: 1rem auto; max-width: 650px;">
                    <div style="background: #3b82f6; color: white; padding: 0.5rem 1rem; border-radius: 4px 4px 0 0; font-weight: bold; margin: -1rem -1rem 1rem -1rem;">
                        ğŸ“‹ ä¸€è¦§ç”»é¢ï¼ˆå‰Šé™¤ãƒœã‚¿ãƒ³è¿½åŠ ï¼‰
                    </div>
                    <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
                        <thead>
                            <tr style="background: #e2e8f0;">
                                <th style="border: 1px solid #cbd5e1; padding: 0.5rem;">No</th>
                                <th style="border: 1px solid #cbd5e1; padding: 0.5rem;">ã‚¿ã‚¤ãƒˆãƒ«</th>
                                <th style="border: 1px solid #cbd5e1; padding: 0.5rem;">ç™»éŒ²è€…</th>
                                <th style="border: 1px solid #cbd5e1; padding: 0.5rem;">æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="border: 1px solid #cbd5e1; padding: 0.5rem; text-align: center;">1</td>
                                <td style="border: 1px solid #cbd5e1; padding: 0.5rem;">è²·ã„ç‰©ãƒªã‚¹ãƒˆ</td>
                                <td style="border: 1px solid #cbd5e1; padding: 0.5rem;">å±±ç”°å¤ªéƒ</td>
                                <td style="border: 1px solid #cbd5e1; padding: 0.5rem; text-align: center;">
                                    <span style="background: #ef4444; color: white; padding: 0.2rem 0.6rem; border-radius: 4px; font-size: 0.8rem;">å‰Šé™¤</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ -->
            <section class="section">
                <div class="section-header">
                    <span class="section-number">Section 7-4</span>
                    <h2 class="section-title">ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ç”Ÿæˆ</h2>
                </div>

                <div class="code-block" id="prompt-1">
                    <div class="code-header">
                        <span class="code-title">ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹</span>
                        <button class="download-btn" onclick="downloadPrompt('prompt-1', 'step7_delete.txt')">ğŸ“¥ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    </div>
                    <div class="code-content">
                        <pre>ã‚ãªãŸã¯Javaãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã§ã™ã€‚

Step 6ã§ä½œæˆã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã€å‰Šé™¤æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

ã€è¦ä»¶ã€‘
1. ä¸€è¦§ç”»é¢ã«å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’è¿½åŠ ã™ã‚‹
2. å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã™ã‚‹
3. ç¢ºèªå¾Œã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å‰Šé™¤ã™ã‚‹
4. å‰Šé™¤å¾Œã¯ä¸€è¦§ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹

ã€Serviceã‚¯ãƒ©ã‚¹ã®è¿½åŠ ãƒ¡ã‚½ãƒƒãƒ‰ã€‘
- delete(Long id): æŒ‡å®šIDã®ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤

ã€Controllerã®è¿½åŠ ã€‘
- URL: /delete/{id}
- ãƒ¡ã‚½ãƒƒãƒ‰: POST
- @PathVariableã§IDã‚’å—ã‘å–ã‚‹

ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆindex.htmlï¼‰ã®å¤‰æ›´ã€‘
- å„è¡Œã«å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
- formã‚¿ã‚°ã§POSTé€ä¿¡
- JavaScriptã§ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºï¼ˆonsubmitï¼‰

å„ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚</pre>
                    </div>
                </div>
            </section>

            <!-- è§£èª¬ -->
            <section class="section">
                <div class="section-header">
                    <span class="section-number">Section 7-5</span>
                    <h2 class="section-title">è¿½åŠ ãƒ»å¤‰æ›´ç®‡æ‰€ã®è§£èª¬</h2>
                </div>

                <h3>ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ä¸€è¦§</h3>
                <table class="data-table">
                    <thead><tr><th>ãƒ•ã‚¡ã‚¤ãƒ«</th><th>çŠ¶æ…‹</th><th>å¤‰æ›´å†…å®¹</th></tr></thead>
                    <tbody>
                        <tr><td><code>TodoService.java</code></td><td><span class="file-badge modified">å¤‰æ›´</span></td><td>deleteãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ </td></tr>
                        <tr><td><code>TodoController.java</code></td><td><span class="file-badge modified">å¤‰æ›´</span></td><td>å‰Šé™¤ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¿½åŠ </td></tr>
                        <tr><td><code>index.html</code></td><td><span class="file-badge modified">å¤‰æ›´</span></td><td>å‰Šé™¤ãƒœã‚¿ãƒ³è¿½åŠ </td></tr>
                    </tbody>
                </table>

                <h3>å‰Šé™¤ãƒœã‚¿ãƒ³ã®ä¾‹</h3>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">index.htmlï¼ˆæŠœç²‹ï¼‰</span></div>
                    <div class="code-content">
                        <pre>&lt;form th:action="@{/delete/{id}(id=${todo.id})}" method="post"
      onsubmit="return confirm('å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')"&gt;
    &lt;button type="submit"&gt;å‰Šé™¤&lt;/button&gt;
&lt;/form&gt;</pre>
                    </div>
                </div>

                <h3>Controllerã®ä¾‹</h3>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">TodoController.javaï¼ˆæŠœç²‹ï¼‰</span></div>
                    <div class="code-content">
                        <pre>@PostMapping("/delete/{id}")
public String delete(@PathVariable Long id) {
    todoService.delete(id);
    return "redirect:/";
}</pre>
                    </div>
                </div>

                <div class="info-box" style="background: #f0fdf4; border-color: #22c55e;">
                    <div class="info-box-header">
                        <span class="info-box-icon">âœ…</span>
                        <span class="info-box-title">å®Œäº†ãƒã‚§ãƒƒã‚¯</span>
                    </div>
                    <ul style="margin: 0.5rem 0 0 0; padding-left: 1.5rem;">
                        <li>å‰Šé™¤ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                        <li>ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                        <li>å‰Šé™¤å¾Œã€ä¸€è¦§ã‹ã‚‰æ¶ˆãˆã‚‹</li>
                    </ul>
                </div>
            </section>
        </div>

        <footer class="footer"><p>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</p></footer>

        <div class="page-nav">
            <a href="promptpg-6.html" class="page-nav-btn prev">
                <span>â†</span>
                <div><div class="page-nav-label">å‰ã®ã‚¹ãƒ†ãƒƒãƒ—</div><div class="page-nav-title">Step 6: ä¸€è¦§è¡¨ç¤º</div></div>
            </a>
            <a href="promptpg-8.html" class="page-nav-btn next">
                <div><div class="page-nav-label">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</div><div class="page-nav-title">Step 8: ç·¨é›†æ©Ÿèƒ½</div></div>
                <span>â†’</span>
            </a>
        </div>

        <script>
            function toggleMenu() { document.querySelector(".nav-toggle").classList.toggle("active"); document.querySelector(".nav-menu").classList.toggle("active"); }
            function downloadPrompt(elementId, filename) {
                const text = document.getElementById(elementId).querySelector('pre').textContent;
                const a = document.createElement('a');
                a.href = URL.createObjectURL(new Blob([text], { type: 'text/plain; charset=utf-8' }));
                a.download = filename;
                a.click();
            }
        </script>
    </body>
</html>
