<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>散布図・バブルチャート - Admin Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="common.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="wrapper">
    <div id="sidebar-container"></div>

    <main class="main">
      <header class="header">
        <div class="header-left">
          <button class="menu-toggle" id="menuToggle">
            <span class="material-icons">menu</span>
          </button>
          <nav class="breadcrumb">
            <a href="sample-3-dashboard.html">ホーム</a>
            <span class="material-icons" style="font-size: 16px;">chevron_right</span>
            <a href="charts.html">チャート</a>
            <span class="material-icons" style="font-size: 16px;">chevron_right</span>
            <span>散布図</span>
          </nav>
        </div>
        <div class="header-right">
          <button class="header-btn">
            <span class="material-icons">notifications_none</span>
          </button>
          <div class="header-user">
            <div class="header-user-avatar">
              <span class="material-icons" style="font-size: 16px;">person</span>
            </div>
            <span class="header-user-name">山田 太郎</span>
          </div>
        </div>
      </header>

      <div class="content">
        <div class="page-header">
          <h1 class="page-title">
              <span class="page-num-badge">2-7</span>散布図・バブルチャート
              <button class="prompt-btn" data-prompt-id="2-7" data-prompt="Chart.jsを使用した散布図・バブルチャートページを作成してください。

【要件】
- 基本散布図
- 複数データセット散布図
- バブルチャート（サイズ可変）
- トレンドライン付き散布図

【技術】
- Chart.js scatter, bubble タイプ使用
- X-Y座標データ形式
- バブルサイズ（r値）の設定
- スケール設定" onclick="openPromptModal('2-7')">
                <span class="material-icons">auto_awesome</span>
                プロンプト
              </button>
              <button class="source-btn" data-source-id="2-7" onclick="openSourceModal('2-7')">
                <span class="material-icons">code</span>
                ソース
              </button>
            </h1>
          <p class="page-subtitle">Chart.jsを使用した散布図とバブルチャートのサンプル</p>
        </div>

        <div class="grid-2">
          <!-- Basic Scatter Chart -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-7-1</span>
                <span class="material-icons">scatter_plot</span>
                基本散布図
                <button class="prompt-btn" data-prompt-id="2-7-1" data-prompt="Chart.jsを使用した基本散布図を作成してください。

【チャート仕様】
- タイプ: scatter（散布図）
- データポイント数: 30個（ランダム生成）
- X軸範囲: 0〜100
- Y軸範囲: 0〜100

【スタイル設定】
- ポイント半径: 6px
- 背景色: rgba(23, 162, 184, 0.5)（シアン系半透明）
- 枠線色: rgba(23, 162, 184, 1)（シアン系）
- 枠線幅: 1px

【オプション設定】
- レスポンシブ: true
- 凡例位置: bottom
- X軸タイトル: 「X軸」
- Y軸タイトル: 「Y軸」
- スケールタイプ: linear

【データ形式】
各データポイントは {x: 数値, y: 数値} の形式で指定" onclick="openPromptModal('2-7-1')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-7-1" onclick="openSourceModal('2-7-1')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="basicScatterChart"></canvas>
            </div>
          </div>

          <!-- Multi Dataset Scatter -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-7-2</span>
                <span class="material-icons">grain</span>
                複数データセット
                <button class="prompt-btn" data-prompt-id="2-7-2" data-prompt="Chart.jsを使用した複数データセット散布図を作成してください。

【チャート仕様】
- タイプ: scatter（散布図）
- データセット数: 3グループ
- 各グループのデータポイント数: 20個

【データセット詳細】
1. グループA
   - X範囲: 10〜50, Y範囲: 20〜80
   - 色: シアン系 rgba(23, 162, 184)
2. グループB
   - X範囲: 40〜90, Y範囲: 10〜60
   - 色: 赤系 rgba(220, 53, 69)
3. グループC
   - X範囲: 20〜70, Y範囲: 40〜90
   - 色: 緑系 rgba(40, 167, 69)

【スタイル設定】
- ポイント半径: 6px
- 枠線幅: 1px
- 各データセットに異なる背景色と枠線色

【オプション設定】
- レスポンシブ: true
- 凡例位置: bottom
- Y軸: beginAtZero: true" onclick="openPromptModal('2-7-2')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-7-2" onclick="openSourceModal('2-7-2')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="multiScatterChart"></canvas>
            </div>
          </div>
        </div>

        <div class="grid-2">
          <!-- Scatter with Line -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-7-3</span>
                <span class="material-icons">timeline</span>
                回帰直線付き散布図
                <button class="prompt-btn" data-prompt-id="2-7-3" data-prompt="Chart.jsを使用した回帰直線付き散布図を作成してください。

【チャート仕様】
- タイプ: scatter + line（混合チャート）
- 散布図データ: 9ポイント
- 回帰直線: 2ポイント（始点と終点）

【データセット詳細】
1. データポイント（scatter）
   - データ: (10,15), (20,28), (30,35), (40,45), (50,52), (60,65), (70,72), (80,85), (90,92)
   - ポイント半径: 8px
   - 色: シアン系

2. 回帰直線（line）
   - データ: (0,5) から (100,100)
   - 線のスタイル: 破線 [5, 5]
   - 線幅: 2px
   - 色: 赤系
   - ポイント表示: なし（pointRadius: 0）
   - fill: false

【オプション設定】
- X軸・Y軸の範囲: 0〜100
- 凡例位置: bottom" onclick="openPromptModal('2-7-3')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-7-3" onclick="openSourceModal('2-7-3')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="scatterWithLine"></canvas>
            </div>
          </div>

          <!-- Point Styles Scatter -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-7-4</span>
                <span class="material-icons">lens</span>
                ポイントスタイル
                <button class="prompt-btn" data-prompt-id="2-7-4" data-prompt="Chart.jsを使用したポイントスタイル散布図を作成してください。

【チャート仕様】
- タイプ: scatter（散布図）
- データセット数: 4グループ
- 各グループのデータポイント数: 8個

【データセット詳細】
1. 円形（circle）
   - X範囲: 5〜25, Y範囲: 60〜90
   - 色: シアン系
   - pointStyle: 'circle'
   - pointRadius: 10

2. 三角形（triangle）
   - X範囲: 25〜50, Y範囲: 30〜60
   - 色: 緑系
   - pointStyle: 'triangle'
   - pointRadius: 10

3. 四角形（rect）
   - X範囲: 50〜75, Y範囲: 60〜90
   - 色: 黄色系
   - pointStyle: 'rect'
   - pointRadius: 10

4. 星形（star）
   - X範囲: 75〜95, Y範囲: 30〜60
   - 色: 赤系
   - pointStyle: 'star'
   - pointRadius: 12

【オプション設定】
- X軸・Y軸の範囲: 0〜100
- 凡例位置: bottom" onclick="openPromptModal('2-7-4')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-7-4" onclick="openSourceModal('2-7-4')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="pointStyleScatter"></canvas>
            </div>
          </div>
        </div>

        <div class="grid-2">
          <!-- Basic Bubble Chart -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-7-5</span>
                <span class="material-icons">bubble_chart</span>
                バブルチャート
                <button class="prompt-btn" data-prompt-id="2-7-5" data-prompt="Chart.jsを使用した基本バブルチャートを作成してください。

【チャート仕様】
- タイプ: bubble（バブルチャート）
- データポイント数: 15個（ランダム生成）

【データ形式】
各データポイントは {x: 数値, y: 数値, r: 半径} の形式
- X範囲: 10〜90
- Y範囲: 10〜90
- 半径（r）範囲: 5〜25

【スタイル設定】
- 背景色: rgba(23, 162, 184, 0.5)（シアン系半透明）
- 枠線色: rgba(23, 162, 184, 1)（シアン系）
- 枠線幅: 1px

【オプション設定】
- レスポンシブ: true
- 凡例位置: bottom
- X軸タイトル: 「X軸」
- Y軸タイトル: 「Y軸」

【ポイント】
バブルチャートではr値でバブルサイズが決まる
散布図との違いは第3の次元（サイズ）を表現できる点" onclick="openPromptModal('2-7-5')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-7-5" onclick="openSourceModal('2-7-5')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="basicBubbleChart"></canvas>
            </div>
          </div>

          <!-- Multi Dataset Bubble -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-7-6</span>
                <span class="material-icons">group_work</span>
                複数グループバブル
                <button class="prompt-btn" data-prompt-id="2-7-6" data-prompt="Chart.jsを使用した複数グループバブルチャートを作成してください。

【チャート仕様】
- タイプ: bubble（バブルチャート）
- データセット数: 3グループ
- 各グループのデータポイント数: 8個

【データセット詳細】
1. 製品A
   - X範囲: 10〜40, Y範囲: 50〜90
   - 半径範囲: 8〜20
   - 色: シアン系 rgba(23, 162, 184)

2. 製品B
   - X範囲: 30〜70, Y範囲: 20〜60
   - 半径範囲: 8〜20
   - 色: 緑系 rgba(40, 167, 69)

3. 製品C
   - X範囲: 60〜90, Y範囲: 40〜80
   - 半径範囲: 8〜20
   - 色: 黄色系 rgba(255, 193, 7)

【スタイル設定】
- 各グループに異なる背景色（半透明）と枠線色
- 枠線幅: 1px

【オプション設定】
- レスポンシブ: true
- 凡例位置: bottom
- Y軸: beginAtZero: true" onclick="openPromptModal('2-7-6')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-7-6" onclick="openSourceModal('2-7-6')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="multiBubbleChart"></canvas>
            </div>
          </div>
        </div>

        <div class="grid-2">
          <!-- Sales Analysis Scatter -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-7-7</span>
                <span class="material-icons">analytics</span>
                売上分析
                <button class="prompt-btn" data-prompt-id="2-7-7" data-prompt="Chart.jsを使用した売上分析散布図を作成してください。

【チャート仕様】
- タイプ: scatter（散布図）
- データ: 広告費 vs 売上の相関データ
- データポイント数: 12個

【データ詳細】
具体的なデータポイント:
- (50, 120), (80, 180), (100, 220)
- (120, 280), (150, 310), (180, 380)
- (200, 420), (220, 450), (250, 520)
- (280, 580), (300, 620), (320, 680)
単位: 万円

【スタイル設定】
- ポイント半径: 8px
- ホバー時半径: 12px
- 背景色: シアン系半透明
- 枠線幅: 2px

【ツールチップ設定】
カスタムコールバック:
「広告費: X万円, 売上: Y万円」形式で表示

【軸設定】
- X軸タイトル: 「広告費（万円）」
- Y軸タイトル: 「売上（万円）」

【ポイント】
実務的な相関分析の可視化例" onclick="openPromptModal('2-7-7')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-7-7" onclick="openSourceModal('2-7-7')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="salesScatterChart"></canvas>
            </div>
          </div>

          <!-- Market Analysis Bubble -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">
                <span class="section-num-badge">2-7-8</span>
                <span class="material-icons">store</span>
                市場分析（バブル）
                <button class="prompt-btn" data-prompt-id="2-7-8" data-prompt="Chart.jsを使用した市場分析バブルチャートを作成してください。

【チャート仕様】
- タイプ: bubble（バブルチャート）
- データセット数: 5都市
- 各都市1データポイント

【データセット詳細】
1. 東京: {x: 85, y: 75, r: 30} - シアン系
2. 大阪: {x: 70, y: 65, r: 22} - 緑系
3. 名古屋: {x: 60, y: 55, r: 18} - 黄色系
4. 福岡: {x: 50, y: 60, r: 14} - 赤系
5. 札幌: {x: 45, y: 50, r: 12} - 紫系

【軸の意味】
- X軸: 成長率（%）範囲: 30〜100
- Y軸: 顧客満足度（%）範囲: 40〜90
- バブルサイズ（r）: 市場規模（r×10億円）

【ツールチップ設定】
カスタムコールバック:
「都市名 - 成長率: X%, 満足度: Y%, 市場規模: r×10億円」形式

【スタイル設定】
- 各都市に異なる色
- 枠線幅: 2px

【ポイント】
3次元データ（成長率・満足度・市場規模）を
2次元+サイズで表現するビジネス分析例" onclick="openPromptModal('2-7-8')">
                  <span class="material-icons">auto_awesome</span>
                  プロンプト
                </button>
                <button class="source-btn" data-source-id="2-7-8" onclick="openSourceModal('2-7-8')">
                  <span class="material-icons">code</span>
                  ソース
                </button>
              </h3>
            </div>
            <div class="card-body">
              <canvas id="marketBubbleChart"></canvas>
            </div>
          </div>
        </div>

      </div>
    </main>
  </div>

  <script src="common.js"></script>
  <script>
    // Chart.js default settings
    Chart.defaults.font.family = "'Noto Sans JP', sans-serif";
    Chart.defaults.color = '#6c757d';

    // Color palette
    const colors = {
      primary: 'rgba(23, 162, 184, 1)',
      primaryLight: 'rgba(23, 162, 184, 0.5)',
      success: 'rgba(40, 167, 69, 1)',
      successLight: 'rgba(40, 167, 69, 0.5)',
      warning: 'rgba(255, 193, 7, 1)',
      warningLight: 'rgba(255, 193, 7, 0.5)',
      danger: 'rgba(220, 53, 69, 1)',
      dangerLight: 'rgba(220, 53, 69, 0.5)',
      purple: 'rgba(111, 66, 193, 1)',
      purpleLight: 'rgba(111, 66, 193, 0.5)',
      orange: 'rgba(253, 126, 20, 1)',
      orangeLight: 'rgba(253, 126, 20, 0.5)'
    };

    // Helper function to generate random scatter data
    function generateScatterData(count, xRange, yRange) {
      const data = [];
      for (let i = 0; i < count; i++) {
        data.push({
          x: Math.random() * (xRange[1] - xRange[0]) + xRange[0],
          y: Math.random() * (yRange[1] - yRange[0]) + yRange[0]
        });
      }
      return data;
    }

    // Helper function to generate bubble data
    function generateBubbleData(count, xRange, yRange, rRange) {
      const data = [];
      for (let i = 0; i < count; i++) {
        data.push({
          x: Math.random() * (xRange[1] - xRange[0]) + xRange[0],
          y: Math.random() * (yRange[1] - yRange[0]) + yRange[0],
          r: Math.random() * (rRange[1] - rRange[0]) + rRange[0]
        });
      }
      return data;
    }

    // ========== Basic Scatter Chart ==========
    new Chart(document.getElementById('basicScatterChart'), {
      type: 'scatter',
      data: {
        datasets: [{
          label: 'データポイント',
          data: generateScatterData(30, [0, 100], [0, 100]),
          backgroundColor: colors.primaryLight,
          borderColor: colors.primary,
          borderWidth: 1,
          pointRadius: 6
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' }
        },
        scales: {
          x: {
            type: 'linear',
            position: 'bottom',
            title: { display: true, text: 'X軸' }
          },
          y: {
            title: { display: true, text: 'Y軸' }
          }
        }
      }
    });

    // ========== Multi Dataset Scatter ==========
    new Chart(document.getElementById('multiScatterChart'), {
      type: 'scatter',
      data: {
        datasets: [
          {
            label: 'グループA',
            data: generateScatterData(20, [10, 50], [20, 80]),
            backgroundColor: colors.primaryLight,
            borderColor: colors.primary,
            borderWidth: 1,
            pointRadius: 6
          },
          {
            label: 'グループB',
            data: generateScatterData(20, [40, 90], [10, 60]),
            backgroundColor: colors.dangerLight,
            borderColor: colors.danger,
            borderWidth: 1,
            pointRadius: 6
          },
          {
            label: 'グループC',
            data: generateScatterData(20, [20, 70], [40, 90]),
            backgroundColor: colors.successLight,
            borderColor: colors.success,
            borderWidth: 1,
            pointRadius: 6
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' }
        },
        scales: {
          x: { type: 'linear', position: 'bottom' },
          y: { beginAtZero: true }
        }
      }
    });

    // ========== Scatter with Regression Line ==========
    const scatterData = [
      {x: 10, y: 15}, {x: 20, y: 28}, {x: 30, y: 35},
      {x: 40, y: 45}, {x: 50, y: 52}, {x: 60, y: 65},
      {x: 70, y: 72}, {x: 80, y: 85}, {x: 90, y: 92}
    ];

    new Chart(document.getElementById('scatterWithLine'), {
      type: 'scatter',
      data: {
        datasets: [
          {
            label: 'データポイント',
            data: scatterData,
            backgroundColor: colors.primaryLight,
            borderColor: colors.primary,
            borderWidth: 1,
            pointRadius: 8
          },
          {
            type: 'line',
            label: '回帰直線',
            data: [{x: 0, y: 5}, {x: 100, y: 100}],
            borderColor: colors.danger,
            borderWidth: 2,
            borderDash: [5, 5],
            fill: false,
            pointRadius: 0
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' }
        },
        scales: {
          x: { type: 'linear', position: 'bottom', min: 0, max: 100 },
          y: { min: 0, max: 100 }
        }
      }
    });

    // ========== Point Styles Scatter ==========
    new Chart(document.getElementById('pointStyleScatter'), {
      type: 'scatter',
      data: {
        datasets: [
          {
            label: '円形',
            data: generateScatterData(8, [5, 25], [60, 90]),
            backgroundColor: colors.primary,
            pointStyle: 'circle',
            pointRadius: 10
          },
          {
            label: '三角形',
            data: generateScatterData(8, [25, 50], [30, 60]),
            backgroundColor: colors.success,
            pointStyle: 'triangle',
            pointRadius: 10
          },
          {
            label: '四角形',
            data: generateScatterData(8, [50, 75], [60, 90]),
            backgroundColor: colors.warning,
            pointStyle: 'rect',
            pointRadius: 10
          },
          {
            label: '星形',
            data: generateScatterData(8, [75, 95], [30, 60]),
            backgroundColor: colors.danger,
            pointStyle: 'star',
            pointRadius: 12
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' }
        },
        scales: {
          x: { type: 'linear', position: 'bottom', min: 0, max: 100 },
          y: { min: 0, max: 100 }
        }
      }
    });

    // ========== Basic Bubble Chart ==========
    new Chart(document.getElementById('basicBubbleChart'), {
      type: 'bubble',
      data: {
        datasets: [{
          label: 'データセット',
          data: generateBubbleData(15, [10, 90], [10, 90], [5, 25]),
          backgroundColor: colors.primaryLight,
          borderColor: colors.primary,
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' }
        },
        scales: {
          x: {
            type: 'linear',
            position: 'bottom',
            title: { display: true, text: 'X軸' }
          },
          y: {
            title: { display: true, text: 'Y軸' }
          }
        }
      }
    });

    // ========== Multi Dataset Bubble ==========
    new Chart(document.getElementById('multiBubbleChart'), {
      type: 'bubble',
      data: {
        datasets: [
          {
            label: '製品A',
            data: generateBubbleData(8, [10, 40], [50, 90], [8, 20]),
            backgroundColor: colors.primaryLight,
            borderColor: colors.primary,
            borderWidth: 1
          },
          {
            label: '製品B',
            data: generateBubbleData(8, [30, 70], [20, 60], [8, 20]),
            backgroundColor: colors.successLight,
            borderColor: colors.success,
            borderWidth: 1
          },
          {
            label: '製品C',
            data: generateBubbleData(8, [60, 90], [40, 80], [8, 20]),
            backgroundColor: colors.warningLight,
            borderColor: colors.warning,
            borderWidth: 1
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' }
        },
        scales: {
          x: { type: 'linear', position: 'bottom' },
          y: { beginAtZero: true }
        }
      }
    });

    // ========== Sales Analysis Scatter ==========
    new Chart(document.getElementById('salesScatterChart'), {
      type: 'scatter',
      data: {
        datasets: [{
          label: '売上 vs 広告費',
          data: [
            {x: 50, y: 120}, {x: 80, y: 180}, {x: 100, y: 220},
            {x: 120, y: 280}, {x: 150, y: 310}, {x: 180, y: 380},
            {x: 200, y: 420}, {x: 220, y: 450}, {x: 250, y: 520},
            {x: 280, y: 580}, {x: 300, y: 620}, {x: 320, y: 680}
          ],
          backgroundColor: colors.primaryLight,
          borderColor: colors.primary,
          borderWidth: 2,
          pointRadius: 8,
          pointHoverRadius: 12
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' },
          tooltip: {
            callbacks: {
              label: function(context) {
                return '広告費: ' + context.parsed.x + '万円, 売上: ' + context.parsed.y + '万円';
              }
            }
          }
        },
        scales: {
          x: {
            type: 'linear',
            position: 'bottom',
            title: { display: true, text: '広告費（万円）' }
          },
          y: {
            title: { display: true, text: '売上（万円）' }
          }
        }
      }
    });

    // ========== Market Analysis Bubble ==========
    new Chart(document.getElementById('marketBubbleChart'), {
      type: 'bubble',
      data: {
        datasets: [
          {
            label: '東京',
            data: [{x: 85, y: 75, r: 30}],
            backgroundColor: colors.primaryLight,
            borderColor: colors.primary,
            borderWidth: 2
          },
          {
            label: '大阪',
            data: [{x: 70, y: 65, r: 22}],
            backgroundColor: colors.successLight,
            borderColor: colors.success,
            borderWidth: 2
          },
          {
            label: '名古屋',
            data: [{x: 60, y: 55, r: 18}],
            backgroundColor: colors.warningLight,
            borderColor: colors.warning,
            borderWidth: 2
          },
          {
            label: '福岡',
            data: [{x: 50, y: 60, r: 14}],
            backgroundColor: colors.dangerLight,
            borderColor: colors.danger,
            borderWidth: 2
          },
          {
            label: '札幌',
            data: [{x: 45, y: 50, r: 12}],
            backgroundColor: colors.purpleLight,
            borderColor: colors.purple,
            borderWidth: 2
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' },
          tooltip: {
            callbacks: {
              label: function(context) {
                const data = context.raw;
                return context.dataset.label + ' - 成長率: ' + data.x + '%, 満足度: ' + data.y + '%, 市場規模: ' + (data.r * 10) + '億円';
              }
            }
          }
        },
        scales: {
          x: {
            type: 'linear',
            position: 'bottom',
            title: { display: true, text: '成長率（%）' },
            min: 30,
            max: 100
          },
          y: {
            title: { display: true, text: '顧客満足度（%）' },
            min: 40,
            max: 90
          }
        }
      }
    });
  </script>
</body>
</html>
