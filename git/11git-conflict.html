<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第11章 コンフリクト解決テクニック - Git & GitHub完全ガイド</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../shared/common.css">
    <style>
      :root {
        --primary: #F05032;
        --primary-dark: #D63F20;
        --primary-light: #FBE9E7;
        --primary-lighter: #FFCCBC;
      }
      body { padding-top: 48px; }
      .nav-category-links { display: none; }
      /* 図解用スタイル */
      .visual-diagram {
        margin: 28px 0; padding: 28px 20px;
        background: linear-gradient(135deg, #fef5f3 0%, #fbe9e7 100%);
        border-radius: 16px; border: 1px solid #ffccbc;
      }
      .visual-diagram-title {
        text-align: center; font-size: 0.82rem; font-weight: 700;
        color: #F05032; margin-bottom: 20px; letter-spacing: 0.05em;
      }
      .vd-flow {
        display: flex; align-items: center; justify-content: center;
        gap: 10px; flex-wrap: wrap;
      }
      .vd-box {
        background: white; border: 2px solid #F05032; border-radius: 14px;
        padding: 16px 14px; text-align: center; min-width: 110px;
        box-shadow: 0 2px 8px rgba(240,80,50,0.08);
      }
      .vd-box.accent { background: #F05032; color: white; }
      .vd-box .vd-icon { font-size: 1.6rem; display: block; margin-bottom: 4px; }
      .vd-box .vd-label { font-size: 0.78rem; font-weight: 700; display: block; }
      .vd-box .vd-sub { font-size: 0.68rem; opacity: 0.7; display: block; margin-top: 2px; }
      .vd-arrow { color: #F05032; font-size: 1.3rem; font-weight: 700; }
      .vd-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 12px;
      }
      .vd-card {
        background: white; border-radius: 12px; padding: 16px; text-align: center;
        border: 2px solid #fbe9e7; box-shadow: 0 1px 4px rgba(0,0,0,0.04);
      }
      .vd-card .vd-icon { font-size: 1.8rem; display: block; margin-bottom: 6px; }
      .vd-card .vd-label { font-size: 0.78rem; font-weight: 700; display: block; color: #F05032; }
      .vd-card .vd-sub { font-size: 0.68rem; color: #666; display: block; margin-top: 4px; }
      .vd-card.green { border-color: #a5d6a7; background: #f1f8e9; }
      .vd-card.red { border-color: #ef9a9a; background: #fce4ec; }
      .vd-card.blue { border-color: #90caf9; background: #e3f2fd; }
      .vd-card.amber { border-color: #ffe082; background: #fff8e1; }
      .vd-card.purple { border-color: #ce93d8; background: #f3e5f5; }
      .vd-bar {
        display: flex; border-radius: 12px; overflow: hidden; margin: 16px 0;
      }
      .vd-bar-seg {
        flex: 1; padding: 14px 8px; text-align: center; font-size: 0.72rem; font-weight: 600; color: white;
      }
      @media (max-width: 560px) {
        .vd-flow { flex-direction: column; }
        .vd-arrow { transform: rotate(90deg); }
        .vd-grid { grid-template-columns: repeat(2, 1fr); }
      }
    </style>
</head>
<body>
    <nav class="global-nav"></nav>
    <script src="../shared/js/nav-git.js"></script>

    <div class="container">
        <header class="chapter-header">
            <div class="chapter-badge"><span class="material-icons">menu_book</span> Chapter</div>
            <div class="chapter-number">11</div>
            <h1 class="chapter-title">コンフリクト解決テクニック</h1>
        </header>

        <nav class="toc">
            <h2 class="toc-title"><span class="material-icons">list_alt</span> この章の内容</h2>
            <ul class="toc-list">
                <li class="toc-item"><span class="toc-number">11-1</span><span>コンフリクトとは何か</span></li>
                <li class="toc-item"><span class="toc-number">11-2</span><span>コンフリクトが発生する条件</span></li>
                <li class="toc-item"><span class="toc-number">11-3</span><span>コンフリクトの解決手順</span></li>
                <li class="toc-item"><span class="toc-number">11-4</span><span>VSCodeでのコンフリクト解決</span></li>
                <li class="toc-item"><span class="toc-number">11-5</span><span>コンフリクトを予防するベストプラクティス</span></li>
            </ul>
        </nav>

        <!-- セクション 11-1 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 11-1</span>
                <h2 class="section-title">コンフリクトとは何か</h2>
            </div>

            <div class="intro-text">
                <p>コンフリクト（Conflict）とは、Gitでブランチをマージする際に、<strong>同じファイルの同じ箇所</strong>が異なるブランチで別々に変更されていて、Gitが自動的にどちらの変更を採用すべきか判断できない状態のことです。</p>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">1.1 なぜコンフリクトが起きるのか</h3>
                <div class="content-block">
                    <p>Gitは通常、異なるブランチの変更を自動的にマージ（統合）できます。例えば、Aさんが<code>header.html</code>を変更し、Bさんが<code>footer.html</code>を変更した場合、Gitはそれぞれの変更を問題なく統合します。</p>
                    <p>しかし、AさんもBさんも<strong>同じファイルの同じ行</strong>を変更した場合、Gitはどちらの変更を優先すべきか分かりません。この状態が「コンフリクト」です。</p>

<div class="visual-diagram">
    <div class="visual-diagram-title">&#9888; コンフリクト発生のメカニズム</div>
    <div class="vd-flow">
        <div class="vd-box">
            <span class="vd-icon">&#128204;</span>
            <span class="vd-label">共通の起点</span>
            <span class="vd-sub">main ブランチ</span>
        </div>
        <div class="vd-arrow">&#8594;</div>
        <div style="display:flex;flex-direction:column;gap:10px;">
            <div class="vd-box blue" style="border-color:#90caf9;background:#e3f2fd;">
                <span class="vd-icon">&#128100;</span>
                <span class="vd-label" style="color:#1565C0;">feature-A</span>
                <span class="vd-sub">3行目を「Hello」に変更</span>
            </div>
            <div class="vd-box purple" style="border-color:#ce93d8;background:#f3e5f5;">
                <span class="vd-icon">&#128100;</span>
                <span class="vd-label" style="color:#7B1FA2;">feature-B</span>
                <span class="vd-sub">3行目を「Hi」に変更</span>
            </div>
        </div>
        <div class="vd-arrow">&#8594;</div>
        <div class="vd-box accent">
            <span class="vd-icon">&#9889;</span>
            <span class="vd-label">コンフリクト!</span>
            <span class="vd-sub">どちらを採用する？</span>
        </div>
    </div>
</div>

                    <div class="info-box">
                        <div class="info-box-header">
                            <span class="info-box-icon"><span class="material-icons">lightbulb</span></span>
                            <span class="info-box-title">コンフリクトは怖くない</span>
                        </div>
                        <p>初心者はコンフリクトを見ると焦りがちですが、<strong>コンフリクトはGitの正常な動作</strong>です。「自動で判断できないから人間に確認してね」というGitからのメッセージだと思ってください。落ち着いて対処すれば、必ず解決できます。</p>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">1.2 コンフリクトマーカーの読み方</h3>
                <div class="content-block">
                    <p>コンフリクトが発生すると、Gitは該当箇所に<strong>コンフリクトマーカー</strong>と呼ばれる特殊な記号を挿入します。</p>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">コンフリクトマーカーの例</span>
                            <span class="code-lang">テキスト</span>
                        </div>
                        <pre class="code-content"><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Hello World（現在のブランチの変更）
=======
Hi World（マージしようとしたブランチの変更）
&gt;&gt;&gt;&gt;&gt;&gt;&gt; feature-B</code></pre>
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>マーカー</th>
                                <th>意味</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code></td>
                                <td>現在チェックアウトしているブランチ（HEAD）の変更の開始</td>
                            </tr>
                            <tr>
                                <td><code>=======</code></td>
                                <td>2つの変更の区切り線</td>
                            </tr>
                            <tr>
                                <td><code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; feature-B</code></td>
                                <td>マージしようとしたブランチの変更の終了</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="warning-box">
                        <div class="warning-box-header">
                            <span class="warning-box-icon"><span class="material-icons">warning</span></span>
                            <span class="warning-box-title">マーカーは必ず削除する</span>
                        </div>
                        <p>コンフリクトを解決する際、<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>、<code>=======</code>、<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> のマーカー行は<strong>必ず全て削除</strong>してください。マーカーが残ったままコミットすると、コードが壊れる原因になります。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- セクション 11-2 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 11-2</span>
                <h2 class="section-title">コンフリクトが発生する条件</h2>
            </div>

            <div class="intro-text">
                <p>コンフリクトが発生する主なシチュエーションを理解しておくことで、事前に回避したり、発生時に素早く対応したりできるようになります。</p>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">2.1 コンフリクトが発生する主な場面</h3>
                <div class="content-block">
                    <div class="feature-list">
                        <div class="feature-item">
                            <div class="feature-icon">&#128256;</div>
                            <div class="feature-content">
                                <h4>git merge（ブランチのマージ）</h4>
                                <p>最も一般的なケースです。featureブランチをmainブランチにマージする際、同じ箇所が両方で変更されていると発生します。</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">&#128229;</div>
                            <div class="feature-content">
                                <h4>git pull（リモートの取得とマージ）</h4>
                                <p>リモートリポジトリの変更をpullした際、ローカルの変更と衝突すると発生します。チーム開発で最も遭遇しやすいパターンです。</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">&#128260;</div>
                            <div class="feature-content">
                                <h4>git rebase（リベース）</h4>
                                <p>ブランチの起点を変更するリベース操作でも、変更が衝突するとコンフリクトが発生します。</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">&#127928;</div>
                            <div class="feature-content">
                                <h4>git cherry-pick（特定コミットの適用）</h4>
                                <p>他のブランチの特定のコミットを取り込む際にも、変更箇所が重なっていればコンフリクトが起きます。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">2.2 コンフリクトが発生しないケース</h3>
                <div class="content-block">
                    <p>以下のようなケースでは、Gitが自動的にマージを行い、コンフリクトは発生しません。</p>
                    <ul class="bullet-list">
                        <li><strong>別々のファイル</strong>を変更した場合（AさんがCSS、BさんがJSを編集など）</li>
                        <li><strong>同じファイルだが別の行</strong>を変更した場合</li>
                        <li>一方のブランチにのみ<strong>新しいファイルが追加</strong>された場合</li>
                    </ul>

                    <div class="info-box">
                        <div class="info-box-header">
                            <span class="info-box-icon"><span class="material-icons">lightbulb</span></span>
                            <span class="info-box-title">実践的なヒント</span>
                        </div>
                        <p>チーム内で「誰がどのファイルを担当するか」を事前に決めておくと、コンフリクトの発生頻度を大幅に減らせます。同じファイルを編集する場合でも、担当セクションを分けることが効果的です。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- セクション 11-3 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 11-3</span>
                <h2 class="section-title">コンフリクトの解決手順</h2>
            </div>

            <div class="intro-text">
                <p>コンフリクトが発生した場合の解決手順を、ステップバイステップで見ていきましょう。</p>
            </div>

<div class="visual-diagram">
    <div class="visual-diagram-title">&#128736; コンフリクト解決フロー</div>
    <div class="vd-flow">
        <div class="vd-box">
            <span class="vd-icon">&#128269;</span>
            <span class="vd-label">Step 1</span>
            <span class="vd-sub">コンフリクト検出</span>
        </div>
        <div class="vd-arrow">&#8594;</div>
        <div class="vd-box">
            <span class="vd-icon">&#128196;</span>
            <span class="vd-label">Step 2</span>
            <span class="vd-sub">該当ファイル確認</span>
        </div>
        <div class="vd-arrow">&#8594;</div>
        <div class="vd-box accent">
            <span class="vd-icon">&#9999;</span>
            <span class="vd-label">Step 3</span>
            <span class="vd-sub">手動で編集・解決</span>
        </div>
        <div class="vd-arrow">&#8594;</div>
        <div class="vd-box">
            <span class="vd-icon">&#10133;</span>
            <span class="vd-label">Step 4</span>
            <span class="vd-sub">git add</span>
        </div>
        <div class="vd-arrow">&#8594;</div>
        <div class="vd-box">
            <span class="vd-icon">&#10004;</span>
            <span class="vd-label">Step 5</span>
            <span class="vd-sub">git commit</span>
        </div>
    </div>
</div>

            <div class="subsection">
                <h3 class="subsection-title">3.1 Step 1: コンフリクトの検出</h3>
                <div class="content-block">
                    <p>マージやプルを実行した際、コンフリクトがあるとGitが次のようなメッセージを表示します。</p>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">コンフリクト発生時のメッセージ</span>
                            <span class="code-lang">Terminal</span>
                        </div>
                        <pre class="code-content"><code>$ git merge feature-B
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
                    </div>

                    <p><code>git status</code> コマンドで、どのファイルにコンフリクトが発生しているか確認できます。</p>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">コンフリクトファイルの確認</span>
                            <span class="code-lang">Terminal</span>
                        </div>
                        <pre class="code-content"><code>$ git status
On branch main
You have unmerged paths.
  (fix conflicts and run "git commit")

Unmerged paths:
  (use "git add &lt;file&gt;..." to mark resolution)
        both modified:   index.html</code></pre>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">3.2 Step 2: コンフリクト箇所の確認</h3>
                <div class="content-block">
                    <p>コンフリクトが発生したファイルを開くと、コンフリクトマーカーが挿入されています。</p>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">index.html のコンフリクト箇所</span>
                            <span class="code-lang">HTML</span>
                        </div>
                        <pre class="code-content"><code>&lt;header&gt;
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
    &lt;h1&gt;Welcome to Our Website&lt;/h1&gt;
=======
    &lt;h1&gt;Our Amazing Website&lt;/h1&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; feature-B
&lt;/header&gt;</code></pre>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">3.3 Step 3: 手動で編集・解決</h3>
                <div class="content-block">
                    <p>コンフリクトの解決方法は主に3パターンあります。</p>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">パターン1: 現在のブランチ（HEAD）の変更を採用</span>
                            <span class="code-lang">HTML</span>
                        </div>
                        <pre class="code-content"><code>&lt;header&gt;
    &lt;h1&gt;Welcome to Our Website&lt;/h1&gt;
&lt;/header&gt;</code></pre>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">パターン2: マージ元ブランチの変更を採用</span>
                            <span class="code-lang">HTML</span>
                        </div>
                        <pre class="code-content"><code>&lt;header&gt;
    &lt;h1&gt;Our Amazing Website&lt;/h1&gt;
&lt;/header&gt;</code></pre>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">パターン3: 両方の変更を組み合わせる</span>
                            <span class="code-lang">HTML</span>
                        </div>
                        <pre class="code-content"><code>&lt;header&gt;
    &lt;h1&gt;Welcome to Our Amazing Website&lt;/h1&gt;
&lt;/header&gt;</code></pre>
                    </div>

                    <div class="warning-box">
                        <div class="warning-box-header">
                            <span class="warning-box-icon"><span class="material-icons">warning</span></span>
                            <span class="warning-box-title">解決時の注意点</span>
                        </div>
                        <p>コンフリクトマーカー（<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>、<code>=======</code>、<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>）は必ず全て削除してください。また、解決後は動作確認を行い、意図した通りに動作するか必ずチェックしましょう。</p>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">3.4 Step 4 & 5: ステージングとコミット</h3>
                <div class="content-block">
                    <p>コンフリクトを解決したら、変更をステージングしてコミットします。</p>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">コンフリクト解決後のコマンド</span>
                            <span class="code-lang">Terminal</span>
                        </div>
                        <pre class="code-content"><code># 解決したファイルをステージング
$ git add index.html

# マージコミットを作成
$ git commit -m "Merge feature-B: resolve conflict in index.html"</code></pre>
                    </div>

                    <div class="info-box">
                        <div class="info-box-header">
                            <span class="info-box-icon"><span class="material-icons">lightbulb</span></span>
                            <span class="info-box-title">マージを中止したい場合</span>
                        </div>
                        <p>コンフリクトの解決が難しい場合や、マージ自体をやめたい場合は <code>git merge --abort</code> コマンドでマージを中止し、マージ前の状態に戻すことができます。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- セクション 11-4 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 11-4</span>
                <h2 class="section-title">VSCodeでのコンフリクト解決</h2>
            </div>

            <div class="intro-text">
                <p>VSCode（Visual Studio Code）には、コンフリクト解決を支援する便利な機能が組み込まれています。コマンドラインで手動解決するよりも、直感的に操作できます。</p>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">4.1 VSCodeのマージエディター</h3>
                <div class="content-block">
                    <p>VSCodeでコンフリクトが発生したファイルを開くと、コンフリクト箇所がハイライト表示され、以下のボタンが表示されます。</p>

                    <ul class="bullet-list">
                        <li><strong>Accept Current Change</strong> - 現在のブランチ（HEAD）の変更を採用</li>
                        <li><strong>Accept Incoming Change</strong> - マージ元ブランチの変更を採用</li>
                        <li><strong>Accept Both Changes</strong> - 両方の変更を残す</li>
                        <li><strong>Compare Changes</strong> - 変更を並べて比較する</li>
                    </ul>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">VSCodeでの表示イメージ</span>
                            <span class="code-lang">テキスト</span>
                        </div>
                        <pre class="code-content"><code><<<<<<< HEAD (Current Change)  ← 緑色でハイライト
    &lt;h1&gt;Welcome to Our Website&lt;/h1&gt;
=======
    &lt;h1&gt;Our Amazing Website&lt;/h1&gt;
>>>>>>> feature-B (Incoming Change)  ← 青色でハイライト

[Accept Current Change] [Accept Incoming Change]
[Accept Both Changes] [Compare Changes]</code></pre>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">4.2 3ウェイマージエディター</h3>
                <div class="content-block">
                    <p>VSCodeには、より高度な<strong>3ウェイマージエディター</strong>も搭載されています。コマンドパレット（<code>Ctrl+Shift+P</code> / <code>Cmd+Shift+P</code>）から「Merge Editor」で起動できます。</p>

                    <p>3ウェイマージエディターでは、以下の3つのペインが表示されます。</p>

                    <ul class="bullet-list">
                        <li><strong>左ペイン：</strong>現在のブランチ（Ours）の変更内容</li>
                        <li><strong>右ペイン：</strong>マージ元ブランチ（Theirs）の変更内容</li>
                        <li><strong>下ペイン：</strong>マージ結果（編集可能）</li>
                    </ul>

                    <div class="info-box">
                        <div class="info-box-header">
                            <span class="info-box-icon"><span class="material-icons">lightbulb</span></span>
                            <span class="info-box-title">Source Controlパネルの活用</span>
                        </div>
                        <p>VSCodeの左サイドバーにある「Source Control」パネル（Gitアイコン）を開くと、コンフリクトが発生しているファイルに「C」マークが付いて一覧表示されます。ここから各ファイルのコンフリクト解決にすぐアクセスできます。</p>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">4.3 GitLens拡張機能の活用</h3>
                <div class="content-block">
                    <p><strong>GitLens</strong>はVSCodeの人気拡張機能で、コンフリクト解決をさらに便利にします。</p>

                    <ul class="bullet-list">
                        <li>各行の変更者と変更日時を表示（Git Blame）</li>
                        <li>コミット履歴のグラフ表示で、コンフリクトの原因を特定しやすい</li>
                        <li>ファイルの変更履歴を簡単に確認できる</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- セクション 11-5 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 11-5</span>
                <h2 class="section-title">コンフリクトを予防するベストプラクティス</h2>
            </div>

            <div class="intro-text">
                <p>コンフリクトの解決方法を知ることと同じくらい、<strong>コンフリクトを予防する</strong>ことも重要です。以下のプラクティスを習慣にしましょう。</p>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5.1 予防のための習慣</h3>
                <div class="content-block">
                    <div class="feature-list">
                        <div class="feature-item">
                            <div class="feature-icon">&#128259;</div>
                            <div class="feature-content">
                                <h4>こまめにpullする</h4>
                                <p>作業前に <code>git pull</code> を実行して、リモートの最新状態を取り込みましょう。差分が小さいうちにマージすることで、大きなコンフリクトを防げます。</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">&#127793;</div>
                            <div class="feature-content">
                                <h4>小さな単位でコミット・マージする</h4>
                                <p>長期間ブランチを分岐したままにせず、小さな変更単位でこまめにマージしましょう。変更が大きくなるほど、コンフリクトのリスクが高まります。</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">&#128172;</div>
                            <div class="feature-content">
                                <h4>チーム内でコミュニケーションを取る</h4>
                                <p>同じファイルを編集する場合は、チームメンバーに事前に伝えましょう。作業範囲が重ならないよう調整することが大切です。</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">&#128194;</div>
                            <div class="feature-content">
                                <h4>ファイルの責任範囲を分ける</h4>
                                <p>コンポーネントベースの開発など、ファイルの担当者を明確にすることで、同じファイルへの同時変更を減らせます。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5.2 便利なGitコマンド</h3>
                <div class="content-block">
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">コンフリクト関連の便利コマンド</span>
                            <span class="code-lang">Terminal</span>
                        </div>
                        <pre class="code-content"><code># マージを中止してマージ前に戻る
$ git merge --abort

# コンフリクトしているファイル一覧を表示
$ git diff --name-only --diff-filter=U

# マージ時に特定ブランチの変更を優先（自分の変更を優先）
$ git merge -X ours feature-B

# マージ時に特定ブランチの変更を優先（相手の変更を優先）
$ git merge -X theirs feature-B

# マージ前にドライラン（実際にはマージしない）
$ git merge --no-commit --no-ff feature-B
$ git merge --abort  # 確認後に中止</code></pre>
                    </div>

                    <div class="warning-box">
                        <div class="warning-box-header">
                            <span class="warning-box-icon"><span class="material-icons">warning</span></span>
                            <span class="warning-box-title">-X ours / -X theirs の使いどころ</span>
                        </div>
                        <p><code>-X ours</code> や <code>-X theirs</code> は全てのコンフリクトを一括で解決するため、意図しない変更が失われる可能性があります。内容をよく理解した上で使用し、通常は手動解決を推奨します。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 練習問題 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Exercise</span>
                <h2 class="section-title">11章 練習問題</h2>
            </div>

            <div class="exercise-list">
                <div class="exercise-item">
                    <div class="exercise-number">Q1</div>
                    <div class="exercise-content">
                        <p>コンフリクトが発生するのは、どのような状況ですか？</p>
                        <ol type="A">
                            <li>異なるブランチで異なるファイルを変更した場合</li>
                            <li>同じファイルの同じ箇所を異なるブランチで変更した場合</li>
                            <li>新しいファイルを追加した場合</li>
                            <li>ブランチを削除した場合</li>
                        </ol>
                    </div>
                </div>

                <div class="exercise-item">
                    <div class="exercise-number">Q2</div>
                    <div class="exercise-content">
                        <p>コンフリクトマーカーの <code>=======</code> は何を表していますか？</p>
                        <ol type="A">
                            <li>現在のブランチの変更の開始</li>
                            <li>マージ元ブランチの変更の終了</li>
                            <li>2つの変更の区切り線</li>
                            <li>コンフリクトの解決済みを示す記号</li>
                        </ol>
                    </div>
                </div>

                <div class="exercise-item">
                    <div class="exercise-number">Q3</div>
                    <div class="exercise-content">
                        <p>コンフリクト解決後に実行するコマンドの正しい順序はどれですか？</p>
                        <ol type="A">
                            <li><code>git commit</code> → <code>git add</code></li>
                            <li><code>git add</code> → <code>git commit</code></li>
                            <li><code>git push</code> → <code>git add</code></li>
                            <li><code>git merge --abort</code> → <code>git commit</code></li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- 解答 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Answer</span>
                <h2 class="section-title">11章 解説・解答</h2>
            </div>

            <div class="answer-list">
                <div class="answer-item">
                    <div class="answer-header">Q1の解答: B</div>
                    <div class="answer-content">
                        <p>コンフリクトは、同じファイルの同じ箇所を異なるブランチで変更した場合に発生します。Gitが自動的にどちらの変更を採用すべきか判断できないため、人間による手動解決が必要になります。</p>
                    </div>
                </div>

                <div class="answer-item">
                    <div class="answer-header">Q2の解答: C</div>
                    <div class="answer-content">
                        <p><code>=======</code> は、現在のブランチ（HEAD）の変更とマージ元ブランチの変更の<strong>区切り線</strong>です。この上が現在のブランチの内容、下がマージ元ブランチの内容を示します。</p>
                    </div>
                </div>

                <div class="answer-item">
                    <div class="answer-header">Q3の解答: B</div>
                    <div class="answer-content">
                        <p>コンフリクトを解決した後は、まず <code>git add</code> で解決したファイルをステージングし、次に <code>git commit</code> でマージコミットを作成します。この順序はGitの基本的なワークフローと同じです。</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="page-nav">
        <a href="10git-pullrequest.html" class="page-nav-btn prev">
            <span>&#8592;</span>
            <div>
                <div class="page-nav-label">前の章</div>
                <div class="page-nav-title">第10章 プルリクエスト</div>
            </div>
        </a>
        <a href="12git-team-workflow.html" class="page-nav-btn next">
            <div>
                <div class="page-nav-label">次の章</div>
                <div class="page-nav-title">第12章 チーム開発フローと.gitignore</div>
            </div>
            <span>&#8594;</span>
        </a>
    </div>

    <footer class="global-footer"></footer>
    <script src="../shared/footer.js"></script>
    <script>
        document.addEventListener('click', function(e) {
            const header = document.querySelector('.global-header');
            const nav = document.querySelector('.tutorial-nav');
            const toggle = document.querySelector('.header-nav-toggle');
            if (header && nav && toggle && !header.contains(e.target) && !nav.contains(e.target) && nav.classList.contains('active')) {
                toggle.classList.remove('active');
                nav.classList.remove('active');
            }
        });
    </script>
    <script src="../shared/demo.js"></script>
</body>
</html>
