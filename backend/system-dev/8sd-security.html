<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 8: 情報セキュリティの基礎 - システム開発概論</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../shared/common.css">
  <style>
    :root {
      --primary: #0097A7;
      --primary-dark: #00838F;
      --primary-light: #E0F7FA;
      --primary-lighter: #B2EBF2;
    }
    .nav-category-links { display: none; }
  </style>
</head>
<body>
  <nav class="global-nav"></nav>
  <script src="../../shared/js/nav-system-dev.js"></script>

  <div class="container">
    <!-- チャプターヘッダー -->
    <header class="chapter-header">
      <div class="chapter-badge">Chapter</div>
      <div class="chapter-number">8</div>
      <h1 class="chapter-title">情報セキュリティの基礎</h1>
      <p class="chapter-subtitle">システムを守るための基本的な考え方と対策</p>
    </header>

    <!-- 目次 -->
    <nav class="toc">
      <h2 class="toc-title">この章の内容</h2>
      <ul class="toc-list">
        <li class="toc-item"><span class="toc-number">8-1</span>この章のねらい</li>
        <li class="toc-item"><span class="toc-number">8-2</span>情報セキュリティの三要素（CIA）</li>
        <li class="toc-item"><span class="toc-number">8-3</span>認証と認可</li>
        <li class="toc-item"><span class="toc-number">8-4</span>暗号化の基本</li>
        <li class="toc-item"><span class="toc-number">8-5</span>代表的な脆弱性と対策</li>
        <li class="toc-item"><span class="toc-number">8-6</span>まとめ</li>
      </ul>
    </nav>

    <!-- Section 8-1 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 8-1</span>
        <h2 class="section-title">この章のねらい</h2>
      </div>

      <div class="intro-text">
        <p>この章では、バックエンドエンジニアとして必ず押さえておくべき <strong>情報セキュリティの基礎</strong> を学びます。セキュリティは、システム開発において「あとから対応する」のではなく、設計・実装の段階から意識しておくことが非常に重要です。</p>
      </div>

      <div class="subsection">
        <h3>この章を読み終わる頃の目標</h3>
        <ul class="custom-list">
          <li>情報セキュリティの三要素（CIA）を説明できる</li>
          <li>認証と認可の違いを理解し、適切に使い分けられる</li>
          <li>暗号化の基本的な考え方を理解できる</li>
          <li>代表的な脆弱性（SQLインジェクション、XSS、CSRFなど）とその対策を説明できる</li>
        </ul>

        <div class="warning-box">
          <div class="warning-box-title">重要なポイント</div>
          <div class="warning-box-content">
            <p>セキュリティインシデント（情報漏えい、不正アクセスなど）が発生すると、企業の信用失墜や法的責任を問われることがあります。エンジニアとして、セキュリティを「他人事」ではなく「自分の責任範囲」として捉える姿勢が大切です。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 8-2 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 8-2</span>
        <h2 class="section-title">情報セキュリティの三要素（CIA）</h2>
      </div>

      <div class="intro-text">
        <p>情報セキュリティを考える上で、最も基本となるのが <strong>CIA</strong> と呼ばれる三要素です。</p>
      </div>

      <div class="subsection">
        <h3>1　機密性（Confidentiality）</h3>
        <p>機密性とは、<strong>許可された人だけが情報にアクセスできる</strong> ことを保証する性質です。</p>
        <ul class="custom-list">
          <li>個人情報を権限のない人が見られないようにする</li>
          <li>機密文書へのアクセスを制限する</li>
          <li>パスワードを平文で保存しない</li>
        </ul>

        <div class="info-box">
          <div class="info-box-title">具体例</div>
          <div class="info-box-content">
            <p>顧客の住所やクレジットカード情報は、担当者以外が見られないようにアクセス制御をかける。通信経路はHTTPSで暗号化し、盗聴されても内容が分からないようにする。</p>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>2　完全性（Integrity）</h3>
        <p>完全性とは、<strong>情報が改ざんされていない</strong> ことを保証する性質です。</p>
        <ul class="custom-list">
          <li>データが途中で書き換えられていないことを検証できる</li>
          <li>不正な変更を検知できる</li>
          <li>操作ログを残して追跡可能にする</li>
        </ul>

        <div class="info-box">
          <div class="info-box-title">具体例</div>
          <div class="info-box-content">
            <p>注文金額が途中で改ざんされないように、サーバ側で再計算する。ファイルのハッシュ値を使って、ダウンロード後に破損がないか確認する。</p>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>3　可用性（Availability）</h3>
        <p>可用性とは、<strong>必要なときに情報やシステムが使える</strong> ことを保証する性質です。</p>
        <ul class="custom-list">
          <li>システムがダウンしないように冗長構成をとる</li>
          <li>DDoS攻撃などによるサービス停止を防ぐ</li>
          <li>障害発生時に素早く復旧できる体制を整える</li>
        </ul>

        <div class="info-box">
          <div class="info-box-title">具体例</div>
          <div class="info-box-content">
            <p>サーバを複数台用意してロードバランサで分散する。定期的にバックアップを取得し、障害時に復元できるようにする。</p>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>4　CIAのバランス</h3>
        <p>この三要素は、時としてトレードオフの関係になることがあります。</p>
        <ul class="custom-list">
          <li>機密性を高めすぎると、正当なユーザーもアクセスしにくくなる（可用性が下がる）</li>
          <li>可用性を優先しすぎると、セキュリティチェックが甘くなる（機密性が下がる）</li>
        </ul>
        <p>システムの特性やビジネス要件に応じて、適切なバランスを取ることが重要です。</p>
      </div>
    </section>

    <!-- Section 8-3 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 8-3</span>
        <h2 class="section-title">認証と認可</h2>
      </div>

      <div class="intro-text">
        <p>セキュリティを実装する上で、<strong>認証</strong> と <strong>認可</strong> は非常に重要な概念です。この二つは混同されがちですが、明確に区別して理解する必要があります。</p>
      </div>

      <div class="subsection">
        <h3>1　認証（Authentication）</h3>
        <p>認証とは、<strong>「あなたは誰ですか？」を確認すること</strong> です。</p>
        <ul class="custom-list">
          <li>ユーザーIDとパスワードによるログイン</li>
          <li>多要素認証（MFA）：パスワード＋ワンタイムパスワードなど</li>
          <li>生体認証：指紋、顔認証など</li>
          <li>SSO（シングルサインオン）：一度の認証で複数のサービスにアクセス</li>
        </ul>

        <div class="highlight-box">
          <p><strong>認証 = 本人確認</strong></p>
        </div>
      </div>

      <div class="subsection">
        <h3>2　認可（Authorization）</h3>
        <p>認可とは、<strong>「あなたは何ができますか？」を制御すること</strong> です。</p>
        <ul class="custom-list">
          <li>ログインしたユーザーが、どの画面を見られるか</li>
          <li>どのデータを参照・編集・削除できるか</li>
          <li>管理者と一般ユーザーで使える機能を分ける</li>
        </ul>

        <div class="highlight-box">
          <p><strong>認可 = 権限制御</strong></p>
        </div>
      </div>

      <div class="subsection">
        <h3>3　認証と認可の関係</h3>
        <p>通常、システムでは次の順序で処理が行われます。</p>
        <ol class="custom-list">
          <li><strong>認証</strong>：ユーザーがログインし、本人確認を行う</li>
          <li><strong>認可</strong>：認証されたユーザーに対して、許可された操作だけを実行させる</li>
        </ol>

        <div class="warning-box">
          <div class="warning-box-title">よくある間違い</div>
          <div class="warning-box-content">
            <p>「ログインしているから何でもできる」という実装は危険です。認証が通っていても、その操作に対する認可（権限）があるかどうかを必ずチェックする必要があります。</p>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>4　バックエンドでの実装ポイント</h3>
        <ul class="custom-list">
          <li>パスワードは必ずハッシュ化して保存する（平文保存は絶対NG）</li>
          <li>セッションIDは推測困難なランダム値を使う</li>
          <li>APIの各エンドポイントで認可チェックを行う</li>
          <li>管理者機能へのアクセスは、権限がなければ拒否する</li>
        </ul>
      </div>
    </section>

    <!-- Section 8-4 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 8-4</span>
        <h2 class="section-title">暗号化の基本</h2>
      </div>

      <div class="intro-text">
        <p>暗号化は、情報を第三者に読み取られないように変換する技術です。バックエンドエンジニアとして、暗号化の基本的な考え方を理解しておくことは重要です。</p>
      </div>

      <div class="subsection">
        <h3>1　暗号化と復号</h3>
        <ul class="custom-list">
          <li><strong>暗号化</strong>：元のデータ（平文）を、読めない形式（暗号文）に変換すること</li>
          <li><strong>復号</strong>：暗号文を元の平文に戻すこと</li>
          <li><strong>鍵</strong>：暗号化・復号に使う秘密の情報</li>
        </ul>
      </div>

      <div class="subsection">
        <h3>2　共通鍵暗号と公開鍵暗号</h3>

        <div class="info-box">
          <div class="info-box-title">共通鍵暗号（対称暗号）</div>
          <div class="info-box-content">
            <p>暗号化と復号に <strong>同じ鍵</strong> を使う方式です。</p>
            <ul class="custom-list">
              <li>処理が高速</li>
              <li>鍵の共有が課題（どうやって安全に鍵を渡すか）</li>
              <li>代表例：AES</li>
            </ul>
          </div>
        </div>

        <div class="info-box">
          <div class="info-box-title">公開鍵暗号（非対称暗号）</div>
          <div class="info-box-content">
            <p>暗号化と復号に <strong>異なる鍵のペア</strong>（公開鍵と秘密鍵）を使う方式です。</p>
            <ul class="custom-list">
              <li>公開鍵で暗号化したものは、秘密鍵でしか復号できない</li>
              <li>鍵の配布が容易（公開鍵は誰に渡しても良い）</li>
              <li>処理は共通鍵暗号より遅い</li>
              <li>代表例：RSA</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>3　ハッシュ関数</h3>
        <p>ハッシュ関数は、任意の長さのデータを固定長の値（ハッシュ値）に変換する関数です。</p>
        <ul class="custom-list">
          <li>同じ入力からは必ず同じハッシュ値が得られる</li>
          <li>ハッシュ値から元のデータを復元することは（実質的に）不可能</li>
          <li>わずかな入力の違いで、まったく異なるハッシュ値になる</li>
        </ul>

        <div class="info-box">
          <div class="info-box-title">パスワードの保存</div>
          <div class="info-box-content">
            <p>パスワードはハッシュ化して保存するのが基本です。ログイン時は、入力されたパスワードをハッシュ化し、保存されているハッシュ値と比較します。これにより、万が一DBが漏洩しても、元のパスワードは分かりません。</p>
            <p>さらに <strong>ソルト</strong>（ランダムな文字列）を付加してからハッシュ化すると、同じパスワードでも異なるハッシュ値になり、より安全です。</p>
          </div>
        </div>
      </div>

      <div class="subsection">
        <h3>4　HTTPS（TLS）</h3>
        <p>HTTPS（HTTP over TLS）は、ブラウザとサーバ間の通信を暗号化するプロトコルです。</p>
        <ul class="custom-list">
          <li>通信内容が第三者に盗聴されても、内容が分からない</li>
          <li>通信相手が本物であることを証明書で確認できる</li>
          <li>現代のWebサービスでは、HTTPSは <strong>必須</strong></li>
        </ul>

        <div class="warning-box">
          <div class="warning-box-title">注意</div>
          <div class="warning-box-content">
            <p>HTTPSを使っていても、サーバ側のアプリケーションに脆弱性があれば情報は漏れます。HTTPSは「通信経路の保護」であり、「アプリケーションのセキュリティ」とは別の話です。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 8-5 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 8-5</span>
        <h2 class="section-title">代表的な脆弱性と対策</h2>
      </div>

      <div class="intro-text">
        <p>ここでは、Webアプリケーションで特に注意すべき代表的な脆弱性と、その対策を説明します。</p>
      </div>

      <div class="subsection">
        <h3>1　SQLインジェクション</h3>
        <p>SQLインジェクションとは、ユーザーからの入力をそのままSQLに埋め込むことで、<strong>意図しないSQL文が実行されてしまう</strong> 攻撃です。</p>

        <div class="code-block">
          <div class="code-header">
            <span>危険な例（文字列連結でSQLを組み立て）</span>
          </div>
          <pre><code>String sql = "SELECT * FROM users WHERE id = '" + userId + "'";
// userId に「' OR '1'='1」と入力されると…
// SELECT * FROM users WHERE id = '' OR '1'='1'
// → 全ユーザーの情報が取得されてしまう</code></pre>
        </div>

        <h4>対策</h4>
        <ul class="custom-list">
          <li><strong>プリペアドステートメント（パラメータ化クエリ）</strong> を使う</li>
          <li>入力値をSQLの一部として解釈させない</li>
          <li>ORM（Object-Relational Mapping）を使う場合も、生SQLを書く際は注意</li>
        </ul>

        <div class="code-block">
          <div class="code-header">
            <span>安全な例（プリペアドステートメント）</span>
          </div>
          <pre><code>String sql = "SELECT * FROM users WHERE id = ?";
PreparedStatement stmt = connection.prepareStatement(sql);
stmt.setString(1, userId);
// userId の内容がそのまま「値」として扱われ、SQL文の構造は変わらない</code></pre>
        </div>
      </div>

      <div class="subsection">
        <h3>2　クロスサイトスクリプティング（XSS）</h3>
        <p>XSSとは、攻撃者が悪意のあるスクリプトをWebページに埋め込み、<strong>他のユーザーのブラウザで実行させる</strong> 攻撃です。</p>

        <div class="info-box">
          <div class="info-box-title">攻撃の例</div>
          <div class="info-box-content">
            <p>掲示板の投稿欄に <code>&lt;script&gt;悪意のあるコード&lt;/script&gt;</code> を書き込む。他のユーザーがそのページを閲覧すると、スクリプトが実行され、Cookieが盗まれたり、偽のログイン画面に誘導されたりする。</p>
          </div>
        </div>

        <h4>対策</h4>
        <ul class="custom-list">
          <li>出力時に <strong>HTMLエスケープ</strong> を行う（&lt; → &amp;lt; など）</li>
          <li>Content Security Policy（CSP）ヘッダを設定する</li>
          <li>CookieにHttpOnly属性を付けて、JavaScriptからアクセスさせない</li>
        </ul>
      </div>

      <div class="subsection">
        <h3>3　クロスサイトリクエストフォージェリ（CSRF）</h3>
        <p>CSRFとは、ユーザーがログイン中のサービスに対して、<strong>意図しないリクエストを送らせる</strong> 攻撃です。</p>

        <div class="info-box">
          <div class="info-box-title">攻撃の例</div>
          <div class="info-box-content">
            <p>ユーザーが銀行サイトにログイン中に、攻撃者のサイトを訪問する。攻撃者のサイトには「送金を実行するリクエスト」が仕込まれており、ユーザーのセッションを使って勝手に送金が行われてしまう。</p>
          </div>
        </div>

        <h4>対策</h4>
        <ul class="custom-list">
          <li><strong>CSRFトークン</strong>を使う（フォームに秘密のトークンを埋め込み、リクエスト時に検証する）</li>
          <li>重要な操作には再認証を求める</li>
          <li>SameSite Cookie属性を設定する</li>
        </ul>
      </div>

      <div class="subsection">
        <h3>4　セッションハイジャック</h3>
        <p>セッションハイジャックとは、他のユーザーのセッションIDを盗み、<strong>そのユーザーになりすます</strong> 攻撃です。</p>

        <h4>対策</h4>
        <ul class="custom-list">
          <li>セッションIDを推測困難なランダム値にする</li>
          <li>HTTPSを使い、通信経路でセッションIDを盗まれないようにする</li>
          <li>ログイン時にセッションIDを再生成する</li>
          <li>CookieにSecure属性、HttpOnly属性を付ける</li>
        </ul>
      </div>

      <div class="subsection">
        <h3>5　ディレクトリトラバーサル</h3>
        <p>ディレクトリトラバーサルとは、<code>../</code> などを使ってパスを操作し、<strong>本来アクセスできないファイルにアクセスする</strong> 攻撃です。</p>

        <div class="code-block">
          <div class="code-header">
            <span>攻撃の例</span>
          </div>
          <pre><code>// ファイル名をパラメータで受け取る実装
String filename = request.getParameter("file");
File file = new File("/var/data/" + filename);

// filename に「../../etc/passwd」と入力されると…
// /var/data/../../etc/passwd → /etc/passwd にアクセス</code></pre>
        </div>

        <h4>対策</h4>
        <ul class="custom-list">
          <li>ファイル名に <code>..</code> や <code>/</code> が含まれていないかチェックする</li>
          <li>ホワイトリスト方式で許可されたファイルのみアクセスさせる</li>
          <li>ファイル名を直接使わず、IDで管理する</li>
        </ul>
      </div>

      <div class="subsection">
        <h3>6　セキュアコーディングの心得</h3>
        <ul class="custom-list">
          <li><strong>すべての入力を信用しない</strong>：ユーザー入力、外部APIの戻り値、DBから取得したデータも含めて</li>
          <li><strong>最小権限の原則</strong>：必要最低限の権限だけを与える</li>
          <li><strong>多層防御</strong>：一つの対策に頼らず、複数の防御策を組み合わせる</li>
          <li><strong>失敗を安全な方向に</strong>：エラー時はアクセスを許可するのではなく、拒否する方向に倒す</li>
        </ul>
      </div>
    </section>

    <!-- Section 8-6 -->
    <section class="section">
      <div class="section-header">
        <span class="section-number">Section 8-6</span>
        <h2 class="section-title">まとめ</h2>
      </div>

      <div class="summary-box">
        <ul class="custom-list">
          <li>情報セキュリティの三要素（CIA）は、機密性（Confidentiality）、完全性（Integrity）、可用性（Availability）であり、これらのバランスを取ることが重要である。</li>
          <li>認証は「あなたは誰か」を確認すること、認可は「あなたは何ができるか」を制御することであり、両方を適切に実装する必要がある。</li>
          <li>暗号化には共通鍵暗号と公開鍵暗号があり、パスワードの保存にはハッシュ関数（ソルト付き）を使う。HTTPSによる通信の暗号化は必須である。</li>
          <li>SQLインジェクション対策としてプリペアドステートメントを使い、XSS対策として出力時のHTMLエスケープを行い、CSRF対策としてトークンを使う。</li>
          <li>セキュリティは設計・実装の段階から意識し、「すべての入力を信用しない」「最小権限の原則」「多層防御」といった原則に従うことが重要である。</li>
        </ul>
      </div>
    </section>

    <!-- ページナビゲーション -->
    <nav class="page-nav">
      <a href="7sd-environments.html" class="page-nav-link prev">
        <span class="page-nav-label">前の章</span>
        <span class="page-nav-title">環境構成</span>
      </a>
      <a href="9sd-logging.html" class="page-nav-link next">
        <span class="page-nav-label">次の章</span>
        <span class="page-nav-title">ログの設計と運用</span>
      </a>
    </nav>
  </div>

  <footer class="footer">
    <p>システム開発概論 - 職業訓練校教材</p>
  </footer>

  <script src="../../shared/demo.js"></script>
</body>
</html>
