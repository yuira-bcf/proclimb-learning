<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第15章 コレクションフレームワーク</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../shared/common.css">
    <style>
      :root {
        --primary: #0097A7;
        --primary-dark: #00838F;
        --primary-light: #E0F7FA;
        --primary-lighter: #B2EBF2;
      }
      .nav-category-links { display: none; }
    </style>
</head>
<body>
    <nav class="global-nav"></nav>
    <script src="../../shared/js/nav-java.js"></script>

    <div class="container">
        <header class="chapter-header">
            <div class="chapter-badge"><span class="material-icons">menu_book</span> Chapter</div>
            <div class="chapter-number">15</div>
            <h1 class="chapter-title">コレクションフレームワーク</h1>
        </header>

        <nav class="toc">
            <h2 class="toc-title"><span class="material-icons">list_alt</span> この章の内容</h2>
            <ul class="toc-list">
                <li class="toc-item"><span class="toc-number">15-1</span><span>List（ArrayList）</span></li>
                <li class="toc-item"><span class="toc-number">15-2</span><span>Set（HashSet）</span></li>
                <li class="toc-item"><span class="toc-number">15-3</span><span>Map（HashMap）</span></li>
            </ul>
        </nav>

        <!-- セクション 15-1 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 15-1</span>
                <h2 class="section-title">List（ArrayList）</h2>
            </div>

            <div class="intro-text">
                <p>コレクションは、複数のオブジェクトを格納・操作するためのデータ構造です。配列と違い、サイズを動的に変更でき、便利なメソッドが豊富に用意されています。<code>ArrayList</code>は最も頻繁に使われるコレクションで、要素の追加順序を保持し、インデックスで高速にアクセスできます。</p>
            </div>

            <!-- 15-1-1 ArrayListの基本操作 -->
            <div class="subsection">
                <h3 class="subsection-title">15-1-1 ArrayListの基本操作</h3>

                <div class="content-block">
                    <p><code>ArrayList</code>は可変長のリストで、要素の追加・取得・削除が簡単にできます。<code>List&lt;型&gt;</code>のように<strong>ジェネリクス</strong>で格納する型を指定し、型安全にデータを管理します。</p>
                </div>

                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
ArrayListの基本的な使い方を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter15
- ファイル名: ListDemo.java

## 実装要件
- List&lt;String&gt;型でArrayListを生成
- add()で要素を追加
- get()でインデックス指定で要素を取得
- size()でリストのサイズを確認
- remove()で要素を削除
- contains()で要素の存在確認
- set()で要素の更新


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする
- 1ファイルで完結するよう、必要なクラスをすべて含める

## 使用するJava構文
- ジェネリクス（List&lt;String&gt;）
- ダイヤモンド演算子（&lt;&gt;）
- ArrayListの主要メソッド</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter15/ListDemo.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>import java.util.ArrayList;
import java.util.List;

public class ListDemo {
    public static void main(String[] args) {
        // ArrayListの生成（ジェネリクスで型を指定）
        List&lt;String&gt; list = new ArrayList&lt;&gt;();

        // 要素の追加
        list.add("Apple");
        list.add("Banana");
        list.add("Cherry");
        System.out.println("リスト: " + list);       // [Apple, Banana, Cherry]

        // インデックスで取得
        System.out.println("get(1): " + list.get(1)); // Banana

        // サイズ確認
        System.out.println("size: " + list.size());    // 3

        // 要素の更新
        list.set(1, "Blueberry");
        System.out.println("set後: " + list);          // [Apple, Blueberry, Cherry]

        // 存在確認
        System.out.println("contains Apple: " + list.contains("Apple"));   // true
        System.out.println("contains Banana: " + list.contains("Banana")); // false

        // 要素の削除
        list.remove(0);
        System.out.println("remove後: " + list);       // [Blueberry, Cherry]
    }
}</code></pre>
                </div>

                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>ArrayList（List&lt;型&gt;）</h4>
                            <div class="syntax-pattern">List&lt;型&gt; 変数名 = new ArrayList&lt;&gt;();</div>
                            <p>ArrayListはjava.util.Listインタフェースの代表的な実装クラスです。ジェネリクスで格納する要素の型を指定し、add()で要素を追加、get(index)で取得、set(index, 値)で更新、remove(index)で削除、size()でサイズを確認できます。</p>
                        </div>
                    </div>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>メソッド</th>
                            <th>説明</th>
                            <th>戻り値</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><code>add(要素)</code></td><td>末尾に要素を追加</td><td>boolean</td></tr>
                        <tr><td><code>add(index, 要素)</code></td><td>指定位置に要素を挿入</td><td>void</td></tr>
                        <tr><td><code>get(index)</code></td><td>指定位置の要素を取得</td><td>E</td></tr>
                        <tr><td><code>set(index, 要素)</code></td><td>指定位置の要素を置換</td><td>E（旧要素）</td></tr>
                        <tr><td><code>remove(index)</code></td><td>指定位置の要素を削除</td><td>E（削除要素）</td></tr>
                        <tr><td><code>size()</code></td><td>要素数を取得</td><td>int</td></tr>
                        <tr><td><code>contains(要素)</code></td><td>要素の存在確認</td><td>boolean</td></tr>
                        <tr><td><code>indexOf(要素)</code></td><td>要素のインデックスを取得</td><td>int（-1:なし）</td></tr>
                        <tr><td><code>isEmpty()</code></td><td>空かどうか確認</td><td>boolean</td></tr>
                        <tr><td><code>clear()</code></td><td>全要素を削除</td><td>void</td></tr>
                    </tbody>
                </table>
            </div>

            <!-- 15-1-2 リストのループ処理 -->
            <div class="subsection">
                <h3 class="subsection-title">15-1-2 リストのループ処理</h3>

                <div class="content-block">
                    <p>リストの全要素を処理するには、拡張for文（for-each）が最も簡潔です。</p>
                </div>

                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
ArrayListのループ処理の方法を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter15
- ファイル名: ListLoopDemo.java

## 実装要件
- 拡張for文（for-each）でリストの全要素を出力
- 通常のfor文でインデックス付きで出力
- List.of()で不変リストを生成する例も示す


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする
- 1ファイルで完結するよう、必要なクラスをすべて含める

## 使用するJava構文
- 拡張for文
- List.of()ファクトリメソッド
- ArrayListの主要メソッド</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter15/ListLoopDemo.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>import java.util.ArrayList;
import java.util.List;

public class ListLoopDemo {
    public static void main(String[] args) {
        List&lt;String&gt; fruits = new ArrayList&lt;&gt;();
        fruits.add("Apple");
        fruits.add("Banana");
        fruits.add("Cherry");

        // 拡張for文（推奨）
        System.out.println("--- 拡張for文 ---");
        for (String fruit : fruits) {
            System.out.println(fruit);
        }

        // 通常のfor文（インデックスが必要な場合）
        System.out.println("--- 通常for文 ---");
        for (int i = 0; i &lt; fruits.size(); i++) {
            System.out.println(i + ": " + fruits.get(i));
        }

        // 不変リストの生成（Java 9以降）
        List&lt;String&gt; colors = List.of("Red", "Green", "Blue");
        System.out.println("不変リスト: " + colors);
        // colors.add("Yellow");  // UnsupportedOperationException
    }
}</code></pre>
                </div>
                    <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 12px; padding: 16px; margin: 16px 0; text-align: center;">
                        <div id="flow-listloop"></div>
                    </div>

                <div class="info-box">
                    <div class="info-box-header">
                        <span class="info-box-icon"><span class="material-icons">lightbulb</span></span>
                        <span class="info-box-title">List.of() について</span>
                    </div>
                    <p>Java 9以降では<code>List.of()</code>で不変（変更不可）のリストを簡潔に生成できます。要素の追加・削除・変更を行うと<code>UnsupportedOperationException</code>が発生します。変更が必要な場合は<code>new ArrayList&lt;&gt;(List.of(...))</code>で変更可能なリストに変換します。</p>
                </div>
            </div>
        </section>

        <!-- セクション 15-2 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 15-2</span>
                <h2 class="section-title">Set（HashSet）</h2>
            </div>

            <div class="intro-text">
                <p><code>HashSet</code>は<strong>重複を許さない</strong>コレクションです。要素の追加順序は保証されませんが、要素の存在確認を高速に行えます。ユーザーの権限管理やタグの一覧など、重複を排除したい場面で活用します。</p>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">15-2-1 HashSetの基本操作</h3>

                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
HashSetの基本的な使い方を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter15
- ファイル名: SetDemo.java

## 実装要件
- Set&lt;String&gt;型でHashSetを生成
- add()で要素を追加（重複要素も試す）
- contains()で要素の存在確認
- remove()で要素を削除
- size()でセットのサイズを確認
- 拡張for文で全要素をループ


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする
- 1ファイルで完結するよう、必要なクラスをすべて含める

## 使用するJava構文
- ジェネリクス（Set&lt;String&gt;）
- HashSetの主要メソッド
- 拡張for文</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter15/SetDemo.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>import java.util.HashSet;
import java.util.Set;

public class SetDemo {
    public static void main(String[] args) {
        // HashSetの生成
        Set&lt;String&gt; tags = new HashSet&lt;&gt;();

        // 要素の追加
        tags.add("Java");
        tags.add("Spring");
        tags.add("SQL");
        tags.add("Java");   // 重複 → 追加されない
        System.out.println("タグ: " + tags);       // [Java, SQL, Spring] ※順序不定
        System.out.println("size: " + tags.size()); // 3（重複はカウントされない）

        // 存在確認
        System.out.println("contains Java: " + tags.contains("Java"));     // true
        System.out.println("contains Python: " + tags.contains("Python")); // false

        // 要素の削除
        tags.remove("SQL");
        System.out.println("remove後: " + tags);    // [Java, Spring]

        // 拡張for文でループ
        for (String tag : tags) {
            System.out.println("tag: " + tag);
        }

        // 不変セットの生成（Java 9以降）
        Set&lt;String&gt; roles = Set.of("ADMIN", "USER", "GUEST");
        System.out.println("権限: " + roles);
    }
}</code></pre>
                </div>

                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>HashSet（Set&lt;型&gt;）</h4>
                            <div class="syntax-pattern">Set&lt;型&gt; 変数名 = new HashSet&lt;&gt;();</div>
                            <p>HashSetはjava.util.Setインタフェースの代表的な実装クラスです。重複する要素を自動的に排除し、add()で追加、contains()で存在確認、remove()で削除できます。要素の順序は保証されません。</p>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <div class="warning-box-header">
                        <span class="warning-box-icon"><span class="material-icons">warning</span></span>
                        <span class="warning-box-title">HashSetの順序</span>
                    </div>
                    <p>HashSetは要素の追加順序を保証しません。順序を保持したい場合は<code>LinkedHashSet</code>を使用してください。ソート順で取得したい場合は<code>TreeSet</code>を使用します。</p>
                </div>
            </div>
        </section>

        <!-- セクション 15-3 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 15-3</span>
                <h2 class="section-title">Map（HashMap）</h2>
            </div>

            <div class="intro-text">
                <p><code>HashMap</code>は「キーと値のペア」でデータを管理するデータ構造です。キーから高速に値を検索でき、設定値の管理やデータのルックアップなど、実務で最も多用されるコレクションの1つです。</p>
            </div>

            <!-- 15-3-1 HashMapの基本操作 -->
            <div class="subsection">
                <h3 class="subsection-title">15-3-1 HashMapの基本操作</h3>

                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
HashMapの基本的な使い方を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter15
- ファイル名: MapDemo.java

## 実装要件
- Map&lt;String, Integer&gt;型でHashMapを生成
- put()でキーと値のペアを追加
- get()でキーから値を取得
- containsKey()でキーの存在確認
- getOrDefault()でデフォルト値付き取得
- remove()で要素の削除
- size()でエントリ数を確認


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする
- 1ファイルで完結するよう、必要なクラスをすべて含める

## 使用するJava構文
- ジェネリクス（Map&lt;K, V&gt;）
- HashMapの主要メソッド</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter15/MapDemo.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>import java.util.HashMap;
import java.util.Map;

public class MapDemo {
    public static void main(String[] args) {
        // HashMapの生成
        Map&lt;String, Integer&gt; scores = new HashMap&lt;&gt;();

        // キーと値のペアを追加
        scores.put("Alice", 85);
        scores.put("Bob", 72);
        scores.put("Charlie", 90);
        System.out.println("マップ: " + scores);

        // キーから値を取得
        System.out.println("Alice: " + scores.get("Alice"));         // 85

        // 存在しないキーはnullを返す
        System.out.println("Dave: " + scores.get("Dave"));           // null

        // デフォルト値付き取得（Java 8以降）
        System.out.println("Dave: " + scores.getOrDefault("Dave", 0)); // 0

        // キーの存在確認
        System.out.println("containsKey Bob: " + scores.containsKey("Bob")); // true

        // 同じキーでputすると値を上書き
        scores.put("Alice", 95);
        System.out.println("Alice更新後: " + scores.get("Alice"));   // 95

        // 要素の削除
        scores.remove("Bob");
        System.out.println("remove後: " + scores);
        System.out.println("size: " + scores.size());                // 2
    }
}</code></pre>
                </div>

                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>HashMap（Map&lt;K, V&gt;）</h4>
                            <div class="syntax-pattern">Map&lt;キーの型, 値の型&gt; 変数名 = new HashMap&lt;&gt;();</div>
                            <p>HashMapはjava.util.Mapインタフェースの代表的な実装クラスです。put(key, value)でキーと値のペアを格納し、get(key)でキーから値を取得、containsKey(key)でキーの存在を確認できます。キーの重複は許されず、同じキーでputすると値が上書きされます。</p>
                        </div>
                    </div>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>メソッド</th>
                            <th>説明</th>
                            <th>戻り値</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><code>put(key, value)</code></td><td>キーと値のペアを追加/更新</td><td>V（旧値/null）</td></tr>
                        <tr><td><code>get(key)</code></td><td>キーに対応する値を取得</td><td>V（null:なし）</td></tr>
                        <tr><td><code>getOrDefault(key, default)</code></td><td>キーがなければデフォルト値</td><td>V</td></tr>
                        <tr><td><code>containsKey(key)</code></td><td>キーの存在確認</td><td>boolean</td></tr>
                        <tr><td><code>containsValue(value)</code></td><td>値の存在確認</td><td>boolean</td></tr>
                        <tr><td><code>remove(key)</code></td><td>キーに対応するエントリを削除</td><td>V（削除値）</td></tr>
                        <tr><td><code>size()</code></td><td>エントリ数を取得</td><td>int</td></tr>
                        <tr><td><code>keySet()</code></td><td>全キーのSetを取得</td><td>Set&lt;K&gt;</td></tr>
                        <tr><td><code>values()</code></td><td>全値のCollectionを取得</td><td>Collection&lt;V&gt;</td></tr>
                        <tr><td><code>entrySet()</code></td><td>全エントリのSetを取得</td><td>Set&lt;Entry&lt;K,V&gt;&gt;</td></tr>
                    </tbody>
                </table>
            </div>

            <!-- 15-3-2 HashMapのループ処理 -->
            <div class="subsection">
                <h3 class="subsection-title">15-3-2 HashMapのループ処理</h3>

                <div class="content-block">
                    <p>Mapの全エントリを処理するには、<code>entrySet()</code>と拡張for文を組み合わせます。キーだけが必要な場合は<code>keySet()</code>を使います。</p>
                </div>

                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
HashMapのループ処理の方法を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter15
- ファイル名: MapLoopDemo.java

## 実装要件
- entrySet()で全エントリをループ
- keySet()でキーだけをループ
- values()で値だけをループ
- Map.of()で不変マップを生成する例も示す


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする
- 1ファイルで完結するよう、必要なクラスをすべて含める

## 使用するJava構文
- Map.Entry
- entrySet(), keySet(), values()
- Map.of()ファクトリメソッド</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter15/MapLoopDemo.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>import java.util.HashMap;
import java.util.Map;

public class MapLoopDemo {
    public static void main(String[] args) {
        Map&lt;String, Integer&gt; scores = new HashMap&lt;&gt;();
        scores.put("Alice", 85);
        scores.put("Bob", 72);
        scores.put("Charlie", 90);

        // entrySet()でキーと値の両方を取得（推奨）
        System.out.println("--- entrySet ---");
        for (Map.Entry&lt;String, Integer&gt; entry : scores.entrySet()) {
            System.out.println(entry.getKey() + ": " + entry.getValue());
        }

        // keySet()でキーだけをループ
        System.out.println("--- keySet ---");
        for (String name : scores.keySet()) {
            System.out.println("名前: " + name);
        }

        // values()で値だけをループ
        System.out.println("--- values ---");
        for (int score : scores.values()) {
            System.out.println("点数: " + score);
        }

        // 不変マップの生成（Java 9以降）
        Map&lt;String, String&gt; config = Map.of(
            "host", "localhost",
            "port", "8080"
        );
        System.out.println("設定: " + config);
    }
}</code></pre>
                </div>
                    <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 12px; padding: 16px; margin: 16px 0; text-align: center;">
                        <div id="flow-maploop"></div>
                    </div>

                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>Mapのループ処理</h4>
                            <div class="syntax-pattern">for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) { ... }</div>
                            <p><code>entrySet()</code>はキーと値のペア（Entry）のセットを返します。<code>getKey()</code>でキー、<code>getValue()</code>で値を取得できます。キーと値の両方が必要な場合に最も効率的な方法です。</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- コレクション比較表 -->
            <div class="subsection">
                <h3 class="subsection-title">15-3-3 コレクションの使い分け</h3>

                <div class="content-block">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>特徴</th>
                                <th>ArrayList（List）</th>
                                <th>HashSet（Set）</th>
                                <th>HashMap（Map）</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>格納</strong></td><td>要素のリスト</td><td>要素の集合</td><td>キーと値のペア</td></tr>
                            <tr><td><strong>重複</strong></td><td>許可</td><td>不可</td><td>キーは不可</td></tr>
                            <tr><td><strong>順序</strong></td><td>挿入順を保持</td><td>保証なし</td><td>保証なし</td></tr>
                            <tr><td><strong>アクセス</strong></td><td>インデックス</td><td>値で検索</td><td>キーで検索</td></tr>
                            <tr><td><strong>用途</strong></td><td>順序付きデータ</td><td>重複排除</td><td>検索テーブル</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 実際のユースケース -->
            <div class="info-box">
                <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">work</span></span><span class="info-box-title">実際のユースケース</span></div>
                <ul class="bullet-list">
                    <li><strong>ユーザー一覧の管理</strong>：<code>List&lt;User&gt;</code> でデータベースから取得したユーザーを格納し、拡張 for 文でループ処理します。Spring Boot のサービス層で最も頻繁に使うパターンです。</li>
                    <li><strong>設定値のキー・バリュー管理</strong>：<code>Map&lt;String, String&gt;</code> で環境変数やアプリケーション設定を管理し、キーを指定して値を取得します。<code>application.properties</code> の内部でも同様の仕組みが使われています。</li>
                    <li><strong>重複排除</strong>：<code>Set&lt;String&gt;</code> でタグやカテゴリの一覧を管理すると、同じ値が自動的に排除されます。ユーザーの権限一覧（ROLE_ADMIN, ROLE_USER）の管理にも活用されます。</li>
                </ul>
            </div>
        </section>

        <!-- 練習問題 -->
        <section class="section">
            <div class="section-header"><span class="section-number">Exercise</span><h2 class="section-title">15章 練習問題</h2></div>
            <div class="exercise-list">
                <div class="exercise-item">
                    <div class="exercise-number">Q1</div>
                    <div class="exercise-content">
                        <p>次のコードの実行結果として正しいものはどれですか？</p>
                        <div class="code-block"><pre class="code-content"><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();
list.add("A");
list.add("B");
list.add("A");
System.out.println(list.size());</code></pre></div>
                        <ol type="A"><li>2</li><li>3</li><li>コンパイルエラー</li><li>UnsupportedOperationException</li></ol>
                    </div>
                </div>
                <div class="exercise-item">
                    <div class="exercise-number">Q2</div>
                    <div class="exercise-content">
                        <p>次のコードの実行結果として正しいものはどれですか？</p>
                        <div class="code-block"><pre class="code-content"><code>Set&lt;String&gt; set = new HashSet&lt;&gt;();
set.add("X");
set.add("Y");
set.add("X");
System.out.println(set.size());</code></pre></div>
                        <ol type="A"><li>2</li><li>3</li><li>コンパイルエラー</li><li>IllegalArgumentException</li></ol>
                    </div>
                </div>
                <div class="exercise-item">
                    <div class="exercise-number">Q3</div>
                    <div class="exercise-content">
                        <p>次のコードの実行結果として正しいものはどれですか？</p>
                        <div class="code-block"><pre class="code-content"><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();
map.put("A", 1);
map.put("B", 2);
map.put("A", 3);
System.out.println(map.get("A") + ", " + map.size());</code></pre></div>
                        <ol type="A"><li>1, 3</li><li>3, 2</li><li>1, 2</li><li>3, 3</li></ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- 解答 -->
        <section class="section">
            <div class="section-header"><span class="section-number">Answer</span><h2 class="section-title">15章 解説・解答</h2></div>
            <div class="answer-list">
                <div class="answer-item">
                    <div class="answer-header">Q1の解答: B</div>
                    <div class="answer-content"><p>ArrayListは<strong>重複を許可</strong>するコレクションです。"A"を2回追加しても両方格納されるため、サイズは3になります。重複を排除したい場合はHashSetを使用します。</p></div>
                </div>
                <div class="answer-item">
                    <div class="answer-header">Q2の解答: A</div>
                    <div class="answer-content"><p>HashSetは<strong>重複を許可しない</strong>コレクションです。2回目の<code>add("X")</code>は無視され（falseを返す）、エラーにはなりません。結果としてセットには"X"と"Y"の2要素のみ格納され、サイズは2になります。</p></div>
                </div>
                <div class="answer-item">
                    <div class="answer-header">Q3の解答: B</div>
                    <div class="answer-content"><p>HashMapで同じキーに対して<code>put()</code>を実行すると、値が<strong>上書き</strong>されます。キー"A"の値は1から3に更新されますが、エントリ数は増えません。そのため<code>get("A")</code>は3、<code>size()</code>は2（"A"と"B"の2エントリ）です。</p></div>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer"><p>Java Silver 試験対策 教科書</p></footer>

    <div class="page-nav">
        <a href="14java-polymorphism.html" class="page-nav-btn prev"><span>&#8592;</span><div><div class="page-nav-label">前の章</div><div class="page-nav-title">第14章</div></div></a>
        <a href="16java-exception.html" class="page-nav-btn next"><div><div class="page-nav-label">次の章</div><div class="page-nav-title">第16章</div></div><span>&#8594;</span></a>
    </div>

    <script>
        function toggleMenu() {
            const toggle = document.querySelector('.nav-toggle');
            const menu = document.querySelector('.nav-menu');
            toggle.classList.toggle('active');
            menu.classList.toggle('active');
        }
        document.addEventListener('click', function(e) {
            const nav = document.querySelector('.global-nav');
            const toggle = document.querySelector('.nav-toggle');
            const menu = document.querySelector('.nav-menu');
            if (!nav.contains(e.target) && menu.classList.contains('active')) {
                toggle.classList.remove('active');
                menu.classList.remove('active');
            }
        });
    </script>
    <script src="../../shared/demo.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.17.1/flowchart.min.js"></script>
    <script>
    const flowOpts = {
        'line-width': 2,
        'line-color': '#64748b',
        'element-color': '#64748b',
        'font-family': '"Noto Sans JP", sans-serif',
        'font-size': 14,
        'font-color': '#1e293b',
        'fill': '#dbeafe',
        'yes-text': 'true',
        'no-text': 'false',
        'flowstate': {
            start: { 'fill': '#1e293b', 'font-color': '#fff', 'element-color': '#1e293b' },
            end: { 'fill': '#1e293b', 'font-color': '#fff', 'element-color': '#1e293b' },
            process: { 'fill': '#dbeafe', 'element-color': '#3b82f6', 'font-color': '#1e40af' },
            condition: { 'fill': '#fef3c7', 'element-color': '#f59e0b', 'font-color': '#92400e' },
            output: { 'fill': '#dcfce7', 'element-color': '#22c55e', 'font-color': '#166534' },
            update: { 'fill': '#e0f2fe', 'element-color': '#0ea5e9', 'font-color': '#0369a1' }
        }
    };

    // ListLoopDemo - enhanced for loop
    flowchart.parse(`st=>start: 開始|start
op1=>operation: List<String> fruits を生成|process
op2=>operation: add: りんご, バナナ, みかん|process
cond1=>condition: 次の要素
あり？|condition
op3=>operation: println: fruit|output
e=>end: 終了|end

st->op1->op2->cond1
cond1(yes)->op3->cond1
cond1(no)->e`).drawSVG('flow-listloop', flowOpts);

    // MapLoopDemo - entrySet loop
    flowchart.parse(`st=>start: 開始|start
op1=>operation: Map<String,Integer> scores|process
op2=>operation: put: Alice=90, Bob=80, Charlie=70|process
cond1=>condition: 次のEntry
あり？|condition
op3=>operation: entry.getKey()|update
op4=>operation: entry.getValue()|update
op5=>operation: println: key + value|output
e=>end: 終了|end

st->op1->op2->cond1
cond1(yes)->op3->op4->op5->cond1
cond1(no)->e`).drawSVG('flow-maploop', flowOpts);
    </script>
</body>
</html>
