<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第5章 クラスの宣言とインスタンス化</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../shared/common.css">
    <style>
      :root {
        --primary: #0097A7;
        --primary-dark: #00838F;
        --primary-light: #E0F7FA;
        --primary-lighter: #B2EBF2;
      }
      .nav-category-links { display: none; }
    </style>
</head>
<body>
    <nav class="global-nav"></nav>
    <script src="../../shared/js/nav-java.js"></script>

    <div class="container">
        <header class="chapter-header">
            <div class="chapter-badge"><span class="material-icons">menu_book</span> Chapter</div>
            <div class="chapter-number">5</div>
            <h1 class="chapter-title">クラスの宣言とインスタンス化</h1>
        </header>

        <nav class="toc">
            <h2 class="toc-title"><span class="material-icons">list_alt</span> この章の内容</h2>
            <ul class="toc-list">
                <li class="toc-item"><span class="toc-number">5-1</span><span>クラスとオブジェクト</span></li>
                <li class="toc-item"><span class="toc-number">5-2</span><span>クラスの作成</span></li>
                <li class="toc-item"><span class="toc-number">5-3</span><span>オブジェクトの生成とアクセス</span></li>
                <li class="toc-item"><span class="toc-number">5-4</span><span>アクセス修飾子の使用</span></li>
                <li class="toc-item"><span class="toc-number">5-5</span><span>メソッドのオーバーロード</span></li>
                <li class="toc-item"><span class="toc-number">5-6</span><span>オブジェクトの初期化</span></li>
                <li class="toc-item"><span class="toc-number">5-7</span><span>static変数とstaticメソッド</span></li>
                <li class="toc-item"><span class="toc-number">5-8</span><span>オブジェクトの扱い</span></li>
            </ul>
        </nav>

        <!-- セクション 5-1 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 5-1</span>
                <h2 class="section-title">クラスとオブジェクト</h2>
            </div>

            <div class="intro-text">
                <p>オブジェクト指向プログラミングの核心がここにあります。クラスとオブジェクトの概念を理解することで、現実世界のモノや概念をプログラムで表現できるようになります。Spring Bootでは、Controller、Service、Repositoryなど、すべてがクラスとして設計されています。</p>
            </div>

            <div class="content-block">
                <p><strong>クラス</strong>はオブジェクトの設計図（テンプレート）です。<strong>オブジェクト</strong>はクラスから生成された実体（インスタンス）です。</p>
                <div class="info-box">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">lightbulb</span></span><span class="info-box-title">クラスとオブジェクトの関係</span></div>
                    <p>クラス = 設計図（例：「車」の定義）<br>オブジェクト = 実際の製品（例：「私の赤い車」「隣の青い車」）</p>
                </div>

                <div class="figure">
                    <div class="figure-caption">1つのクラス（設計図）から複数のオブジェクト（実体）を生成できる</div>
                    <svg viewBox="0 0 700 340" style="max-width: 700px; width: 100%; height: auto;">
                        <!-- ===== 左：クラス（設計図） ===== -->
                        <rect x="10" y="30" width="220" height="280" rx="14" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="2.5"/>
                        <!-- ヘッダー -->
                        <rect x="10" y="30" width="220" height="40" rx="14" fill="#0ea5e9"/>
                        <rect x="10" y="56" width="220" height="14" fill="#0ea5e9"/>
                        <text x="120" y="56" text-anchor="middle" font-size="15" font-weight="700" fill="white">Car クラス（設計図）</text>
                        <!-- フィールド -->
                        <text x="30" y="100" font-size="13" font-weight="600" fill="#0284c7">フィールド（データ）</text>
                        <rect x="30" y="110" width="180" height="28" rx="6" fill="white" stroke="#bae6fd" stroke-width="1"/>
                        <text x="120" y="129" text-anchor="middle" font-size="12" fill="#1e293b" font-family="monospace">String color</text>
                        <rect x="30" y="144" width="180" height="28" rx="6" fill="white" stroke="#bae6fd" stroke-width="1"/>
                        <text x="120" y="163" text-anchor="middle" font-size="12" fill="#1e293b" font-family="monospace">int speed</text>
                        <!-- メソッド -->
                        <text x="30" y="198" font-size="13" font-weight="600" fill="#0284c7">メソッド（動作）</text>
                        <rect x="30" y="208" width="180" height="28" rx="6" fill="white" stroke="#bae6fd" stroke-width="1"/>
                        <text x="120" y="227" text-anchor="middle" font-size="12" fill="#1e293b" font-family="monospace">accelerate()</text>
                        <rect x="30" y="242" width="180" height="28" rx="6" fill="white" stroke="#bae6fd" stroke-width="1"/>
                        <text x="120" y="261" text-anchor="middle" font-size="12" fill="#1e293b" font-family="monospace">brake()</text>
                        <!-- ラベル -->
                        <text x="120" y="296" text-anchor="middle" font-size="11" fill="#64748b">「車とは何か」の定義</text>

                        <!-- ===== 矢印 ===== -->
                        <line x1="240" y1="110" x2="310" y2="70" stroke="#0ea5e9" stroke-width="2" marker-end="url(#arrowClass)"/>
                        <line x1="240" y1="170" x2="310" y2="170" stroke="#0ea5e9" stroke-width="2" marker-end="url(#arrowClass)"/>
                        <line x1="240" y1="230" x2="310" y2="270" stroke="#0ea5e9" stroke-width="2" marker-end="url(#arrowClass)"/>
                        <text x="275" y="148" text-anchor="middle" font-size="12" font-weight="700" fill="#0ea5e9">new</text>
                        <text x="275" y="215" text-anchor="middle" font-size="12" font-weight="700" fill="#0ea5e9">new</text>
                        <text x="275" y="280" text-anchor="middle" font-size="12" font-weight="700" fill="#0ea5e9">new</text>

                        <!-- ===== 右上：オブジェクト1 ===== -->
                        <rect x="320" y="10" width="185" height="100" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
                        <text x="412" y="36" text-anchor="middle" font-size="13" font-weight="700" fill="#92400e">私の赤い車</text>
                        <line x1="336" y1="44" x2="488" y2="44" stroke="#fde68a" stroke-width="1"/>
                        <text x="340" y="64" font-size="12" fill="#1e293b" font-family="monospace">color = "赤"</text>
                        <text x="340" y="84" font-size="12" fill="#1e293b" font-family="monospace">speed = 60</text>
                        <text x="340" y="102" font-size="11" fill="#92400e">accelerate() → 加速！</text>

                        <!-- ===== 右中：オブジェクト2 ===== -->
                        <rect x="320" y="120" width="185" height="100" rx="12" fill="#d1fae5" stroke="#10b981" stroke-width="2"/>
                        <text x="412" y="146" text-anchor="middle" font-size="13" font-weight="700" fill="#065f46">隣の青い車</text>
                        <line x1="336" y1="154" x2="488" y2="154" stroke="#a7f3d0" stroke-width="1"/>
                        <text x="340" y="174" font-size="12" fill="#1e293b" font-family="monospace">color = "青"</text>
                        <text x="340" y="194" font-size="12" fill="#1e293b" font-family="monospace">speed = 0</text>
                        <text x="340" y="212" font-size="11" fill="#065f46">brake() → 停車中</text>

                        <!-- ===== 右下：オブジェクト3 ===== -->
                        <rect x="320" y="230" width="185" height="100" rx="12" fill="#ede9fe" stroke="#8b5cf6" stroke-width="2"/>
                        <text x="412" y="256" text-anchor="middle" font-size="13" font-weight="700" fill="#5b21b6">友人の白い車</text>
                        <line x1="336" y1="264" x2="488" y2="264" stroke="#ddd6fe" stroke-width="1"/>
                        <text x="340" y="284" font-size="12" fill="#1e293b" font-family="monospace">color = "白"</text>
                        <text x="340" y="304" font-size="12" fill="#1e293b" font-family="monospace">speed = 100</text>
                        <text x="340" y="322" font-size="11" fill="#5b21b6">accelerate() → 高速走行！</text>

                        <!-- ===== 右側ラベル ===== -->
                        <text x="560" y="60" font-size="12" fill="#64748b">オブジェクト</text>
                        <text x="560" y="76" font-size="12" fill="#64748b">（インスタンス）</text>
                        <line x1="550" y1="50" x2="550" y2="360" stroke="#e2e8f0" stroke-width="1" stroke-dasharray="4,4"/>
                        <text x="560" y="170" font-size="11" fill="#64748b">それぞれが</text>
                        <text x="560" y="186" font-size="11" fill="#64748b">独立したデータを</text>
                        <text x="560" y="202" font-size="11" fill="#64748b">持っている</text>

                        <!-- 矢印マーカー -->
                        <defs>
                            <marker id="arrowClass" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#0ea5e9"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
            </div>

            <div class="content-block">
                <div class="info-box">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">memory</span></span><span class="info-box-title">そもそもメモリとは？</span></div>
                    <p>コンピュータには<strong>メモリ（RAM）</strong>と呼ばれる「作業台」があります。</p>
                    <p style="margin-top: 8px;">プログラムが動いている間、必要なデータはすべてこのメモリ上に置かれます。<br>
                    たとえば今このブラウザを動かしているのも、表示する文字や画像のデータがメモリ上にあるからです。</p>
                    <div class="figure" style="margin: 16px 0 8px;">
                        <svg viewBox="0 0 620 170" style="max-width: 620px; width: 100%; height: auto;">
                            <!-- HDD/SSD -->
                            <rect x="10" y="30" width="150" height="110" rx="12" fill="#f1f5f9" stroke="#94a3b8" stroke-width="2"/>
                            <text x="85" y="58" text-anchor="middle" font-size="13" font-weight="700" fill="#475569">HDD / SSD</text>
                            <text x="85" y="78" text-anchor="middle" font-size="11" fill="#64748b">保存場所（倉庫）</text>
                            <text x="85" y="98" text-anchor="middle" font-size="11" fill="#64748b">電源を切っても</text>
                            <text x="85" y="114" text-anchor="middle" font-size="11" fill="#64748b">データが残る</text>
                            <text x="85" y="132" text-anchor="middle" font-size="11" fill="#94a3b8">読み書きは遅い</text>
                            <!-- 矢印 -->
                            <line x1="165" y1="85" x2="220" y2="85" stroke="#64748b" stroke-width="2" marker-end="url(#arrowMem2)"/>
                            <text x="193" y="76" text-anchor="middle" font-size="10" fill="#64748b">読込</text>
                            <!-- メモリ -->
                            <rect x="225" y="10" width="170" height="150" rx="12" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="2.5"/>
                            <text x="310" y="38" text-anchor="middle" font-size="14" font-weight="700" fill="#0284c7">メモリ（RAM）</text>
                            <text x="310" y="58" text-anchor="middle" font-size="11" fill="#0c4a6e">作業台</text>
                            <text x="310" y="80" text-anchor="middle" font-size="11" fill="#64748b">プログラム実行中の</text>
                            <text x="310" y="96" text-anchor="middle" font-size="11" fill="#64748b">データを置く場所</text>
                            <text x="310" y="118" text-anchor="middle" font-size="11" fill="#64748b">電源を切ると消える</text>
                            <text x="310" y="148" text-anchor="middle" font-size="11" fill="#0284c7" font-weight="600">読み書きが高速</text>
                            <!-- 矢印 -->
                            <line x1="400" y1="85" x2="455" y2="85" stroke="#0ea5e9" stroke-width="2" marker-end="url(#arrowMem3)"/>
                            <text x="428" y="76" text-anchor="middle" font-size="10" fill="#0ea5e9">処理</text>
                            <!-- CPU -->
                            <rect x="460" y="30" width="150" height="110" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
                            <text x="535" y="58" text-anchor="middle" font-size="13" font-weight="700" fill="#92400e">CPU</text>
                            <text x="535" y="78" text-anchor="middle" font-size="11" fill="#92400e">頭脳（計算係）</text>
                            <text x="535" y="100" text-anchor="middle" font-size="11" fill="#64748b">メモリ上のデータを</text>
                            <text x="535" y="116" text-anchor="middle" font-size="11" fill="#64748b">読んで計算し</text>
                            <text x="535" y="132" text-anchor="middle" font-size="11" fill="#64748b">結果を書き戻す</text>
                            <defs>
                                <marker id="arrowMem2" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                    <path d="M 0 0 L 10 5 L 0 10 z" fill="#64748b"/>
                                </marker>
                                <marker id="arrowMem3" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                    <path d="M 0 0 L 10 5 L 0 10 z" fill="#0ea5e9"/>
                                </marker>
                            </defs>
                        </svg>
                    </div>
                    <p>これだけだとピンとこないかもしれません。2つの身近な場面に置き換えてみましょう。</p>

                    <div class="figure" style="margin: 16px 0;">
                        <div class="figure-caption">身近なたとえで理解する HDD・メモリ・CPU</div>
                        <svg viewBox="0 0 640 340" style="max-width: 640px; width: 100%; height: auto;">
                            <!-- ===== 上段：デスクワークの例 ===== -->
                            <rect x="5" y="5" width="630" height="150" rx="12" fill="#fefce8" stroke="#fde68a" stroke-width="1.5"/>
                            <text x="320" y="28" text-anchor="middle" font-size="13" font-weight="700" fill="#92400e">デスクワークの場合</text>

                            <!-- 引き出し -->
                            <rect x="20" y="40" width="170" height="100" rx="10" fill="#f1f5f9" stroke="#94a3b8" stroke-width="1.5"/>
                            <text x="105" y="62" text-anchor="middle" font-size="24">🗄️</text>
                            <text x="105" y="84" text-anchor="middle" font-size="12" font-weight="700" fill="#475569">引き出し</text>
                            <text x="105" y="100" text-anchor="middle" font-size="11" fill="#64748b">書類を保管する場所</text>
                            <text x="105" y="116" text-anchor="middle" font-size="11" fill="#64748b">退社しても残る</text>
                            <text x="105" y="132" text-anchor="middle" font-size="10" fill="#94a3b8">= HDD / SSD</text>
                            <!-- 矢印 -->
                            <text x="207" y="92" text-anchor="middle" font-size="16" fill="#64748b">→</text>
                            <!-- 机 -->
                            <rect x="225" y="40" width="170" height="100" rx="10" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="1.5"/>
                            <text x="310" y="62" text-anchor="middle" font-size="24">🖥️</text>
                            <text x="310" y="84" text-anchor="middle" font-size="12" font-weight="700" fill="#0284c7">机の上</text>
                            <text x="310" y="100" text-anchor="middle" font-size="11" fill="#64748b">今使う書類を広げる</text>
                            <text x="310" y="116" text-anchor="middle" font-size="11" fill="#64748b">退社すると片付ける</text>
                            <text x="310" y="132" text-anchor="middle" font-size="10" fill="#0284c7" font-weight="600">= メモリ</text>
                            <!-- 矢印 -->
                            <text x="412" y="92" text-anchor="middle" font-size="16" fill="#64748b">→</text>
                            <!-- 人 -->
                            <rect x="430" y="40" width="190" height="100" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
                            <text x="525" y="62" text-anchor="middle" font-size="24">👩‍💼</text>
                            <text x="525" y="84" text-anchor="middle" font-size="12" font-weight="700" fill="#92400e">自分（作業する人）</text>
                            <text x="525" y="100" text-anchor="middle" font-size="11" fill="#64748b">机の書類を読んで</text>
                            <text x="525" y="116" text-anchor="middle" font-size="11" fill="#64748b">考えて、書き込む</text>
                            <text x="525" y="132" text-anchor="middle" font-size="10" fill="#92400e" font-weight="600">= CPU</text>

                            <!-- ===== 下段：料理の例 ===== -->
                            <rect x="5" y="175" width="630" height="155" rx="12" fill="#f0fdf4" stroke="#a7f3d0" stroke-width="1.5"/>
                            <text x="320" y="198" text-anchor="middle" font-size="13" font-weight="700" fill="#065f46">料理の場合</text>

                            <!-- 冷蔵庫 -->
                            <rect x="20" y="210" width="170" height="105" rx="10" fill="#f1f5f9" stroke="#94a3b8" stroke-width="1.5"/>
                            <text x="105" y="234" text-anchor="middle" font-size="24">🧊</text>
                            <text x="105" y="256" text-anchor="middle" font-size="12" font-weight="700" fill="#475569">冷蔵庫</text>
                            <text x="105" y="272" text-anchor="middle" font-size="11" fill="#64748b">食材を保存する場所</text>
                            <text x="105" y="288" text-anchor="middle" font-size="11" fill="#64748b">使わなくても保管できる</text>
                            <text x="105" y="306" text-anchor="middle" font-size="10" fill="#94a3b8">= HDD / SSD</text>
                            <!-- 矢印 -->
                            <text x="207" y="265" text-anchor="middle" font-size="16" fill="#64748b">→</text>
                            <!-- まな板 -->
                            <rect x="225" y="210" width="170" height="105" rx="10" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="1.5"/>
                            <text x="310" y="234" text-anchor="middle" font-size="24">🔪</text>
                            <text x="310" y="256" text-anchor="middle" font-size="12" font-weight="700" fill="#0284c7">まな板</text>
                            <text x="310" y="272" text-anchor="middle" font-size="11" fill="#64748b">食材を取り出して</text>
                            <text x="310" y="288" text-anchor="middle" font-size="11" fill="#64748b">今まさに切る場所</text>
                            <text x="310" y="306" text-anchor="middle" font-size="10" fill="#0284c7" font-weight="600">= メモリ</text>
                            <!-- 矢印 -->
                            <text x="412" y="265" text-anchor="middle" font-size="16" fill="#64748b">→</text>
                            <!-- 人 -->
                            <rect x="430" y="210" width="190" height="105" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
                            <text x="525" y="234" text-anchor="middle" font-size="24">👩‍🍳</text>
                            <text x="525" y="256" text-anchor="middle" font-size="12" font-weight="700" fill="#92400e">自分（料理する人）</text>
                            <text x="525" y="272" text-anchor="middle" font-size="11" fill="#64748b">まな板の上の食材を</text>
                            <text x="525" y="288" text-anchor="middle" font-size="11" fill="#64748b">切って、炒めて、盛る</text>
                            <text x="525" y="306" text-anchor="middle" font-size="10" fill="#92400e" font-weight="600">= CPU</text>
                        </svg>
                    </div>

                    <p>どちらのケースも同じ構造です。<strong>保管場所（HDD）から作業台（メモリ）に出して、人（CPU）が処理する</strong>。コンピュータの中でもまったく同じことが起きています。</p>
                    <p style="margin-top: 8px;">Javaのプログラムも同じです。<code>new</code> でオブジェクトを作ると、その<strong>データがメモリ（作業台）上に置かれ</strong>、プログラムが終了すると消えます。<br>つまり「オブジェクトを作る＝メモリの作業台にデータを置く」ということです。</p>
                </div>

                <p style="margin-top: 20px;">では、クラスとオブジェクトはこのメモリ上でどう違うのでしょうか？</p>
                <p><strong>クラス</strong>はプログラムの「定義情報」としてメモリに<strong>1つだけ</strong>読み込まれます。いわば図書館の本棚にある「原本」です。<br><strong>オブジェクト</strong>は <code>new</code> するたびにメモリ上に<strong>新しい領域が確保</strong>されます。原本をコピーして、それぞれに違う内容を書き込んだ「自分専用のノート」のようなものです。</p>

                <div class="figure">
                    <div class="figure-caption">JVMの3つのメモリ領域</div>
                    <svg viewBox="0 0 760 440" style="max-width: 760px; width: 100%; height: auto;">
                        <!-- ===== メモリ全体の外枠 ===== -->
                        <rect x="5" y="30" width="750" height="400" rx="16" fill="none" stroke="#94a3b8" stroke-width="2" stroke-dasharray="8,4"/>
                        <text x="380" y="20" text-anchor="middle" font-size="14" font-weight="700" fill="#475569">メモリ（RAM）</text>

                        <!-- ========== 左：メソッドエリア ========== -->
                        <rect x="15" y="50" width="175" height="365" rx="12" fill="#f0f9ff" stroke="#bae6fd" stroke-width="1.5"/>
                        <text x="102" y="72" text-anchor="middle" font-size="11" font-weight="700" fill="#0284c7">メソッドエリア</text>
                        <text x="102" y="86" text-anchor="middle" font-size="10" fill="#64748b">（クラス領域）</text>

                        <!-- クラス情報ボックス -->
                        <rect x="23" y="96" width="160" height="180" rx="8" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="2"/>
                        <rect x="23" y="96" width="160" height="26" rx="8" fill="#0ea5e9"/>
                        <rect x="23" y="112" width="160" height="10" fill="#0ea5e9"/>
                        <text x="103" y="114" text-anchor="middle" font-size="12" font-weight="700" fill="white">Car クラス</text>
                        <!-- フィールド定義 -->
                        <text x="34" y="142" font-size="10" font-weight="600" fill="#0284c7">フィールド定義</text>
                        <text x="34" y="158" font-size="10" fill="#1e293b" font-family="monospace">String color</text>
                        <text x="34" y="172" font-size="10" fill="#1e293b" font-family="monospace">int speed</text>
                        <!-- メソッドコード -->
                        <text x="34" y="196" font-size="10" font-weight="600" fill="#0284c7">メソッドのコード</text>
                        <text x="34" y="212" font-size="10" fill="#1e293b" font-family="monospace">accelerate()</text>
                        <text x="34" y="226" font-size="10" fill="#1e293b" font-family="monospace">brake()</text>
                        <!-- ラベル -->
                        <rect x="30" y="248" width="148" height="20" rx="6" fill="#bae6fd"/>
                        <text x="103" y="262" text-anchor="middle" font-size="9" font-weight="600" fill="#0c4a6e">メモリに1つだけ存在</text>

                        <!-- 補足 -->
                        <text x="102" y="300" text-anchor="middle" font-size="10" fill="#64748b">メソッドのコードは</text>
                        <text x="102" y="316" text-anchor="middle" font-size="10" fill="#64748b">ここに1つだけあり</text>
                        <text x="102" y="336" text-anchor="middle" font-size="10" font-weight="600" fill="#0284c7">全オブジェクトが共有</text>

                        <!-- ========== 中央：ヒープ領域 ========== -->
                        <rect x="200" y="50" width="310" height="365" rx="12" fill="#fefce8" stroke="#fde68a" stroke-width="1.5"/>
                        <text x="355" y="72" text-anchor="middle" font-size="11" font-weight="700" fill="#92400e">ヒープ領域</text>
                        <text x="355" y="86" text-anchor="middle" font-size="10" fill="#64748b">new するたびにオブジェクトが増える</text>

                        <!-- オブジェクト1 -->
                        <rect x="215" y="96" width="280" height="78" rx="8" fill="white" stroke="#f59e0b" stroke-width="2"/>
                        <text x="355" y="114" text-anchor="middle" font-size="11" font-weight="700" fill="#92400e">Car オブジェクト①</text>
                        <line x1="225" y1="120" x2="485" y2="120" stroke="#fde68a" stroke-width="1"/>
                        <text x="230" y="136" font-size="10" fill="#1e293b" font-family="monospace">color = "赤"  speed = 60</text>
                        <rect x="230" y="148" width="105" height="16" rx="4" fill="#fef3c7"/>
                        <text x="282" y="160" text-anchor="middle" font-size="9" fill="#92400e">クラス参照 → Car クラス</text>
                        <!-- 参照矢印 → メソッドエリア -->
                        <line x1="230" y1="156" x2="188" y2="156" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowBackRef)"/>

                        <!-- オブジェクト2 -->
                        <rect x="215" y="190" width="280" height="78" rx="8" fill="white" stroke="#10b981" stroke-width="2"/>
                        <text x="355" y="208" text-anchor="middle" font-size="11" font-weight="700" fill="#065f46">Car オブジェクト②</text>
                        <line x1="225" y1="214" x2="485" y2="214" stroke="#a7f3d0" stroke-width="1"/>
                        <text x="230" y="230" font-size="10" fill="#1e293b" font-family="monospace">color = "青"  speed = 0</text>
                        <rect x="230" y="242" width="105" height="16" rx="4" fill="#d1fae5"/>
                        <text x="282" y="254" text-anchor="middle" font-size="9" fill="#065f46">クラス参照 → Car クラス</text>
                        <!-- 参照矢印 → メソッドエリア -->
                        <line x1="230" y1="250" x2="188" y2="220" stroke="#10b981" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowBackRefG)"/>

                        <!-- オブジェクト3 -->
                        <rect x="215" y="284" width="280" height="78" rx="8" fill="white" stroke="#8b5cf6" stroke-width="2"/>
                        <text x="355" y="302" text-anchor="middle" font-size="11" font-weight="700" fill="#5b21b6">Car オブジェクト③</text>
                        <line x1="225" y1="308" x2="485" y2="308" stroke="#ddd6fe" stroke-width="1"/>
                        <text x="230" y="324" font-size="10" fill="#1e293b" font-family="monospace">color = "白"  speed = 100</text>
                        <rect x="230" y="336" width="105" height="16" rx="4" fill="#ede9fe"/>
                        <text x="282" y="348" text-anchor="middle" font-size="9" fill="#5b21b6">クラス参照 → Car クラス</text>
                        <!-- 参照矢印 → メソッドエリア -->
                        <line x1="230" y1="344" x2="188" y2="270" stroke="#8b5cf6" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowBackRefP)"/>

                        <!-- ========== 右：スタック領域 ========== -->
                        <rect x="520" y="50" width="225" height="365" rx="12" fill="#faf5ff" stroke="#c4b5fd" stroke-width="1.5"/>
                        <text x="632" y="72" text-anchor="middle" font-size="11" font-weight="700" fill="#6d28d9">スタック領域</text>
                        <text x="632" y="86" text-anchor="middle" font-size="10" fill="#64748b">メソッド呼び出し・ローカル変数</text>

                        <!-- mainメソッドのフレーム -->
                        <rect x="532" y="96" width="200" height="240" rx="8" fill="#ede9fe" stroke="#8b5cf6" stroke-width="2"/>
                        <rect x="532" y="96" width="200" height="26" rx="8" fill="#8b5cf6"/>
                        <rect x="532" y="112" width="200" height="10" fill="#8b5cf6"/>
                        <text x="632" y="114" text-anchor="middle" font-size="11" font-weight="700" fill="white">main() メソッドのフレーム</text>

                        <!-- ローカル変数 -->
                        <text x="545" y="142" font-size="10" font-weight="600" fill="#6d28d9">ローカル変数（参照）</text>

                        <!-- 変数1 -->
                        <rect x="540" y="152" width="182" height="26" rx="6" fill="white" stroke="#f59e0b" stroke-width="1.5"/>
                        <text x="550" y="170" font-size="10" fill="#1e293b" font-family="monospace">myCar → 0x100</text>

                        <!-- 変数2 -->
                        <rect x="540" y="186" width="182" height="26" rx="6" fill="white" stroke="#10b981" stroke-width="1.5"/>
                        <text x="550" y="204" font-size="10" fill="#1e293b" font-family="monospace">workerCar → 0x200</text>

                        <!-- 変数3 -->
                        <rect x="540" y="220" width="182" height="26" rx="6" fill="white" stroke="#8b5cf6" stroke-width="1.5"/>
                        <text x="550" y="238" font-size="10" fill="#1e293b" font-family="monospace">friendCar → 0x300</text>

                        <!-- スタックの説明 -->
                        <text x="632" y="272" text-anchor="middle" font-size="10" fill="#64748b">変数はオブジェクト</text>
                        <text x="632" y="288" text-anchor="middle" font-size="10" fill="#64748b">そのものではなく</text>
                        <text x="632" y="306" text-anchor="middle" font-size="10" font-weight="600" fill="#6d28d9">ヒープ上の「住所」を持つ</text>

                        <!-- メソッド終了の補足 -->
                        <rect x="532" y="350" width="200" height="48" rx="8" fill="white" stroke="#c4b5fd" stroke-width="1" stroke-dasharray="4,3"/>
                        <text x="632" y="370" text-anchor="middle" font-size="10" fill="#64748b">メソッドが終了すると</text>
                        <text x="632" y="386" text-anchor="middle" font-size="10" fill="#64748b">このフレームは消える</text>

                        <!-- ===== スタック → ヒープ の参照矢印 ===== -->
                        <line x1="540" y1="165" x2="495" y2="135" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowRef)"/>
                        <line x1="540" y1="199" x2="495" y2="229" stroke="#10b981" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowRefG)"/>
                        <line x1="540" y1="233" x2="495" y2="323" stroke="#8b5cf6" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowRefP)"/>

                        <!-- 矢印マーカー -->
                        <defs>
                            <marker id="arrowRef" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#f59e0b"/>
                            </marker>
                            <marker id="arrowRefG" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#10b981"/>
                            </marker>
                            <marker id="arrowRefP" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#8b5cf6"/>
                            </marker>
                            <marker id="arrowBackRef" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#f59e0b"/>
                            </marker>
                            <marker id="arrowBackRefG" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#10b981"/>
                            </marker>
                            <marker id="arrowBackRefP" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#8b5cf6"/>
                            </marker>
                        </defs>
                    </svg>
                </div>

                <div class="info-box">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">help_outline</span></span><span class="info-box-title">なぜ「ヒープ」と呼ぶの？</span></div>
                    <p>heap は英語で<strong>「無造作に積み上げた山」</strong>という意味です。もう一方の<strong>スタック（stack）</strong>は「きれいに積んだ山」です。</p>
                    <table class="data-table" style="margin-top: 8px;">
                        <thead>
                            <tr><th></th><th>スタック（stack）</th><th>ヒープ（heap）</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>英語の意味</strong></td><td>きれいに積んだ山</td><td>無造作に積んだ山</td></tr>
                            <tr><td><strong>イメージ</strong></td><td>本を1冊ずつ重ねた山</td><td>部屋にバラバラに置いた荷物</td></tr>
                            <tr><td><strong>ルール</strong></td><td>上に積む → 上から取る</td><td>空いた場所にどんどん置く</td></tr>
                            <tr><td><strong>用途</strong></td><td>メソッド呼び出し、ローカル変数</td><td><code>new</code> で作るオブジェクト</td></tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 8px;">スタックは順番通りに片付けるのに対し、ヒープは<strong>好きな場所に置いて好きな順で片付ける</strong>自由な領域です。この「雑に山積みされた感じ」が名前の由来です。</p>
                </div>

                <div class="info-box">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">lightbulb</span></span><span class="info-box-title">3つのメモリ領域まとめ</span></div>
                    <table class="data-table" style="margin-top: 8px;">
                        <thead>
                            <tr><th></th><th>メソッドエリア</th><th>ヒープ</th><th>スタック</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>置かれるもの</strong></td><td>クラス定義、メソッドのコード</td><td><code>new</code> で作ったオブジェクト</td><td>ローカル変数、メソッド呼び出し情報</td></tr>
                            <tr><td><strong>数</strong></td><td>クラスごとに1つ</td><td><code>new</code> するたびに増える</td><td>メソッド呼び出しごとにフレームが積まれる</td></tr>
                            <tr><td><strong>寿命</strong></td><td>プログラム実行中ずっと</td><td>参照がなくなるとGCが回収</td><td>メソッドが終了すると消える</td></tr>
                            <tr><td><strong>たとえ</strong></td><td>図書館の原本</td><td>コピーして書き込んだ自分専用ノート</td><td>「どのノートを使うか」のメモ書き</td></tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 8px;">スタック上の変数 <code>myCar</code> はオブジェクトそのものではなく、ヒープ上のオブジェクトを指す<strong>「住所」（参照）</strong>を持っています。この仕組みは Section 5-8 で詳しく学びます。</p>
                </div>
            </div>
        </section>

        <!-- セクション 5-2 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 5-2</span>
                <h2 class="section-title">クラスの作成</h2>
            </div>

            <div class="intro-text">
                <p>クラスはメンバ変数（データ）とメソッド（振る舞い）で構成されます。良いクラス設計は、データと処理を適切にまとめ、外部からの不正なアクセスを防ぎます。この「何を公開し、何を隠すか」の設計が、保守性の高いコードにつながります。</p>
            </div>

            <div class="column-box">
                <span class="column-badge">Column</span>
                <div class="column-title" style="margin-top: 8px;">そもそもクラスって何を基準に作るの？</div>

                <p style="margin-top: 16px;">プログラミングを始めたばかりだと「何をクラスにすればいいの？」と迷います。<br>答えはシンプルで、<strong>現実世界の「モノ」や「まとまり」がそのまま1つのクラスになります。</strong></p>

                <p style="margin-top: 12px;">たとえば、レシピアプリを作ることを考えてみましょう。</p>

                <div class="figure" style="margin: 20px 0;">
                    <div class="figure-caption">現実世界の「まとまり」→ クラスにする</div>
                    <svg viewBox="0 0 700 300" style="max-width: 700px; width: 100%; height: auto;">
                        <!-- ===== 左：現実世界 ===== -->
                        <rect x="10" y="10" width="280" height="280" rx="14" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
                        <text x="150" y="38" text-anchor="middle" font-size="14" font-weight="700" fill="#92400e">現実世界</text>

                        <!-- レシピカード風 -->
                        <rect x="30" y="52" width="240" height="225" rx="10" fill="white" stroke="#fde68a" stroke-width="1.5"/>
                        <text x="150" y="76" text-anchor="middle" font-size="15" font-weight="700" fill="#92400e">パンケーキのレシピ</text>
                        <line x1="45" y1="84" x2="255" y2="84" stroke="#fde68a" stroke-width="1"/>
                        <!-- データ部分 -->
                        <text x="45" y="108" font-size="12" font-weight="600" fill="#92400e">情報（データ）</text>
                        <text x="55" y="128" font-size="12" fill="#1e293b">料理名：パンケーキ</text>
                        <text x="55" y="146" font-size="12" fill="#1e293b">材料：卵、小麦粉、牛乳…</text>
                        <text x="55" y="164" font-size="12" fill="#1e293b">調理時間：20分</text>
                        <line x1="45" y1="176" x2="255" y2="176" stroke="#fde68a" stroke-width="1"/>
                        <!-- 操作部分 -->
                        <text x="45" y="198" font-size="12" font-weight="600" fill="#92400e">できること（操作）</text>
                        <text x="55" y="218" font-size="12" fill="#1e293b">作る（調理手順を実行）</text>
                        <text x="55" y="236" font-size="12" fill="#1e293b">盛り付ける</text>
                        <text x="55" y="254" font-size="12" fill="#1e293b">材料を表示する</text>

                        <!-- ===== 矢印 ===== -->
                        <line x1="295" y1="150" x2="365" y2="150" stroke="#0ea5e9" stroke-width="2.5" marker-end="url(#arrowToClass)"/>
                        <text x="330" y="140" text-anchor="middle" font-size="12" font-weight="700" fill="#0ea5e9">クラスに</text>
                        <text x="330" y="168" text-anchor="middle" font-size="12" font-weight="700" fill="#0ea5e9">する</text>

                        <!-- ===== 右：Javaクラス ===== -->
                        <rect x="370" y="10" width="320" height="280" rx="14" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="2"/>
                        <text x="530" y="38" text-anchor="middle" font-size="14" font-weight="700" fill="#0284c7">Javaのクラス</text>

                        <rect x="390" y="52" width="280" height="225" rx="10" fill="white" stroke="#bae6fd" stroke-width="1.5"/>
                        <text x="530" y="76" text-anchor="middle" font-size="14" font-weight="700" fill="#0284c7">Recipe クラス</text>
                        <line x1="405" y1="84" x2="655" y2="84" stroke="#bae6fd" stroke-width="1"/>
                        <!-- フィールド -->
                        <text x="405" y="108" font-size="12" font-weight="600" fill="#0284c7">フィールド（データ）</text>
                        <text x="415" y="128" font-size="12" fill="#1e293b" font-family="monospace">String name</text>
                        <text x="415" y="146" font-size="12" fill="#1e293b" font-family="monospace">String[] ingredients</text>
                        <text x="415" y="164" font-size="12" fill="#1e293b" font-family="monospace">int cookingTime</text>
                        <line x1="405" y1="176" x2="655" y2="176" stroke="#bae6fd" stroke-width="1"/>
                        <!-- メソッド -->
                        <text x="405" y="198" font-size="12" font-weight="600" fill="#0284c7">メソッド（操作）</text>
                        <text x="415" y="218" font-size="12" fill="#1e293b" font-family="monospace">cook()</text>
                        <text x="415" y="236" font-size="12" fill="#1e293b" font-family="monospace">plate()</text>
                        <text x="415" y="254" font-size="12" fill="#1e293b" font-family="monospace">showIngredients()</text>

                        <defs>
                            <marker id="arrowToClass" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#0ea5e9"/>
                            </marker>
                        </defs>
                    </svg>
                </div>

                <p>クラスにするかどうかの判断は、次の3つの質問で考えられます。</p>

                <div class="info-box" style="background: white; margin: 16px 0;">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">checklist</span></span><span class="info-box-title">クラスにする3つの基準</span></div>
                    <div style="margin-top: 8px;">
                        <div class="step-item">
                            <div class="step-number-box">1</div>
                            <div class="step-content">
                                <div class="step-text"><strong>「それ」は何かデータを持っている？</strong><br>→ 料理名、材料、調理時間 → <strong>フィールドになる</strong></div>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number-box">2</div>
                            <div class="step-content">
                                <div class="step-text"><strong>「それ」は何か動作をする？</strong><br>→ 作る、盛り付ける、材料を表示する → <strong>メソッドになる</strong></div>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number-box">3</div>
                            <div class="step-content">
                                <div class="step-text"><strong>1と2がセットで意味を持つ？</strong><br>→ 「パンケーキの材料」と「パンケーキを作る手順」はセットで意味がある → <strong>1つのクラスにまとめる</strong></div>
                            </div>
                        </div>
                    </div>
                </div>

                <p style="margin-top: 16px;">この基準で他の例も考えてみましょう。Section 5-1 で出てきた自動車も同じように整理できます。</p>

                <div class="figure" style="margin: 20px 0;">
                    <div class="figure-caption">レシピと自動車 ― どちらも「データ＋操作」のセット</div>
                    <svg viewBox="0 0 700 250" style="max-width: 700px; width: 100%; height: auto;">
                        <!-- ===== 左：Recipeクラス ===== -->
                        <rect x="10" y="10" width="330" height="230" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
                        <rect x="10" y="10" width="330" height="32" rx="12" fill="#f59e0b"/>
                        <rect x="10" y="30" width="330" height="12" fill="#f59e0b"/>
                        <text x="175" y="32" text-anchor="middle" font-size="14" font-weight="700" fill="white">Recipe クラス</text>
                        <!-- フィールド -->
                        <text x="25" y="66" font-size="12" font-weight="600" fill="#92400e">フィールド（どんなデータ？）</text>
                        <text x="35" y="86" font-size="12" fill="#1e293b" font-family="monospace">String name</text>
                        <text x="190" y="86" font-size="11" fill="#64748b">← 料理名</text>
                        <text x="35" y="104" font-size="12" fill="#1e293b" font-family="monospace">String[] ingredients</text>
                        <text x="210" y="104" font-size="11" fill="#64748b">← 材料</text>
                        <text x="35" y="122" font-size="12" fill="#1e293b" font-family="monospace">int cookingTime</text>
                        <text x="200" y="122" font-size="11" fill="#64748b">← 調理時間</text>
                        <line x1="25" y1="134" x2="325" y2="134" stroke="#fde68a" stroke-width="1"/>
                        <!-- メソッド -->
                        <text x="25" y="154" font-size="12" font-weight="600" fill="#92400e">メソッド（どんな操作？）</text>
                        <text x="35" y="174" font-size="12" fill="#1e293b" font-family="monospace">cook()</text>
                        <text x="110" y="174" font-size="11" fill="#64748b">← 作る</text>
                        <text x="35" y="192" font-size="12" fill="#1e293b" font-family="monospace">plate()</text>
                        <text x="110" y="192" font-size="11" fill="#64748b">← 盛り付ける</text>
                        <text x="35" y="210" font-size="12" fill="#1e293b" font-family="monospace">showIngredients()</text>
                        <text x="210" y="210" font-size="11" fill="#64748b">← 材料を表示</text>

                        <!-- ===== 右：Carクラス ===== -->
                        <rect x="360" y="10" width="330" height="230" rx="12" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="2"/>
                        <rect x="360" y="10" width="330" height="32" rx="12" fill="#0ea5e9"/>
                        <rect x="360" y="30" width="330" height="12" fill="#0ea5e9"/>
                        <text x="525" y="32" text-anchor="middle" font-size="14" font-weight="700" fill="white">Car クラス</text>
                        <!-- フィールド -->
                        <text x="375" y="66" font-size="12" font-weight="600" fill="#0284c7">フィールド（どんなデータ？）</text>
                        <text x="385" y="86" font-size="12" fill="#1e293b" font-family="monospace">String color</text>
                        <text x="520" y="86" font-size="11" fill="#64748b">← 色</text>
                        <text x="385" y="104" font-size="12" fill="#1e293b" font-family="monospace">int speed</text>
                        <text x="500" y="104" font-size="11" fill="#64748b">← 速度</text>
                        <text x="385" y="122" font-size="12" fill="#1e293b" font-family="monospace">int fuel</text>
                        <text x="490" y="122" font-size="11" fill="#64748b">← 燃料</text>
                        <line x1="375" y1="134" x2="675" y2="134" stroke="#bae6fd" stroke-width="1"/>
                        <!-- メソッド -->
                        <text x="375" y="154" font-size="12" font-weight="600" fill="#0284c7">メソッド（どんな操作？）</text>
                        <text x="385" y="174" font-size="12" fill="#1e293b" font-family="monospace">accelerate()</text>
                        <text x="520" y="174" font-size="11" fill="#64748b">← 加速する</text>
                        <text x="385" y="192" font-size="12" fill="#1e293b" font-family="monospace">brake()</text>
                        <text x="480" y="192" font-size="11" fill="#64748b">← ブレーキ</text>
                        <text x="385" y="210" font-size="12" fill="#1e293b" font-family="monospace">showStatus()</text>
                        <text x="530" y="210" font-size="11" fill="#64748b">← 状態を表示</text>
                    </svg>
                </div>

                <p>レシピでも自動車でも構造は同じです。<strong>「データ」と「そのデータに対する操作」がセットで意味を持つなら、それが1つのクラス</strong>になります。<br>もしクラスを使わないと、料理名・材料・調理時間がバラバラの変数になり、「この材料はどのレシピのもの？」がわからなくなります。</p>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-2-1 クラス宣言</h3>
                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
人物情報を管理するPersonクラスの動作を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: Person.java

## 実装要件
- 名前(String)と年齢(int)をprivateフィールドとして持つ
- コンストラクタで名前と年齢を初期化する
- 自己紹介を出力するintroduce()メソッドを実装する


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- クラス宣言（public class）
- privateフィールド
- コンストラクタ（thisキーワード使用）
- publicメソッド</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter05/Person.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>public class Person {
    // メンバ変数（フィールド）
    private String name;
    private int age;

    // コンストラクタ
    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    // メソッド
    public void introduce() {
        System.out.println("私は" + name + "、" + age + "歳です");
    }

    public static void main(String[] args) {
        Person p = new Person("田中", 25);
        p.introduce();  // 私は田中、25歳です
    }
}</code></pre>
                </div>
                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>クラス宣言</h4>
                            <div class="syntax-pattern">public class クラス名 { }</div>
                            <p>クラスを定義する基本構文です。publicは他のパッケージからもアクセス可能にします。クラス名は大文字で始めるのが慣例です。</p>
                        </div>
                        <div class="syntax-item">
                            <h4>フィールド宣言</h4>
                            <div class="syntax-pattern">アクセス修飾子 型 変数名;</div>
                            <p>クラスのメンバ変数を宣言します。privateを使うとクラス外からの直接アクセスを防ぎ、カプセル化を実現できます。</p>
                        </div>
                        <div class="syntax-item">
                            <h4>コンストラクタ</h4>
                            <div class="syntax-pattern">public クラス名(引数リスト) { }</div>
                            <p>オブジェクト生成時に自動的に呼び出される特別なメソッドです。クラス名と同じ名前で、戻り値の型を書きません。</p>
                        </div>
                        <div class="syntax-item">
                            <h4>thisキーワード</h4>
                            <div class="syntax-pattern">this.フィールド名 = 引数名;</div>
                            <p>現在のインスタンス自身を参照します。引数とフィールドの名前が同じ場合に、フィールドを明示するために使用します。</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-2-2 メンバ変数</h3>
                <div class="content-block">
                    <p><strong>メンバ変数（フィールド）</strong>とは、クラスの中で宣言される変数のことです。そのオブジェクトが「何を知っているか」「どんな状態か」を表します。</p>

                    <div class="info-box">
                        <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">restaurant</span></span><span class="info-box-title">メンバ変数 ＝ レシピカードの記入欄</span></div>
                        <p>レシピカードには「料理名」「材料」「調理時間」などの<strong>記入欄</strong>がありますよね。<br>メンバ変数はこの記入欄にあたります。欄だけ用意しておき、オブジェクトごとに違う値を書き込みます。</p>
                        <table class="data-table" style="margin-top: 12px;">
                            <thead>
                                <tr><th>レシピカードの欄</th><th>メンバ変数</th><th>オブジェクトAの値</th><th>オブジェクトBの値</th></tr>
                            </thead>
                            <tbody>
                                <tr><td>料理名</td><td><code>String name</code></td><td>"パンケーキ"</td><td>"カレー"</td></tr>
                                <tr><td>材料</td><td><code>String[] ingredients</code></td><td>{"卵","小麦粉","牛乳"}</td><td>{"玉ねぎ","肉","ルー"}</td></tr>
                                <tr><td>調理時間</td><td><code>int cookingTime</code></td><td>20</td><td>60</td></tr>
                            </tbody>
                        </table>
                        <p style="margin-top: 8px;">クラスは「どんな欄があるか」を定義し、オブジェクトごとに「欄に何を書くか」が変わります。<br>これがメンバ変数の役割です。</p>
                    </div>

                    <div class="info-box">
                        <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">lightbulb</span></span><span class="info-box-title">メンバ変数 と ローカル変数 の違い</span></div>
                        <table class="data-table" style="margin-top: 8px;">
                            <thead>
                                <tr><th></th><th>メンバ変数（フィールド）</th><th>ローカル変数</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>宣言場所</strong></td><td>クラスの直下</td><td>メソッドの中</td></tr>
                                <tr><td><strong>寿命</strong></td><td>オブジェクトが存在する間ずっと</td><td>メソッドが終わると消える</td></tr>
                                <tr><td><strong>初期値</strong></td><td>自動で設定（0, null, false）</td><td>なし（代入しないとエラー）</td></tr>
                                <tr><td><strong>たとえ</strong></td><td>レシピカードに印刷された記入欄</td><td>調理中に使うメモ書き</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- ソースコードで見る メンバ変数 vs ローカル変数 -->
                    <div class="figure" style="margin: 24px 0;">
                        <svg viewBox="0 0 700 420" xmlns="http://www.w3.org/2000/svg" style="max-width: 700px; width: 100%; font-family: 'Noto Sans JP', sans-serif;">
                            <!-- 背景 -->
                            <rect x="0" y="0" width="700" height="420" rx="16" fill="#f8fafc"/>

                            <!-- タイトル -->
                            <text x="350" y="30" text-anchor="middle" font-size="15" font-weight="700" fill="#1e293b">ソースコードで見る「メンバ変数」と「ローカル変数」</text>

                            <!-- コードエリア背景 -->
                            <rect x="20" y="48" width="430" height="360" rx="10" fill="#1e293b"/>
                            <!-- コードヘッダ -->
                            <rect x="20" y="48" width="430" height="28" rx="10" fill="#0f172a"/>
                            <rect x="20" y="66" width="430" height="10" fill="#0f172a"/>
                            <circle cx="38" cy="62" r="5" fill="#ff5f56"/>
                            <circle cx="54" cy="62" r="5" fill="#ffbd2e"/>
                            <circle cx="70" cy="62" r="5" fill="#27ca40"/>
                            <text x="200" y="66" text-anchor="middle" font-size="10" fill="#94a3b8" font-family="'JetBrains Mono', monospace">Recipe.java</text>

                            <!-- メンバ変数ハイライト背景 -->
                            <rect x="24" y="114" width="422" height="62" rx="4" fill="rgba(99,102,241,0.15)" stroke="#818cf8" stroke-width="1" stroke-dasharray="4,3"/>

                            <!-- ローカル変数ハイライト背景 -->
                            <rect x="24" y="228" width="422" height="42" rx="4" fill="rgba(34,197,94,0.15)" stroke="#4ade80" stroke-width="1" stroke-dasharray="4,3"/>

                            <!-- ソースコード -->
                            <text font-family="'JetBrains Mono', monospace" font-size="12" fill="#e2e8f0">
                                <tspan x="36" y="100" fill="#64748b">1</tspan>
                                <tspan x="60" fill="#c084fc">public class</tspan><tspan fill="#fbbf24"> Recipe</tspan><tspan fill="#e2e8f0"> {</tspan>

                                <tspan x="36" y="120" fill="#64748b">2</tspan>
                                <tspan x="60" fill="#64748b">// ── メンバ変数（フィールド）──</tspan>

                                <tspan x="36" y="140" fill="#64748b">3</tspan>
                                <tspan x="60" fill="#c084fc">    private</tspan><tspan fill="#67e8f9"> String</tspan><tspan fill="#7dd3fc"> name</tspan><tspan fill="#e2e8f0">;</tspan>
                                <tspan x="280" fill="#818cf8">← メンバ変数</tspan>

                                <tspan x="36" y="160" fill="#64748b">4</tspan>
                                <tspan x="60" fill="#c084fc">    private</tspan><tspan fill="#67e8f9"> int</tspan><tspan fill="#7dd3fc"> cookingTime</tspan><tspan fill="#e2e8f0">;</tspan>
                                <tspan x="280" fill="#818cf8">← メンバ変数</tspan>

                                <tspan x="36" y="185" fill="#64748b">5</tspan>
                                <tspan x="60" fill="#c084fc">    public</tspan><tspan fill="#67e8f9"> String</tspan><tspan fill="#fbbf24"> getDifficulty</tspan><tspan fill="#e2e8f0">() {</tspan>

                                <tspan x="36" y="205" fill="#64748b">6</tspan>
                                <tspan x="60" fill="#64748b">        // ── ローカル変数 ──</tspan>

                                <tspan x="36" y="225" fill="#64748b">7</tspan>
                                <tspan x="60" fill="#67e8f9">        int</tspan><tspan fill="#86efac"> threshold</tspan><tspan fill="#e2e8f0"> = </tspan><tspan fill="#f78c6c">30</tspan><tspan fill="#e2e8f0">;</tspan>

                                <tspan x="36" y="245" fill="#64748b">8</tspan>
                                <tspan x="60" fill="#67e8f9">        String</tspan><tspan fill="#86efac"> level</tspan><tspan fill="#e2e8f0">;</tspan>
                                <tspan x="280" fill="#4ade80">← ローカル変数</tspan>

                                <tspan x="36" y="270" fill="#64748b">9</tspan>
                                <tspan x="60" fill="#c084fc">        if</tspan><tspan fill="#e2e8f0"> (</tspan><tspan fill="#7dd3fc">cookingTime</tspan><tspan fill="#e2e8f0"> > </tspan><tspan fill="#86efac">threshold</tspan><tspan fill="#e2e8f0">) {</tspan>

                                <tspan x="36" y="290" fill="#64748b">10</tspan>
                                <tspan x="56" fill="#86efac">            level</tspan><tspan fill="#e2e8f0"> = </tspan><tspan fill="#c3e88d">"上級"</tspan><tspan fill="#e2e8f0">;</tspan>

                                <tspan x="36" y="310" fill="#64748b">11</tspan>
                                <tspan x="60" fill="#e2e8f0">        } </tspan><tspan fill="#c084fc">else</tspan><tspan fill="#e2e8f0"> {</tspan>

                                <tspan x="36" y="330" fill="#64748b">12</tspan>
                                <tspan x="56" fill="#86efac">            level</tspan><tspan fill="#e2e8f0"> = </tspan><tspan fill="#c3e88d">"初級"</tspan><tspan fill="#e2e8f0">;</tspan>

                                <tspan x="36" y="350" fill="#64748b">13</tspan>
                                <tspan x="60" fill="#e2e8f0">        }</tspan>

                                <tspan x="36" y="370" fill="#64748b">14</tspan>
                                <tspan x="60" fill="#c084fc">        return</tspan><tspan fill="#86efac"> level</tspan><tspan fill="#e2e8f0">;</tspan>

                                <tspan x="36" y="390" fill="#64748b">15</tspan>
                                <tspan x="60" fill="#e2e8f0">    }</tspan>

                                <tspan x="36" y="400" fill="#64748b">16</tspan>
                                <tspan x="60" fill="#e2e8f0">}</tspan>
                            </text>

                            <!-- 右側の説明パネル -->
                            <!-- メンバ変数パネル -->
                            <rect x="465" y="48" width="225" height="170" rx="10" fill="#eef2ff" stroke="#818cf8" stroke-width="2"/>
                            <rect x="465" y="48" width="225" height="32" rx="10" fill="#818cf8"/>
                            <rect x="465" y="70" width="225" height="10" fill="#818cf8"/>
                            <text x="577" y="70" text-anchor="middle" font-size="13" font-weight="700" fill="white">メンバ変数（フィールド）</text>

                            <text font-size="11" fill="#3730a3">
                                <tspan x="478" y="102" font-weight="600">宣言場所</tspan>
                                <tspan x="478" y="118" fill="#4338ca">クラスの直下（メソッドの外）</tspan>
                                <tspan x="478" y="140" font-weight="600">寿命</tspan>
                                <tspan x="478" y="156" fill="#4338ca">オブジェクトが存在する間</tspan>
                                <tspan x="478" y="172" fill="#4338ca">ずっと生き続ける</tspan>
                                <tspan x="478" y="194" font-weight="600">初期値</tspan>
                                <tspan x="478" y="210" fill="#4338ca">自動設定（0, null, false）</tspan>
                            </text>

                            <!-- ローカル変数パネル -->
                            <rect x="465" y="232" width="225" height="176" rx="10" fill="#f0fdf4" stroke="#4ade80" stroke-width="2"/>
                            <rect x="465" y="232" width="225" height="32" rx="10" fill="#22c55e"/>
                            <rect x="465" y="254" width="225" height="10" fill="#22c55e"/>
                            <text x="577" y="254" text-anchor="middle" font-size="13" font-weight="700" fill="white">ローカル変数</text>

                            <text font-size="11" fill="#14532d">
                                <tspan x="478" y="286" font-weight="600">宣言場所</tspan>
                                <tspan x="478" y="302" fill="#166534">メソッドの中</tspan>
                                <tspan x="478" y="324" font-weight="600">寿命</tspan>
                                <tspan x="478" y="340" fill="#166534">メソッドが終わると消える</tspan>
                                <tspan x="478" y="356" fill="#166534">（一時的な作業用）</tspan>
                                <tspan x="478" y="378" font-weight="600">初期値</tspan>
                                <tspan x="478" y="394" fill="#166534">なし（必ず代入が必要）</tspan>
                            </text>

                            <!-- 接続線 メンバ変数 -->
                            <line x1="446" y1="140" x2="465" y2="130" stroke="#818cf8" stroke-width="1.5" stroke-dasharray="4,3"/>
                            <!-- 接続線 ローカル変数 -->
                            <line x1="446" y1="240" x2="465" y2="300" stroke="#4ade80" stroke-width="1.5" stroke-dasharray="4,3"/>
                        </svg>
                        <div class="figure-caption">メンバ変数はクラス直下に宣言され、オブジェクトと一緒に生き続ける。ローカル変数はメソッド内だけの一時的な変数。</div>
                    </div>

                    <!-- メンバ変数の宣言方法 -->
                    <h4>メンバ変数の書き方</h4>
                    <p>メンバ変数は、クラスの <code>{}</code> の中、メソッドの外に書きます。基本の書き方は次の通りです。</p>

                    <div class="code-block">
                        <div class="code-header"><span class="code-title">メンバ変数の宣言</span><span class="code-lang">Java</span></div>
                        <pre class="code-content"><code><span class="keyword">public class</span> <span class="class-name">Recipe</span> {
    <span class="comment">// メンバ変数（フィールド）</span>
    <span class="keyword">private</span> <span class="type">String</span> name;         <span class="comment">// 料理名</span>
    <span class="keyword">private</span> <span class="type">int</span> cookingTime;      <span class="comment">// 調理時間（分）</span>
    <span class="keyword">private</span> <span class="type">boolean</span> isVegetarian; <span class="comment">// ベジタリアン対応か</span>
}</code></pre>
                    </div>

                    <p>書き方のポイントは3つです。</p>
                    <div class="step-list">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>アクセス修飾子を先頭に書く</h4>
                                <p><code>private</code>、<code>public</code> などを先頭に付けます。メンバ変数は基本的に <strong>private</strong> にします（理由は後述）。</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>型を書く</h4>
                                <p><code>String</code>、<code>int</code>、<code>boolean</code> など、そのデータが何型かを指定します。</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>変数名を書く</h4>
                                <p>何を表すデータかわかる名前を付けます。Javaでは <strong>キャメルケース</strong>（<code>cookingTime</code> のように単語の区切りを大文字にする書き方）が一般的です。</p>
                            </div>
                        </div>
                    </div>

                    <!-- なぜ private にするのか -->
                    <h4>なぜ private にするのか？</h4>

                    <div class="info-box warning">
                        <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">lock</span></span><span class="info-box-title">メンバ変数は「外から勝手に触らせない」のが基本</span></div>
                        <p>たとえばレシピカードの「調理時間」を、誰でも自由に書き換えられたらどうなるでしょうか？<br>
                        <code>recipe.cookingTime = -100;</code> のように <strong>ありえない値</strong> を入れられてしまいます。</p>
                        <p style="margin-top: 8px;"><strong>private</strong> にすると、クラスの外から直接アクセスできなくなります。<br>
                        代わりに <strong>メソッド経由</strong>（getter/setter）でアクセスさせることで、不正な値をチェックできます。<br>
                        この考え方を<strong>「カプセル化」</strong>と呼びます（Section 5-5 で詳しく学びます）。</p>
                    </div>

                    <div class="code-block">
                        <div class="code-header"><span class="code-title">private + メソッド経由で安全にアクセス</span><span class="code-lang">Java</span></div>
                        <pre class="code-content"><code><span class="keyword">public class</span> <span class="class-name">Recipe</span> {
    <span class="keyword">private</span> <span class="type">int</span> cookingTime;  <span class="comment">// 外から直接触れない</span>

    <span class="comment">// メソッド経由でチェック付きで設定</span>
    <span class="keyword">public void</span> <span class="method">setCookingTime</span>(<span class="type">int</span> time) {
        <span class="keyword">if</span> (time > <span class="number">0</span>) {          <span class="comment">// 0以下は拒否</span>
            <span class="keyword">this</span>.cookingTime = time;
        }
    }
}</code></pre>
                    </div>

                    <!-- デフォルト初期値 -->
                    <h4>メンバ変数のデフォルト初期値</h4>
                    <p>メンバ変数は宣言しただけでも<strong>自動的に初期値が設定</strong>されます。<br>これはローカル変数との大きな違いです（ローカル変数は初期値がなく、代入前に使うとコンパイルエラーになります）。</p>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr><th>型</th><th>デフォルト初期値</th><th>具体例</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>int</code>, <code>long</code>, <code>short</code>, <code>byte</code></td><td><code>0</code></td><td><code>int cookingTime;</code> → 0</td></tr>
                                <tr><td><code>double</code>, <code>float</code></td><td><code>0.0</code></td><td><code>double price;</code> → 0.0</td></tr>
                                <tr><td><code>boolean</code></td><td><code>false</code></td><td><code>boolean isVegetarian;</code> → false</td></tr>
                                <tr><td><code>char</code></td><td><code>'\u0000'</code>（空文字）</td><td><code>char grade;</code> → '\u0000'</td></tr>
                                <tr><td><code>String</code>, 配列, オブジェクト型</td><td><code>null</code></td><td><code>String name;</code> → null</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="info-box beginner">
                        <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">emoji_objects</span></span><span class="info-box-title">初学者向けポイント</span></div>
                        <p>「初期値が自動で入る」のは便利ですが、<strong>null のまま使うとエラー（NullPointerException）の原因</strong>になります。<br>
                        コンストラクタで明示的に値を設定する習慣をつけましょう（Section 5-6 で学びます）。</p>
                    </div>

                    <div class="prompt-box">
                        <div class="prompt-box-header">
                            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                            <span class="prompt-box-title">プロンプト</span>
                            <button class="prompt-copy-btn">コピー</button>
                        </div>
                        <div class="prompt-box-content">
                            <pre><code>## 機能
商品情報を保持するProductクラスの動作を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: Product.java

## 実装要件
- 商品名(String)をデフォルトアクセスで定義
- 価格(int)をprivateで定義
- カテゴリ(String)をpublicで定義
- 各アクセス修飾子の違いを示す


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- アクセス修飾子（public, private, デフォルト）
- メンバ変数の宣言</code></pre>
                        </div>
                    </div>
                    <div class="code-block">
                        <div class="code-header"><span class="code-title">chapter05/Product.java</span><span class="code-lang">Java</span></div>
                        <pre class="code-content"><code>public class Product {
    String name;           // デフォルト（パッケージプライベート）
    private int price;     // プライベート
    public String category; // パブリック

    public static void main(String[] args) {
        Product p = new Product();
        p.name = "ノートPC";       // 同じパッケージ内からアクセス可能
        // p.price = 1000;         // コンパイルエラー（private）
        p.category = "電子機器";   // どこからでもアクセス可能
        System.out.println(p.name + " / " + p.category);
    }
}</code></pre>
                    </div>
                    <div class="syntax-box">
                        <div class="syntax-box-header">
                            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                            <span class="syntax-box-title">構文説明</span>
                        </div>
                        <div class="syntax-box-content">
                            <div class="syntax-item">
                                <h4>フィールド宣言（アクセス修飾子別）</h4>
                                <div class="syntax-pattern">[アクセス修飾子] 型 変数名;</div>
                                <p><strong>private</strong>: 同じクラス内からのみアクセス可能。<strong>デフォルト（修飾子なし）</strong>: 同じパッケージ内からアクセス可能。<strong>public</strong>: どこからでもアクセス可能。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-2-3 メンバメソッド</h3>
                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
計算機能を持つCalculatorクラスの動作を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: Calculator.java

## 実装要件
- 2つの整数を足し算して結果を返すadd()メソッドを実装
- 結果を出力するprintResult()メソッドを実装（戻り値なし）
- 戻り値ありとvoidメソッドの両方を含める


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- 戻り値を持つメソッド（return文）
- void型メソッド
- メソッドの引数</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter05/Calculator.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>public class Calculator {
    // 戻り値あり
    public int add(int a, int b) {
        return a + b;
    }

    // 戻り値なし（void）
    public void printResult(int result) {
        System.out.println("結果: " + result);
    }

    public static void main(String[] args) {
        Calculator calc = new Calculator();
        int sum = calc.add(10, 20);
        calc.printResult(sum);  // 結果: 30
    }
}</code></pre>
                </div>
                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>メソッド宣言</h4>
                            <div class="syntax-pattern">アクセス修飾子 戻り値型 メソッド名(引数リスト) { }</div>
                            <p>メソッドの基本構文です。戻り値がある場合はreturn文で値を返します。戻り値がない場合は戻り値型にvoidを指定します。</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-2-4 変数のスコープとthis</h3>
                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
thisキーワードの使い方を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: ThisDemo.java

## 実装要件
- privateフィールドnameを持つ
- setName()メソッドで引数とフィールドが同名の場合にthisを使って区別する
- メンバ変数と引数の名前を同じにして、thisの必要性を示す


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- thisキーワード
- setter メソッド
- 変数スコープの区別</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter05/ThisDemo.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>public class ThisDemo {
    private String name;

    public void setName(String name) {
        this.name = name;  // this.name = メンバ変数、name = 引数
    }

    public String getName() {
        return name;
    }

    public static void main(String[] args) {
        ThisDemo obj = new ThisDemo();
        obj.setName("田中");
        System.out.println(obj.getName());  // 田中
    }
}</code></pre>
                </div>
                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>thisキーワード</h4>
                            <div class="syntax-pattern">this.メンバ変数名</div>
                            <p>thisは現在のインスタンスへの参照です。メソッドの引数とフィールドの名前が同じ場合、thisを使ってフィールドを明示的に参照します。</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- セクション 5-3 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 5-3</span>
                <h2 class="section-title">オブジェクトの生成とアクセス</h2>
            </div>

            <div class="intro-text">
                <p>クラスは設計図に過ぎず、実際に使うにはnewキーワードでオブジェクト（インスタンス）を生成する必要があります。生成されたオブジェクトを通じて、フィールドやメソッドにアクセスします。Spring Frameworkでは、このオブジェクト生成をフレームワークが自動的に行う「DI（依存性注入）」という仕組みを使います。</p>
            </div>

            <div class="prompt-box">
                <div class="prompt-box-header">
                    <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                    <span class="prompt-box-title">プロンプト</span>
                    <button class="prompt-copy-btn">コピー</button>
                </div>
                <div class="prompt-box-content">
                    <pre><code>## 機能
Personクラスのインスタンス生成とメソッド呼び出しを確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: PersonMain.java

## 実装要件
- newキーワードでPersonオブジェクトを生成する
- コンストラクタに名前と年齢を渡す
- introduce()メソッドを呼び出す
- getterでフィールド値を取得する


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- newキーワードによるインスタンス化
- コンストラクタ呼び出し
- メソッド呼び出し（ドット演算子）</code></pre>
                </div>
            </div>
            <div class="code-block">
                <div class="code-header"><span class="code-title">chapter05/PersonMain.java</span><span class="code-lang">Java</span></div>
                <pre class="code-content"><code>public class PersonMain {
    public static void main(String[] args) {
        // オブジェクトの生成
        Person person = new Person("田中", 25);

        // メンバへのアクセス
        person.introduce();  // メソッド呼び出し
        String name = person.getName();  // getter
    }
}</code></pre>
            </div>
            <div class="syntax-box">
                <div class="syntax-box-header">
                    <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                    <span class="syntax-box-title">構文説明</span>
                </div>
                <div class="syntax-box-content">
                    <div class="syntax-item">
                        <h4>インスタンス化（オブジェクト生成）</h4>
                        <div class="syntax-pattern">クラス名 変数名 = new クラス名(引数);</div>
                        <p>newキーワードでクラスからオブジェクト（インスタンス）を生成します。コンストラクタが呼び出され、フィールドが初期化されます。</p>
                    </div>
                    <div class="syntax-item">
                        <h4>Getter（取得メソッド）</h4>
                        <div class="syntax-pattern">public 型 getフィールド名() { return this.フィールド名; }</div>
                        <p>privateフィールドの値を外部から取得するためのメソッドです。カプセル化を維持しながらフィールド値を参照できます。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- セクション 5-4 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 5-4</span>
                <h2 class="section-title">アクセス修飾子の使用</h2>
            </div>

            <div class="intro-text">
                <p>アクセス修飾子は「どこからアクセスできるか」を制御します。適切なアクセス制御により、クラスの内部実装を隠蔽し、外部には必要なインターフェースだけを公開できます。これがカプセル化の基本であり、バグの防止とコードの保守性向上に直結します。</p>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-4-1 アクセス修飾子</h3>
                <table class="data-table">
                    <thead>
                        <tr><th>修飾子</th><th>同クラス</th><th>同パッケージ</th><th>サブクラス</th><th>全て</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>public</code></td><td>○</td><td>○</td><td>○</td><td>○</td></tr>
                        <tr><td><code>protected</code></td><td>○</td><td>○</td><td>○</td><td>×</td></tr>
                        <tr><td>（なし）</td><td>○</td><td>○</td><td>×</td><td>×</td></tr>
                        <tr><td><code>private</code></td><td>○</td><td>×</td><td>×</td><td>×</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-4-2 カプセル化</h3>
                <div class="content-block">
                    <p>フィールドをprivateにし、getter/setterでアクセスを制御します。</p>
                    <div class="prompt-box">
                        <div class="prompt-box-header">
                            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                            <span class="prompt-box-title">プロンプト</span>
                            <button class="prompt-copy-btn">コピー</button>
                        </div>
                        <div class="prompt-box-content">
                            <pre><code>## 機能
カプセル化を実装した銀行口座クラスの動作を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: BankAccount.java

## 実装要件
- 残高(balance)をprivateフィールドで保護する
- getBalance()で残高を取得できるようにする
- deposit()で入金処理を行い、不正な値（0以下）は拒否する
- フィールドへの直接アクセスを禁止し、メソッド経由でのみ操作可能にする


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- privateアクセス修飾子
- getterメソッド
- 入力値の検証（if文）</code></pre>
                        </div>
                    </div>
                    <div class="code-block">
                        <div class="code-header"><span class="code-title">chapter05/BankAccount.java</span><span class="code-lang">Java</span></div>
                        <pre class="code-content"><code>public class BankAccount {
    private int balance;  // privateで保護

    public int getBalance() {  // getter
        return balance;
    }

    public void deposit(int amount) {  // setter的役割
        if (amount > 0) {
            balance += amount;
        }
    }

    public static void main(String[] args) {
        BankAccount account = new BankAccount();
        account.deposit(1000);
        System.out.println("残高: " + account.getBalance());  // 残高: 1000
        account.deposit(-500);  // 不正な値は拒否される
        System.out.println("残高: " + account.getBalance());  // 残高: 1000
    }
}</code></pre>
                    </div>
                    <div class="syntax-box">
                        <div class="syntax-box-header">
                            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                            <span class="syntax-box-title">構文説明</span>
                        </div>
                        <div class="syntax-box-content">
                            <div class="syntax-item">
                                <h4>Getter / Setter</h4>
                                <div class="syntax-pattern">public 型 getフィールド名() {
  return this.フィールド名;
}

public void setフィールド名(型 値) {
  this.フィールド名 = 値;
}</div>
                                <p>Getterはprivateフィールドの値を取得し、Setterは値を設定します。Setter内でバリデーション（値の検証）を行うことで、不正な値の設定を防げます。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- セクション 5-5 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 5-5</span>
                <h2 class="section-title">メソッドのオーバーロード</h2>
            </div>

            <div class="intro-text">
                <p>オーバーロードにより、同じ処理を異なる引数で呼び出せる柔軟なAPIを設計できます。例えば、System.out.println()はint、String、doubleなど様々な型を受け取れますが、これはオーバーロードで実現されています。利用者にとって直感的なインターフェースを提供できます。</p>
            </div>

            <div class="content-block">
                <p>同じ名前で引数の型や数が異なるメソッドを定義できます。</p>
                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
メソッドのオーバーロードの動作を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: Printer.java

## 実装要件
- print()メソッドを複数定義する
- int型を受け取るprint()を実装
- String型を受け取るprint()を実装
- 2つのint型を受け取るprint()を実装
- 同じメソッド名で引数の型や数が異なることを示す


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- メソッドのオーバーロード
- 同一メソッド名、異なるシグネチャ</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter05/Printer.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>public class Printer {
    public void print(int value) {
        System.out.println("整数: " + value);
    }

    public void print(String value) {
        System.out.println("文字列: " + value);
    }

    public void print(int a, int b) {
        System.out.println("2つの整数: " + a + ", " + b);
    }

    public static void main(String[] args) {
        Printer printer = new Printer();
        printer.print(42);          // 整数: 42
        printer.print("Hello");     // 文字列: Hello
        printer.print(10, 20);      // 2つの整数: 10, 20
    }
}</code></pre>
                </div>
                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>オーバーロード（多重定義）</h4>
                            <div class="syntax-pattern">同じメソッド名(異なる引数リスト) { }</div>
                            <p>同じ名前のメソッドを、引数の型・数・順序を変えて複数定義することです。呼び出し時の引数に応じて適切なメソッドが選択されます。戻り値の型だけが異なる場合はオーバーロードできません。</p>
                        </div>
                    </div>
                </div>
                <div class="warning-box">
                    <div class="warning-box-header"><span class="warning-box-icon"><span class="material-icons">warning</span></span><span class="warning-box-title">注意</span></div>
                    <p>戻り値の型だけが異なるメソッドはオーバーロードできません。引数リストが異なる必要があります。</p>
                </div>
            </div>
        </section>

        <!-- セクション 5-6 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 5-6</span>
                <h2 class="section-title">オブジェクトの初期化</h2>
            </div>

            <div class="intro-text">
                <p>コンストラクタはオブジェクト生成時に自動的に呼ばれる特別なメソッドで、フィールドの初期化を担当します。適切なコンストラクタ設計により、「生成した時点で使える状態」のオブジェクトを保証できます。これは不正な状態のオブジェクトが存在することを防ぎます。</p>
            </div>

            <div class="figure">
                <div class="figure-caption">コンストラクタによるオブジェクト生成の流れ</div>
                <svg viewBox="0 0 720 200" style="max-width: 720px; width: 100%; height: auto;">
                    <!-- クラス（設計図） -->
                    <rect x="10" y="40" width="140" height="120" rx="12" fill="#e0f2fe" stroke="#0ea5e9" stroke-width="2"/>
                    <text x="80" y="72" text-anchor="middle" font-size="14" font-weight="700" fill="#0284c7">Person クラス</text>
                    <text x="80" y="96" text-anchor="middle" font-size="12" fill="#64748b">name: String</text>
                    <text x="80" y="114" text-anchor="middle" font-size="12" fill="#64748b">age: int</text>
                    <text x="80" y="138" text-anchor="middle" font-size="11" fill="#64748b">introduce()</text>
                    <!-- 矢印1 -->
                    <line x1="155" y1="100" x2="195" y2="100" stroke="#0ea5e9" stroke-width="2" marker-end="url(#arrowBlue)"/>
                    <!-- new キーワード -->
                    <rect x="200" y="70" width="100" height="60" rx="30" fill="#0ea5e9" stroke="none"/>
                    <text x="250" y="106" text-anchor="middle" font-size="15" font-weight="700" fill="white">new</text>
                    <!-- 矢印2 -->
                    <line x1="305" y1="100" x2="345" y2="100" stroke="#0ea5e9" stroke-width="2" marker-end="url(#arrowBlue)"/>
                    <!-- コンストラクタ実行 -->
                    <rect x="350" y="40" width="160" height="120" rx="12" fill="#ffedd5" stroke="#f97316" stroke-width="2"/>
                    <text x="430" y="72" text-anchor="middle" font-size="14" font-weight="700" fill="#c2410c">コンストラクタ実行</text>
                    <text x="430" y="98" text-anchor="middle" font-size="12" fill="#64748b">this.name = "田中"</text>
                    <text x="430" y="118" text-anchor="middle" font-size="12" fill="#64748b">this.age = 25</text>
                    <text x="430" y="148" text-anchor="middle" font-size="11" fill="#c2410c">フィールドを初期化</text>
                    <!-- 矢印3 -->
                    <line x1="515" y1="100" x2="555" y2="100" stroke="#f97316" stroke-width="2" marker-end="url(#arrowOrange)"/>
                    <!-- オブジェクト（完成品） -->
                    <rect x="560" y="40" width="150" height="120" rx="12" fill="#d1fae5" stroke="#10b981" stroke-width="2"/>
                    <text x="635" y="72" text-anchor="middle" font-size="14" font-weight="700" fill="#065f46">Person オブジェクト</text>
                    <text x="635" y="98" text-anchor="middle" font-size="12" fill="#064e3b">name = "田中"</text>
                    <text x="635" y="118" text-anchor="middle" font-size="12" fill="#064e3b">age = 25</text>
                    <text x="635" y="148" text-anchor="middle" font-size="11" fill="#065f46">すぐに使える状態</text>
                    <!-- 矢印マーカー定義 -->
                    <defs>
                        <marker id="arrowBlue" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#0ea5e9"/>
                        </marker>
                        <marker id="arrowOrange" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#f97316"/>
                        </marker>
                    </defs>
                </svg>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-6-1 コンストラクタ</h3>
                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
複数のコンストラクタを持つPersonクラスの動作を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: PersonConstructor.java

## 実装要件
- privateフィールドとしてnameとageを持つ
- 引数付きコンストラクタで名前と年齢を初期化
- デフォルトコンストラクタでデフォルト値を設定
- this()を使って他のコンストラクタを呼び出す


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- コンストラクタ（クラス名と同名、戻り値なし）
- コンストラクタのオーバーロード
- this()によるコンストラクタチェーン</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter05/PersonConstructor.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>public class PersonConstructor {
    private String name;
    private int age;

    // コンストラクタ（クラス名と同じ、戻り値なし）
    public PersonConstructor(String name, int age) {
        this.name = name;
        this.age = age;
    }

    // デフォルトコンストラクタ
    public PersonConstructor() {
        this("Unknown", 0);  // 他のコンストラクタを呼び出し
    }

    public static void main(String[] args) {
        PersonConstructor p1 = new PersonConstructor("田中", 25);
        PersonConstructor p2 = new PersonConstructor();
        System.out.println(p1.name + " / " + p1.age);  // 田中 / 25
        System.out.println(p2.name + " / " + p2.age);  // Unknown / 0
    }
}</code></pre>
                </div>

                <div class="info-box">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">play_circle</span></span><span class="info-box-title">new PersonConstructor("田中", 25) の実行手順</span></div>
                    <div style="margin-top: 12px;">
                        <div class="step-item">
                            <div class="step-number-box">1</div>
                            <div class="step-content">
                                <div class="step-text"><strong>メモリ確保</strong> ― メモリ上にオブジェクトの領域が確保される</div>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number-box">2</div>
                            <div class="step-content">
                                <div class="step-text"><strong>引数を渡す</strong> ― <code>"田中"</code> と <code>25</code> がコンストラクタの引数 <code>name</code>, <code>age</code> に渡される</div>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number-box">3</div>
                            <div class="step-content">
                                <div class="step-text"><strong>フィールド初期化</strong> ― <code>this.name = "田中"</code>、<code>this.age = 25</code> でフィールドに値がセットされる</div>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number-box">4</div>
                            <div class="step-content">
                                <div class="step-text"><strong>参照を代入</strong> ― 完成したオブジェクトの参照が変数 <code>p1</code> に代入され、以降 <code>p1</code> を通じて操作できる</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="figure">
                    <div class="figure-caption">this() によるコンストラクタチェーンの流れ</div>
                    <svg viewBox="0 0 660 180" style="max-width: 660px; width: 100%; height: auto;">
                        <!-- 呼び出し元 -->
                        <rect x="10" y="50" width="180" height="80" rx="10" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
                        <text x="100" y="78" text-anchor="middle" font-size="13" font-weight="700" fill="#1e293b">new PersonConstructor()</text>
                        <text x="100" y="100" text-anchor="middle" font-size="11" fill="#64748b">引数なしで呼び出し</text>
                        <text x="100" y="118" text-anchor="middle" font-size="11" fill="#64748b">（デフォルトコンストラクタ）</text>
                        <!-- 矢印1 -->
                        <line x1="195" y1="90" x2="240" y2="90" stroke="#f97316" stroke-width="2" marker-end="url(#arrowChain)"/>
                        <text x="218" y="80" text-anchor="middle" font-size="11" font-weight="600" fill="#f97316">this()</text>
                        <!-- this() による委譲先 -->
                        <rect x="245" y="30" width="200" height="120" rx="10" fill="#ffedd5" stroke="#f97316" stroke-width="2"/>
                        <text x="345" y="58" text-anchor="middle" font-size="13" font-weight="700" fill="#c2410c">this("Unknown", 0)</text>
                        <text x="345" y="82" text-anchor="middle" font-size="12" fill="#1e293b">↓</text>
                        <text x="345" y="102" text-anchor="middle" font-size="13" font-weight="700" fill="#c2410c">PersonConstructor</text>
                        <text x="345" y="122" text-anchor="middle" font-size="13" font-weight="700" fill="#c2410c">(String, int)</text>
                        <text x="345" y="142" text-anchor="middle" font-size="11" fill="#64748b">引数付きコンストラクタが実行</text>
                        <!-- 矢印2 -->
                        <line x1="450" y1="90" x2="490" y2="90" stroke="#10b981" stroke-width="2" marker-end="url(#arrowChainG)"/>
                        <!-- 結果 -->
                        <rect x="495" y="50" width="155" height="80" rx="10" fill="#d1fae5" stroke="#10b981" stroke-width="2"/>
                        <text x="572" y="78" text-anchor="middle" font-size="13" font-weight="700" fill="#065f46">完成</text>
                        <text x="572" y="100" text-anchor="middle" font-size="12" fill="#064e3b">name = "Unknown"</text>
                        <text x="572" y="118" text-anchor="middle" font-size="12" fill="#064e3b">age = 0</text>
                        <defs>
                            <marker id="arrowChain" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#f97316"/>
                            </marker>
                            <marker id="arrowChainG" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#10b981"/>
                            </marker>
                        </defs>
                    </svg>
                </div>

                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>コンストラクタ</h4>
                            <div class="syntax-pattern">public クラス名(引数リスト) { 初期化処理 }</div>
                            <p>オブジェクト生成時に自動的に呼び出され、フィールドの初期化を行います。クラス名と同じ名前で、戻り値の型は書きません。</p>
                        </div>
                        <div class="syntax-item">
                            <h4>コンストラクタのオーバーロード</h4>
                            <div class="syntax-pattern">this(引数);</div>
                            <p>同じクラス内の別のコンストラクタを呼び出します。this()はコンストラクタの最初の行に記述する必要があります。</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-6-2 デフォルトコンストラクタ</h3>
                <div class="info-box">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">lightbulb</span></span><span class="info-box-title">デフォルトコンストラクタ</span></div>
                    <p>コンストラクタを1つも定義しない場合、Javaコンパイラが引数なしのデフォルトコンストラクタを自動生成します。ただし、1つでもコンストラクタを自分で定義すると、自動生成されなくなります。</p>
                </div>
                <div class="figure">
                    <div class="figure-caption">デフォルトコンストラクタの自動生成ルール</div>
                    <svg viewBox="0 0 640 260" style="max-width: 640px; width: 100%; height: auto;">
                        <!-- 左: コンストラクタ未定義 -->
                        <rect x="10" y="10" width="290" height="230" rx="12" fill="#d1fae5" stroke="#10b981" stroke-width="2"/>
                        <text x="155" y="38" text-anchor="middle" font-size="14" font-weight="700" fill="#065f46">コンストラクタを定義しない場合</text>
                        <rect x="30" y="52" width="250" height="72" rx="8" fill="white" stroke="#e2e8f0" stroke-width="1"/>
                        <text x="45" y="72" font-size="12" fill="#64748b" font-family="monospace">public class Sample {</text>
                        <text x="55" y="90" font-size="12" fill="#64748b" font-family="monospace">  private int value;</text>
                        <text x="45" y="108" font-size="12" fill="#64748b" font-family="monospace">}</text>
                        <text x="155" y="148" text-anchor="middle" font-size="13" fill="#1e293b">↓ コンパイラが自動生成</text>
                        <rect x="30" y="160" width="250" height="56" rx="8" fill="#ecfdf5" stroke="#10b981" stroke-width="1.5" stroke-dasharray="6,3"/>
                        <text x="45" y="182" font-size="12" fill="#065f46" font-family="monospace">public Sample() {</text>
                        <text x="45" y="200" font-size="12" fill="#065f46" font-family="monospace">}  // 空のコンストラクタ</text>
                        <text x="155" y="232" text-anchor="middle" font-size="12" font-weight="600" fill="#10b981">new Sample() が使える</text>
                        <!-- 右: コンストラクタ定義済み -->
                        <rect x="340" y="10" width="290" height="230" rx="12" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
                        <text x="485" y="38" text-anchor="middle" font-size="14" font-weight="700" fill="#991b1b">コンストラクタを定義した場合</text>
                        <rect x="360" y="52" width="250" height="90" rx="8" fill="white" stroke="#e2e8f0" stroke-width="1"/>
                        <text x="375" y="72" font-size="12" fill="#64748b" font-family="monospace">public class Sample {</text>
                        <text x="385" y="90" font-size="12" fill="#64748b" font-family="monospace">  private int value;</text>
                        <text x="385" y="108" font-size="12" fill="#991b1b" font-weight="600" font-family="monospace">  public Sample(int v) {</text>
                        <text x="395" y="124" font-size="12" fill="#991b1b" font-weight="600" font-family="monospace">    this.value = v; }</text>
                        <text x="375" y="140" font-size="12" fill="#64748b" font-family="monospace">}</text>
                        <text x="485" y="170" text-anchor="middle" font-size="13" fill="#1e293b">↓ 自動生成されない</text>
                        <text x="485" y="198" text-anchor="middle" font-size="12" fill="#991b1b">new Sample() はコンパイルエラー</text>
                        <text x="485" y="218" text-anchor="middle" font-size="12" fill="#065f46">new Sample(10) は使える</text>
                    </svg>
                </div>
                <div class="warning-box">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">warning</span></span><span class="info-box-title">よくあるミス</span></div>
                    <p>引数付きコンストラクタを定義した後に <code>new Sample()</code> と引数なしで呼び出すとコンパイルエラーになります。引数なしでも生成したい場合は、デフォルトコンストラクタを明示的に定義してください。</p>
                </div>
            </div>

            <!-- コラム：コンストラクタを使わない初期化 -->
            <div class="column-box">
                <span class="column-badge">Column</span>
                <div class="column-title" style="margin-top: 8px;">なぜ「初期化」が必要なのか？</div>

                <p style="margin-top: 16px;">まず、初期化をしないとどうなるか見てみましょう。</p>

                <div class="code-block" style="margin: 16px 0;">
                    <div class="code-header"><span class="code-title">初期化しないまま使うと…</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>Person p = new Person();
p.introduce();
// → 「私はnull、0歳です」</code></pre>
                </div>

                <p>名前が <code>null</code>？ 0歳？ ― こんな人は存在しません。<br>しかしプログラムはエラーにならず<strong>おかしいデータのまま動き続けます。</strong>これが本当の怖さです。</p>

                <div class="info-box" style="background: white; margin: 20px 0;">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">smartphone</span></span><span class="info-box-title">現実に置き換えて考えよう</span></div>
                    <p>スマホを買って電源を入れると「言語」「Wi-Fi」「アカウント」の初期設定が始まります。もしこれをスキップできたら？ ― 言語は不明、通信もできない、アプリも使えない。<strong>使い物になりません。</strong></p>
                    <p style="margin-top: 8px;">コンストラクタは、この<strong>「初期設定画面」</strong>のようなものです。<br>必要な情報を最初に入れないと先に進めないようにすることで、壊れた状態のオブジェクトが作られるのを防ぎます。</p>
                </div>

                <p><code>new Person("田中", 25)</code> ― 名前と年齢を渡さないとそもそも作れない。<br>だから「null、0歳」のような壊れた Person が世の中に出てきません。</p>

                <p style="margin-top: 20px;">では、コンストラクタを使わずに初期化する方法と比べてみましょう。</p>

                <div class="figure" style="margin: 20px 0;">
                    <div class="figure-caption">コンストラクタなし vs コンストラクタあり ― 初期化の安全性の違い</div>
                    <svg viewBox="0 0 700 370" style="max-width: 700px; width: 100%; height: auto;">
                        <!-- ===== 左側：コンストラクタなし（危険） ===== -->
                        <rect x="10" y="10" width="320" height="350" rx="14" fill="#fff5f5" stroke="#ef4444" stroke-width="2"/>
                        <rect x="10" y="10" width="320" height="36" rx="14" fill="#ef4444"/>
                        <rect x="10" y="32" width="320" height="14" fill="#ef4444"/>
                        <text x="170" y="34" text-anchor="middle" font-size="14" font-weight="700" fill="white">コンストラクタを使わない場合</text>
                        <!-- Step 1 -->
                        <rect x="30" y="60" width="280" height="44" rx="8" fill="white" stroke="#e2e8f0" stroke-width="1"/>
                        <circle cx="52" cy="82" r="12" fill="#64748b"/>
                        <text x="52" y="87" text-anchor="middle" font-size="11" font-weight="700" fill="white">1</text>
                        <text x="72" y="78" font-size="12" fill="#1e293b" font-family="monospace">Person p = new Person();</text>
                        <text x="72" y="94" font-size="11" fill="#64748b">空のオブジェクトが生成される</text>
                        <!-- 矢印 -->
                        <text x="170" y="118" text-anchor="middle" font-size="14" fill="#64748b">↓</text>
                        <!-- Step 2 -->
                        <rect x="30" y="124" width="280" height="44" rx="8" fill="white" stroke="#e2e8f0" stroke-width="1"/>
                        <circle cx="52" cy="146" r="12" fill="#64748b"/>
                        <text x="52" y="151" text-anchor="middle" font-size="11" font-weight="700" fill="white">2</text>
                        <text x="72" y="142" font-size="12" fill="#1e293b" font-family="monospace">p.name = "田中";</text>
                        <text x="72" y="158" font-size="11" fill="#64748b">手動で代入（忘れる可能性あり）</text>
                        <!-- 矢印 -->
                        <text x="170" y="182" text-anchor="middle" font-size="14" fill="#64748b">↓</text>
                        <!-- 忘れた場合の結果 -->
                        <rect x="30" y="188" width="280" height="66" rx="8" fill="#fee2e2" stroke="#ef4444" stroke-width="1.5"/>
                        <text x="170" y="210" text-anchor="middle" font-size="13" font-weight="700" fill="#991b1b">代入を忘れると...</text>
                        <text x="170" y="230" text-anchor="middle" font-size="12" font-family="monospace" fill="#991b1b">name = null, age = 0</text>
                        <text x="170" y="246" text-anchor="middle" font-size="11" fill="#991b1b">→ NullPointerException の危険</text>
                        <!-- 結論 -->
                        <rect x="30" y="268" width="280" height="36" rx="8" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
                        <text x="170" y="291" text-anchor="middle" font-size="13" font-weight="700" fill="#991b1b">コンパイル時にミスを検出できない</text>
                        <!-- バツ印 -->
                        <circle cx="170" cy="330" r="16" fill="#ef4444"/>
                        <text x="170" y="336" text-anchor="middle" font-size="18" font-weight="700" fill="white">✕</text>

                        <!-- ===== 右側：コンストラクタあり（安全） ===== -->
                        <rect x="370" y="10" width="320" height="350" rx="14" fill="#f0fdf4" stroke="#10b981" stroke-width="2"/>
                        <rect x="370" y="10" width="320" height="36" rx="14" fill="#10b981"/>
                        <rect x="370" y="32" width="320" height="14" fill="#10b981"/>
                        <text x="530" y="34" text-anchor="middle" font-size="14" font-weight="700" fill="white">コンストラクタを使う場合</text>
                        <!-- Step 1 -->
                        <rect x="390" y="60" width="280" height="44" rx="8" fill="white" stroke="#e2e8f0" stroke-width="1"/>
                        <circle cx="412" cy="82" r="12" fill="#10b981"/>
                        <text x="412" y="87" text-anchor="middle" font-size="11" font-weight="700" fill="white">1</text>
                        <text x="432" y="78" font-size="11" fill="#1e293b" font-family="monospace">new Person("田中", 25);</text>
                        <text x="432" y="94" font-size="11" fill="#64748b">生成と初期化が同時に行われる</text>
                        <!-- 矢印 -->
                        <text x="530" y="118" text-anchor="middle" font-size="14" fill="#64748b">↓</text>
                        <!-- Step 2 -->
                        <rect x="390" y="124" width="280" height="44" rx="8" fill="white" stroke="#e2e8f0" stroke-width="1"/>
                        <circle cx="412" cy="146" r="12" fill="#10b981"/>
                        <text x="412" y="151" text-anchor="middle" font-size="11" font-weight="700" fill="white">2</text>
                        <text x="432" y="142" font-size="12" fill="#1e293b">コンストラクタが自動実行</text>
                        <text x="432" y="158" font-size="11" fill="#64748b">引数が足りないとコンパイルエラー</text>
                        <!-- 矢印 -->
                        <text x="530" y="182" text-anchor="middle" font-size="14" fill="#64748b">↓</text>
                        <!-- 安全な結果 -->
                        <rect x="390" y="188" width="280" height="66" rx="8" fill="#d1fae5" stroke="#10b981" stroke-width="1.5"/>
                        <text x="530" y="210" text-anchor="middle" font-size="13" font-weight="700" fill="#065f46">必ず初期化済みの状態</text>
                        <text x="530" y="230" text-anchor="middle" font-size="12" font-family="monospace" fill="#065f46">name = "田中", age = 25</text>
                        <text x="530" y="246" text-anchor="middle" font-size="11" fill="#065f46">→ すぐに安全に使える</text>
                        <!-- 結論 -->
                        <rect x="390" y="268" width="280" height="36" rx="8" fill="#bbf7d0" stroke="#10b981" stroke-width="1"/>
                        <text x="530" y="291" text-anchor="middle" font-size="13" font-weight="700" fill="#065f46">初期化忘れをコンパイル時に防止</text>
                        <!-- マル印 -->
                        <circle cx="530" cy="330" r="16" fill="#10b981"/>
                        <text x="530" y="336" text-anchor="middle" font-size="18" font-weight="700" fill="white">◎</text>
                    </svg>
                </div>

                <div class="code-block" style="margin: 16px 0;">
                    <div class="code-header"><span class="code-title">コンストラクタを使わない初期化</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>public class Person {
    String name;  // publicまたはpackage-privateにする必要がある
    int age;

    void introduce() {
        System.out.println("私は" + name + "、" + age + "歳です");
    }
}

// 使用側：生成後に手動で値を代入
Person p = new Person();
p.name = "田中";
p.age = 25;
p.introduce();  // 私は田中、25歳です</code></pre>
                </div>

                <p>一見動きますが、<strong>代入を忘れるとどうなるでしょうか？</strong></p>

                <div class="code-block" style="margin: 16px 0;">
                    <div class="code-header"><span class="code-title">初期化し忘れた場合</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>Person p = new Person();
// nameとageを代入し忘れたまま使用...
p.introduce();  // 私はnull、0歳です ← 意図しない動作！</code></pre>
                </div>

                <div class="info-box" style="background: white; margin: 16px 0;">
                    <div class="info-box-header"><span class="info-box-icon"><span class="material-icons">lightbulb</span></span><span class="info-box-title">フィールドの初期値（初期化しない場合）</span></div>
                    <table class="data-table" style="margin-top: 8px;">
                        <thead>
                            <tr><th>型</th><th>初期値</th><th>例</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>int, long など数値型</td><td><code>0</code></td><td>age → 0</td></tr>
                            <tr><td>double, float</td><td><code>0.0</code></td><td>price → 0.0</td></tr>
                            <tr><td>boolean</td><td><code>false</code></td><td>active → false</td></tr>
                            <tr><td>String などオブジェクト型</td><td><code>null</code></td><td>name → null</td></tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 8px;"><code>null</code> のまま <code>name.length()</code> などを呼ぶと <strong>NullPointerException</strong>（実行時エラー）が発生します。</p>
                </div>

                <p>コンストラクタで初期化を強制すれば、<strong>「値が未設定のまま使ってしまう」ミスをコンパイル時に防げます。</strong>これがコンストラクタを使う最大のメリットです。</p>

                <div class="code-block" style="margin: 16px 0 0;">
                    <div class="code-header"><span class="code-title">コンストラクタで安全に初期化</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>public class Person {
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
}

// 引数を渡さないとコンパイルエラー → 初期化忘れが起きない
Person p = new Person("田中", 25);  // OK
Person p2 = new Person();           // コンパイルエラー！</code></pre>
                </div>
            </div>
        </section>

        <!-- セクション 5-7 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 5-7</span>
                <h2 class="section-title">static変数とstaticメソッド</h2>
            </div>

            <div class="intro-text">
                <p>staticメンバは「クラス全体で共有される」データや処理を定義します。全インスタンスで共通のカウンターや、ユーティリティメソッド（Math.max()など）の実装に使われます。ただし、staticの多用はテストしにくいコードになりやすいため、適切な使い分けが重要です。</p>
            </div>

            <div class="content-block">
                <p><code>static</code>メンバはクラスに属し、インスタンスを作成せずにアクセスできます。</p>
                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
static変数とstaticメソッドを使ったカウンタークラスの動作を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: Counter.java

## 実装要件
- static変数countで全インスタンス共通のカウントを管理
- コンストラクタでインスタンス生成時にcountを増加
- staticメソッドgetCount()でカウント値を取得
- クラス名から直接メソッドを呼び出す使用例も含める


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- static変数（クラス変数）
- staticメソッド（クラスメソッド）
- クラス名.メソッド名()による呼び出し</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter05/Counter.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>public class Counter {
    private static int count = 0;  // クラス変数

    public Counter() {
        count++;  // インスタンス生成ごとにカウント
    }

    public static int getCount() {  // クラスメソッド
        return count;
    }

    public static void main(String[] args) {
        Counter c1 = new Counter();
        Counter c2 = new Counter();
        System.out.println(Counter.getCount());  // 2
    }
}</code></pre>
                </div>
                <div class="syntax-box">
                    <div class="syntax-box-header">
                        <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                        <span class="syntax-box-title">構文説明</span>
                    </div>
                    <div class="syntax-box-content">
                        <div class="syntax-item">
                            <h4>static変数（クラス変数）</h4>
                            <div class="syntax-pattern">static 型 変数名;</div>
                            <p>インスタンスではなくクラスに属する変数です。すべてのインスタンスで共有され、クラス名.変数名でアクセスできます。</p>
                        </div>
                        <div class="syntax-item">
                            <h4>staticメソッド（クラスメソッド）</h4>
                            <div class="syntax-pattern">public static 戻り値型 メソッド名() { }</div>
                            <p>インスタンスを生成せずにクラス名.メソッド名()で呼び出せるメソッドです。staticメソッド内ではthisや非staticメンバにアクセスできません。</p>
                        </div>
                    </div>
                </div>
                <div class="warning-box">
                    <div class="warning-box-header"><span class="warning-box-icon"><span class="material-icons">warning</span></span><span class="warning-box-title">staticメソッドの制限</span></div>
                    <p>staticメソッド内では、thisキーワードや非staticメンバに直接アクセスできません。</p>
                </div>
            </div>
        </section>

        <!-- セクション 5-8 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 5-8</span>
                <h2 class="section-title">オブジェクトの扱い</h2>
            </div>

            <div class="intro-text">
                <p>Javaでは、基本データ型は「値」がコピーされますが、オブジェクトは「参照（アドレス）」がコピーされます。この違いを理解していないと、意図しないデータ変更が起きるバグの原因になります。また、ガベージコレクションの仕組みを知ることで、メモリ管理への理解が深まります。</p>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-8-1 値のコピーと参照情報のコピー</h3>
                <div class="prompt-box">
                    <div class="prompt-box-header">
                        <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                        <span class="prompt-box-title">プロンプト</span>
                        <button class="prompt-copy-btn">コピー</button>
                    </div>
                    <div class="prompt-box-content">
                        <pre><code>## 機能
オブジェクトの参照コピーの動作を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter05
- ファイル名: ReferenceDemo.java

## 実装要件
- Personオブジェクトを生成する
- 別の変数に参照をコピーする
- コピー先で値を変更するとコピー元も変わることを示す
- 参照型の変数が同じオブジェクトを指すことを説明
- 1ファイルで完結するよう、必要なクラスをすべて含める


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- 参照型変数の代入
- 同一オブジェクトへの複数参照
- setterによる値の変更</code></pre>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-header"><span class="code-title">chapter05/ReferenceDemo.java</span><span class="code-lang">Java</span></div>
                    <pre class="code-content"><code>class RefPerson {
    private String name;
    public RefPerson(String name) { this.name = name; }
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
}

public class ReferenceDemo {
    public static void main(String[] args) {
        RefPerson p1 = new RefPerson("Alice");
        RefPerson p2 = p1;  // 参照のコピー（同じオブジェクトを指す）

        System.out.println("変更前 p1: " + p1.getName());  // Alice
        p2.setName("Bob");
        System.out.println("変更後 p1: " + p1.getName());  // Bob（p1も変更される）
        System.out.println("p1 == p2: " + (p1 == p2));     // true（同じオブジェクト）
    }
}</code></pre>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection-title">5-8-2 ガベージコレクション</h3>
                <div class="content-block">
                    <p>どこからも参照されなくなったオブジェクトは、ガベージコレクタによって自動的にメモリから解放されます。</p>
                </div>
            </div>
        </section>

        <!-- 練習問題・解答 -->
        <section class="section">
            <div class="section-header"><span class="section-number">Exercise</span><h2 class="section-title">5章 練習問題</h2></div>
            <div class="exercise-list">
                <div class="exercise-item">
                    <div class="exercise-number">Q1</div>
                    <div class="exercise-content">
                        <p>staticメソッド内で使用できないものはどれですか？</p>
                        <ol type="A"><li>staticフィールド</li><li>this</li><li>ローカル変数</li><li>staticメソッド</li></ol>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="section-header"><span class="section-number">Answer</span><h2 class="section-title">5章 解説・解答</h2></div>
            <div class="answer-list">
                <div class="answer-item">
                    <div class="answer-header">Q1の解答: B</div>
                    <div class="answer-content"><p>staticメソッドはインスタンスに属さないため、thisキーワードは使用できません。</p></div>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer"><p>Java Silver 試験対策 教科書</p></footer>

    <div class="page-nav">
        <a href="4java-loop.html" class="page-nav-btn prev"><span>&#8592;</span><div><div class="page-nav-label">前の章</div><div class="page-nav-title">第4章</div></div></a>
        <a href="6java-inheritance.html" class="page-nav-btn next"><div><div class="page-nav-label">次の章</div><div class="page-nav-title">第6章</div></div><span>&#8594;</span></a>
    </div>

    <script>
        function toggleMenu() {
            const toggle = document.querySelector('.nav-toggle');
            const menu = document.querySelector('.nav-menu');
            toggle.classList.toggle('active');
            menu.classList.toggle('active');
        }
        document.addEventListener('click', function(e) {
            const nav = document.querySelector('.global-nav');
            const toggle = document.querySelector('.nav-toggle');
            const menu = document.querySelector('.nav-menu');
            if (!nav.contains(e.target) && menu.classList.contains('active')) {
                toggle.classList.remove('active');
                menu.classList.remove('active');
            }
        });
    </script>
    <script src="../../shared/demo.js"></script>
</body>
</html>
