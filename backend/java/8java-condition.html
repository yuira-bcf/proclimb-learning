<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第8章 条件分岐</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../shared/common.css">
    <style>
      :root {
        --primary: #0097A7;
        --primary-dark: #00838F;
        --primary-light: #E0F7FA;
        --primary-lighter: #B2EBF2;
      }
      .nav-category-links { display: none; }
    </style>
</head>
<body>
    <!-- グローバルナビゲーション -->
    <nav class="global-nav"></nav>
    <script src="../../shared/js/nav-java.js"></script>

    <div class="container">
        <!-- ヘッダー -->
        <header class="chapter-header">
            <div class="chapter-badge"><span class="material-icons">menu_book</span> Chapter</div>
            <div class="chapter-number">8</div>
            <h1 class="chapter-title">条件分岐</h1>
        </header>

        <!-- 目次 -->
        <nav class="toc">
            <h2 class="toc-title"><span class="material-icons">list_alt</span> この章の内容</h2>
            <ul class="toc-list">
                <li class="toc-item"><span class="toc-number">8-1</span><span>条件分岐とifによる分岐</span></li>
                <li class="toc-item"><span class="toc-number">8-2</span><span>switchによる分岐</span></li>
            </ul>
        </nav>

        <!-- セクション 8-1 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 8-1</span>
                <h2 class="section-title">条件分岐とifによる分岐</h2>
            </div>

            <div class="intro-text">
                <p>条件分岐はプログラムに「判断力」を与えます。ユーザーの入力に応じて処理を変える、エラー時に別の処理を行うなど、条件分岐なしには実用的なプログラムは書けません。if文は最も基本的な条件分岐で、あらゆるプログラムで使用されます。</p>
            </div>

            <!-- 図解: if / if-else / if-else if フロー比較 -->
            <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 24px 0;">
                <h4 style="margin: 0 0 16px 0; font-size: 1.1rem; color: #1e293b; display: flex; align-items: center; gap: 8px;">
                    <span class="material-icons" style="color: #3b82f6;">account_tree</span>
                    if文の3つのパターン ― フロー比較
                </h4>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                    <!-- if文 -->
                    <div style="background: #dbeafe; border-radius: 12px; padding: 16px; text-align: center;">
                        <div style="font-weight: 700; color: #1e40af; margin-bottom: 12px; font-size: 0.95rem;">if文</div>
                        <div style="background: white; border-radius: 8px; padding: 8px; margin-bottom: 8px;">
                            <span style="font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; color: #334155;">score &gt;= 60 ?</span>
                        </div>
                        <div style="display: flex; justify-content: center; gap: 24px; margin-bottom: 8px;">
                            <div>
                                <div style="font-size: 0.75rem; color: #16a34a; font-weight: 600;">true</div>
                                <div style="font-size: 1.2rem;">↓</div>
                            </div>
                            <div>
                                <div style="font-size: 0.75rem; color: #dc2626; font-weight: 600;">false</div>
                                <div style="font-size: 1.2rem;">↓</div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: center; gap: 8px;">
                            <div style="background: #bbf7d0; border-radius: 6px; padding: 4px 8px; font-size: 0.8rem;">処理A</div>
                            <div style="background: #f1f5f9; border-radius: 6px; padding: 4px 8px; font-size: 0.8rem; color: #94a3b8;">何もしない</div>
                        </div>
                    </div>
                    <!-- if-else文 -->
                    <div style="background: #dcfce7; border-radius: 12px; padding: 16px; text-align: center;">
                        <div style="font-weight: 700; color: #166534; margin-bottom: 12px; font-size: 0.95rem;">if-else文</div>
                        <div style="background: white; border-radius: 8px; padding: 8px; margin-bottom: 8px;">
                            <span style="font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; color: #334155;">score &gt;= 60 ?</span>
                        </div>
                        <div style="display: flex; justify-content: center; gap: 24px; margin-bottom: 8px;">
                            <div>
                                <div style="font-size: 0.75rem; color: #16a34a; font-weight: 600;">true</div>
                                <div style="font-size: 1.2rem;">↓</div>
                            </div>
                            <div>
                                <div style="font-size: 0.75rem; color: #dc2626; font-weight: 600;">false</div>
                                <div style="font-size: 1.2rem;">↓</div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: center; gap: 8px;">
                            <div style="background: #bbf7d0; border-radius: 6px; padding: 4px 8px; font-size: 0.8rem;">合格</div>
                            <div style="background: #fecaca; border-radius: 6px; padding: 4px 8px; font-size: 0.8rem;">不合格</div>
                        </div>
                    </div>
                    <!-- if-else if文 -->
                    <div style="background: #f3e8ff; border-radius: 12px; padding: 16px; text-align: center;">
                        <div style="font-weight: 700; color: #6b21a8; margin-bottom: 12px; font-size: 0.95rem;">if-else if文</div>
                        <div style="background: white; border-radius: 8px; padding: 6px; margin-bottom: 4px; font-size: 0.8rem;">
                            <span style="font-family: 'JetBrains Mono', monospace; color: #334155;">&gt;= 90?</span>
                            <span style="color: #16a34a;">→ A</span>
                        </div>
                        <div style="font-size: 0.7rem; color: #dc2626;">false ↓</div>
                        <div style="background: white; border-radius: 8px; padding: 6px; margin-bottom: 4px; font-size: 0.8rem;">
                            <span style="font-family: 'JetBrains Mono', monospace; color: #334155;">&gt;= 80?</span>
                            <span style="color: #16a34a;">→ B</span>
                        </div>
                        <div style="font-size: 0.7rem; color: #dc2626;">false ↓</div>
                        <div style="background: white; border-radius: 8px; padding: 6px; margin-bottom: 4px; font-size: 0.8rem;">
                            <span style="font-family: 'JetBrains Mono', monospace; color: #334155;">&gt;= 70?</span>
                            <span style="color: #16a34a;">→ C</span>
                        </div>
                        <div style="font-size: 0.7rem; color: #dc2626;">false ↓</div>
                        <div style="background: #e9d5ff; border-radius: 6px; padding: 4px 8px; font-size: 0.8rem;">else → F</div>
                    </div>
                </div>
                <div style="margin-top: 12px; padding: 8px 12px; background: #eff6ff; border-radius: 8px; font-size: 0.85rem; color: #1e40af;">
                    <strong>ポイント:</strong> if-else if は<strong>上から順に評価</strong>され、最初に true になった分岐だけが実行されます
                </div>
            </div>

            <!-- 1.1 if文 -->
            <div class="subsection">
                <h3 class="subsection-title">1.1 if文</h3>

                <div class="content-block">
                    <div class="prompt-box">
                        <div class="prompt-box-header">
                            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                            <span class="prompt-box-title">プロンプト</span>
                            <button class="prompt-copy-btn">コピー</button>
                        </div>
                        <div class="prompt-box-content">
                            <pre><code>## 機能
基本的なif文による条件分岐を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter03
- ファイル名: IfDemo.java

## 実装要件
- 点数が60点以上かどうかを判定
- 条件を満たした場合のみメッセージを出力


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- if文
- 関係演算子（>=）</code></pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">chapter03/IfDemo.java</span>
                            <span class="code-lang">Java</span>
                        </div>
                        <pre class="code-content"><code>public class IfDemo {
    public static void main(String[] args) {
        int score = 85;

        if (score >= 60) {
            System.out.println("合格です");
        }
    }
}</code></pre>
                    </div>

                    <div class="syntax-box">
                        <div class="syntax-box-header">
                            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                            <span class="syntax-box-title">構文説明</span>
                        </div>
                        <div class="syntax-box-content">
                            <div class="syntax-item">
                                <h4>if文</h4>
                                <div class="syntax-pattern">if (条件) {
  処理
}</div>
                                <p>条件がtrueの場合のみ、ブロック内の処理を実行します。条件はboolean型である必要があります。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 1.2 if-else文 -->
            <div class="subsection">
                <h3 class="subsection-title">1.2 if-else文</h3>

                <div class="content-block">
                    <div class="prompt-box">
                        <div class="prompt-box-header">
                            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                            <span class="prompt-box-title">プロンプト</span>
                            <button class="prompt-copy-btn">コピー</button>
                        </div>
                        <div class="prompt-box-content">
                            <pre><code>## 機能
if-else文による二択の条件分岐を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter03
- ファイル名: IfElseDemo.java

## 実装要件
- 点数が60点以上なら「合格」、それ以外は「不合格」を表示
- elseブロックで条件を満たさない場合の処理を記述


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- if-else文
- 関係演算子（>=）</code></pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">chapter03/IfElseDemo.java</span>
                            <span class="code-lang">Java</span>
                        </div>
                        <pre class="code-content"><code>public class IfElseDemo {
    public static void main(String[] args) {
        int score = 45;

        if (score >= 60) {
            System.out.println("合格です");
        } else {
            System.out.println("不合格です");
        }
    }
}</code></pre>
                    </div>

                    <div class="syntax-box">
                        <div class="syntax-box-header">
                            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                            <span class="syntax-box-title">構文説明</span>
                        </div>
                        <div class="syntax-box-content">
                            <div class="syntax-item">
                                <h4>if-else文</h4>
                                <div class="syntax-pattern">if (条件) {
  処理A
} else {
  処理B
}</div>
                                <p>条件がtrueなら処理A、falseなら処理Bを実行します。二者択一の処理に使います。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 1.3 if-else if文 -->
            <div class="subsection">
                <h3 class="subsection-title">1.3 if-else if文</h3>

                <div class="content-block">
                    <div class="prompt-box">
                        <div class="prompt-box-header">
                            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                            <span class="prompt-box-title">プロンプト</span>
                            <button class="prompt-copy-btn">コピー</button>
                        </div>
                        <div class="prompt-box-content">
                            <pre><code>## 機能
if-else if文による複数条件の分岐（成績評価）を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter03
- ファイル名: GradeDemo.java

## 実装要件
- 点数に応じてA/B/C/D/Fの5段階評価を判定
- 90点以上A、80点以上B、70点以上C、60点以上D、それ未満F
- else ifを連鎖させて複数条件を処理


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- if-else if-else文
- 関係演算子（>=）</code></pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">chapter03/GradeDemo.java</span>
                            <span class="code-lang">Java</span>
                        </div>
                        <pre class="code-content"><code>public class GradeDemo {
    public static void main(String[] args) {
        int score = 75;
        String grade;

        if (score >= 90) {
            grade = "A";
        } else if (score >= 80) {
            grade = "B";
        } else if (score >= 70) {
            grade = "C";
        } else if (score >= 60) {
            grade = "D";
        } else {
            grade = "F";
        }
        System.out.println("評価: " + grade);  // 評価: C
    }
}</code></pre>
                    </div>

                    <div class="syntax-box">
                        <div class="syntax-box-header">
                            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                            <span class="syntax-box-title">構文説明</span>
                        </div>
                        <div class="syntax-box-content">
                            <div class="syntax-item">
                                <h4>if-else if-else文</h4>
                                <div class="syntax-pattern">if (条件1) {
  処理1
} else if (条件2) {
  処理2
} else {
  処理3
}</div>
                                <p>複数の条件を順番に評価し、最初にtrueになった条件の処理を実行します。どの条件も満たさない場合はelseが実行されます。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 1.4 if文のネスト -->
            <div class="subsection">
                <h3 class="subsection-title">1.4 if文のネスト</h3>

                <div class="content-block">
                    <div class="prompt-box">
                        <div class="prompt-box-header">
                            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                            <span class="prompt-box-title">プロンプト</span>
                            <button class="prompt-copy-btn">コピー</button>
                        </div>
                        <div class="prompt-box-content">
                            <pre><code>## 機能
if文のネスト（入れ子）による複合条件判定を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter03
- ファイル名: NestedIfDemo.java

## 実装要件
- 年齢が18歳以上かどうかを判定
- 18歳以上の場合、免許の有無でさらに分岐
- 3パターンのメッセージを出力


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- ネストしたif-else文
- 関係演算子（>=）
- boolean型変数</code></pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">chapter03/NestedIfDemo.java</span>
                            <span class="code-lang">Java</span>
                        </div>
                        <pre class="code-content"><code>public class NestedIfDemo {
    public static void main(String[] args) {
        int age = 25;
        boolean hasLicense = true;

        if (age >= 18) {
            if (hasLicense) {
                System.out.println("運転可能です");
            } else {
                System.out.println("免許を取得してください");
            }
        } else {
            System.out.println("18歳以上になってから");
        }
    }
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- セクション 8-2 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Section 8-2</span>
                <h2 class="section-title">switchによる分岐</h2>
            </div>

            <div class="intro-text">
                <p>switch文は、1つの値に対して複数の選択肢から処理を選ぶ場合に適しています。if-else ifの連鎖よりも可読性が高く、Java 14以降はアロー構文やswitch式により、さらに簡潔に書けるようになりました。メニュー選択や状態遷移の実装でよく使われます。</p>
            </div>

            <!-- 2.1 switch文 -->
            <div class="subsection">
                <h3 class="subsection-title">2.1 switch文</h3>

                <div class="content-block">
                    <div class="prompt-box">
                        <div class="prompt-box-header">
                            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                            <span class="prompt-box-title">プロンプト</span>
                            <button class="prompt-copy-btn">コピー</button>
                        </div>
                        <div class="prompt-box-content">
                            <pre><code>## 機能
従来のswitch文による複数分岐（曜日判定）を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter03
- ファイル名: SwitchDemo.java

## 実装要件
- 数値1-5を曜日名（月-金）に変換
- それ以外はdefaultで「週末」とする
- 各caseにbreak文を記述


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- switch文
- case句
- break文
- default句</code></pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">chapter03/SwitchDemo.java</span>
                            <span class="code-lang">Java</span>
                        </div>
                        <pre class="code-content"><code>public class SwitchDemo {
    public static void main(String[] args) {
        int day = 3;
        String dayName;

        switch (day) {
            case 1:
                dayName = "月曜日";
                break;
            case 2:
                dayName = "火曜日";
                break;
            case 3:
                dayName = "水曜日";
                break;
            case 4:
                dayName = "木曜日";
                break;
            case 5:
                dayName = "金曜日";
                break;
            default:
                dayName = "週末";
                break;
        }
        System.out.println(dayName);  // 水曜日
    }
}</code></pre>
                    </div>

                    <div class="syntax-box">
                        <div class="syntax-box-header">
                            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                            <span class="syntax-box-title">構文説明</span>
                        </div>
                        <div class="syntax-box-content">
                            <div class="syntax-item">
                                <h4>switch文（従来型）</h4>
                                <div class="syntax-pattern">switch (式) {
  case 値1:
    処理1;
    break;
  case 値2:
    処理2;
    break;
  default:
    処理;
}</div>
                                <p>式の値に一致するcaseの処理を実行します。breakを忘れると次のcaseも実行されます（フォールスルー）。</p>
                            </div>
                        </div>
                    </div>

                    <div class="warning-box">
                        <div class="warning-box-header">
                            <span class="warning-box-icon"><span class="material-icons">warning</span></span>
                            <span class="warning-box-title">break忘れに注意</span>
                        </div>
                        <p>breakを忘れると次のcaseも実行されます（フォールスルー）。意図的でない限りbreakを忘れないようにしましょう。</p>
                    </div>

                    <!-- 図解: フォールスルーの危険性 -->
                    <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 24px 0;">
                        <h4 style="margin: 0 0 16px 0; font-size: 1.1rem; color: #1e293b; display: flex; align-items: center; gap: 8px;">
                            <span class="material-icons" style="color: #ef4444;">report_problem</span>
                            フォールスルーの動き ― breakあり vs breakなし
                        </h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <!-- breakあり -->
                            <div style="background: #dcfce7; border-radius: 12px; padding: 16px;">
                                <div style="font-weight: 700; color: #166534; margin-bottom: 12px; text-align: center; font-size: 0.95rem;">breakあり（正常）</div>
                                <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.82rem; line-height: 1.8;">
                                    <div style="padding: 4px 8px; background: #f1f5f9; border-radius: 4px; margin-bottom: 2px;">case 1: "月曜" break;</div>
                                    <div style="padding: 4px 8px; background: #f1f5f9; border-radius: 4px; margin-bottom: 2px;">case 2: "火曜" break;</div>
                                    <div style="padding: 4px 8px; background: #bbf7d0; border-radius: 4px; border: 2px solid #22c55e; margin-bottom: 2px;">case 3: "水曜" break; <span style="color: #16a34a;">← 実行</span></div>
                                    <div style="padding: 4px 8px; background: #f1f5f9; border-radius: 4px; margin-bottom: 2px; opacity: 0.5;">case 4: "木曜" break;</div>
                                    <div style="padding: 4px 8px; background: #f1f5f9; border-radius: 4px; opacity: 0.5;">case 5: "金曜" break;</div>
                                </div>
                                <div style="margin-top: 10px; text-align: center; color: #16a34a; font-weight: 600; font-size: 0.85rem;">結果: "水曜日"</div>
                            </div>
                            <!-- breakなし -->
                            <div style="background: #fef2f2; border-radius: 12px; padding: 16px;">
                                <div style="font-weight: 700; color: #991b1b; margin-bottom: 12px; text-align: center; font-size: 0.95rem;">breakなし（フォールスルー）</div>
                                <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.82rem; line-height: 1.8;">
                                    <div style="padding: 4px 8px; background: #f1f5f9; border-radius: 4px; margin-bottom: 2px;">case 1: "月曜"</div>
                                    <div style="padding: 4px 8px; background: #f1f5f9; border-radius: 4px; margin-bottom: 2px;">case 2: "火曜"</div>
                                    <div style="padding: 4px 8px; background: #fecaca; border-radius: 4px; border: 2px solid #ef4444; margin-bottom: 2px;">case 3: "水曜" <span style="color: #dc2626;">← マッチ</span></div>
                                    <div style="padding: 4px 8px; background: #fecaca; border-radius: 4px; border: 2px solid #ef4444; margin-bottom: 2px;">case 4: "木曜" <span style="color: #dc2626;">← 落ちる!</span></div>
                                    <div style="padding: 4px 8px; background: #fecaca; border-radius: 4px; border: 2px solid #ef4444;">case 5: "金曜" <span style="color: #dc2626;">← 落ちる!</span></div>
                                </div>
                                <div style="margin-top: 10px; text-align: center; color: #dc2626; font-weight: 600; font-size: 0.85rem;">結果: "金曜日"（意図しない!）</div>
                            </div>
                        </div>
                        <div style="margin-top: 12px; padding: 8px 12px; background: #fef3c7; border-radius: 8px; font-size: 0.85rem; color: #92400e;">
                            <strong>注意:</strong> breakがないと、一致したcaseから<strong>下のすべてのcase</strong>が実行されます。アロー構文（→）を使えばこの問題を回避できます
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.2 アロー構文 -->
            <div class="subsection">
                <h3 class="subsection-title">2.2 ->を使用したswitchのラベル（Java 14以降）</h3>

                <div class="content-block">
                    <div class="prompt-box">
                        <div class="prompt-box-header">
                            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                            <span class="prompt-box-title">プロンプト</span>
                            <button class="prompt-copy-btn">コピー</button>
                        </div>
                        <div class="prompt-box-content">
                            <pre><code>## 機能
アロー構文を使用したswitch文（Java 14以降）を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter03
- ファイル名: SwitchArrowDemo.java

## 実装要件
- アロー構文（->）でbreak不要の記述
- 複数のcaseをカンマ区切りでまとめる例を示す
- フォールスルーが発生しないことを確認


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- switchアロー構文（->）
- 複数caseの結合（case 6, 7 ->）
- default句</code></pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">chapter03/SwitchArrowDemo.java</span>
                            <span class="code-lang">Java</span>
                        </div>
                        <pre class="code-content"><code>public class SwitchArrowDemo {
    public static void main(String[] args) {
        int day = 3;
        String dayName;

        switch (day) {
            case 1 -> dayName = "月曜日";
            case 2 -> dayName = "火曜日";
            case 3 -> dayName = "水曜日";
            case 4 -> dayName = "木曜日";
            case 5 -> dayName = "金曜日";
            case 6, 7 -> dayName = "週末";  // 複数のcase
            default -> dayName = "不正な値";
        }
        System.out.println(dayName);  // 水曜日
    }
}</code></pre>
                    </div>

                    <div class="syntax-box">
                        <div class="syntax-box-header">
                            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                            <span class="syntax-box-title">構文説明</span>
                        </div>
                        <div class="syntax-box-content">
                            <div class="syntax-item">
                                <h4>switch文（アロー構文）</h4>
                                <div class="syntax-pattern">switch (式) {
  case 値1 -> 処理1;
  case 値2, 値3 -> 処理2;
  default -> 処理;
}</div>
                                <p>Java 14以降で使用可能。breakが不要でフォールスルーが発生しません。カンマで複数の値をまとめられます。</p>
                            </div>
                        </div>
                    </div>

                    <p>アロー構文では<strong>breakは不要</strong>で、フォールスルーは発生しません。</p>
                </div>
            </div>

            <!-- 図解: switch文 vs アロー構文 vs switch式 -->
            <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 24px 0;">
                <h4 style="margin: 0 0 16px 0; font-size: 1.1rem; color: #1e293b; display: flex; align-items: center; gap: 8px;">
                    <span class="material-icons" style="color: #a855f7;">compare_arrows</span>
                    switchの3つの書き方 ― 進化の流れ
                </h4>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                    <!-- 従来のswitch文 -->
                    <div style="background: #fef2f2; border-radius: 12px; padding: 16px;">
                        <div style="font-weight: 700; color: #991b1b; margin-bottom: 8px; text-align: center; font-size: 0.9rem;">従来の switch文</div>
                        <div style="text-align: center; font-size: 0.75rem; color: #6b7280; margin-bottom: 10px;">Java 1.0〜</div>
                        <div style="background: white; border-radius: 8px; padding: 10px; font-family: 'JetBrains Mono', monospace; font-size: 0.78rem; line-height: 1.6;">
                            <div style="color: #7c3aed;">switch</div>
                            <div>&nbsp; <span style="color: #0369a1;">case</span> 1<span style="color: #dc2626;">:</span></div>
                            <div>&nbsp;&nbsp;&nbsp; name = "月";</div>
                            <div>&nbsp;&nbsp;&nbsp; <span style="color: #dc2626; font-weight: 600;">break;</span></div>
                            <div>&nbsp; <span style="color: #0369a1;">case</span> 2<span style="color: #dc2626;">:</span></div>
                            <div>&nbsp;&nbsp;&nbsp; name = "火";</div>
                            <div>&nbsp;&nbsp;&nbsp; <span style="color: #dc2626; font-weight: 600;">break;</span></div>
                        </div>
                        <div style="margin-top: 10px; display: flex; gap: 6px; flex-wrap: wrap; justify-content: center;">
                            <span style="background: #fecaca; border-radius: 4px; padding: 2px 8px; font-size: 0.75rem;">break必須</span>
                            <span style="background: #fecaca; border-radius: 4px; padding: 2px 8px; font-size: 0.75rem;">落とし穴あり</span>
                        </div>
                    </div>
                    <!-- アロー構文 -->
                    <div style="background: #dbeafe; border-radius: 12px; padding: 16px;">
                        <div style="font-weight: 700; color: #1e40af; margin-bottom: 8px; text-align: center; font-size: 0.9rem;">アロー構文</div>
                        <div style="text-align: center; font-size: 0.75rem; color: #6b7280; margin-bottom: 10px;">Java 14〜</div>
                        <div style="background: white; border-radius: 8px; padding: 10px; font-family: 'JetBrains Mono', monospace; font-size: 0.78rem; line-height: 1.6;">
                            <div style="color: #7c3aed;">switch</div>
                            <div>&nbsp; <span style="color: #0369a1;">case</span> 1 <span style="color: #2563eb; font-weight: 600;">-></span></div>
                            <div>&nbsp;&nbsp;&nbsp; name = "月";</div>
                            <div>&nbsp; <span style="color: #0369a1;">case</span> 2 <span style="color: #2563eb; font-weight: 600;">-></span></div>
                            <div>&nbsp;&nbsp;&nbsp; name = "火";</div>
                            <div>&nbsp; <span style="color: #0369a1;">case</span> 6, 7 <span style="color: #2563eb; font-weight: 600;">-></span></div>
                            <div>&nbsp;&nbsp;&nbsp; name = "休";</div>
                        </div>
                        <div style="margin-top: 10px; display: flex; gap: 6px; flex-wrap: wrap; justify-content: center;">
                            <span style="background: #bfdbfe; border-radius: 4px; padding: 2px 8px; font-size: 0.75rem;">break不要</span>
                            <span style="background: #bfdbfe; border-radius: 4px; padding: 2px 8px; font-size: 0.75rem;">複数case可</span>
                        </div>
                    </div>
                    <!-- switch式 -->
                    <div style="background: #dcfce7; border-radius: 12px; padding: 16px;">
                        <div style="font-weight: 700; color: #166534; margin-bottom: 8px; text-align: center; font-size: 0.9rem;">switch式</div>
                        <div style="text-align: center; font-size: 0.75rem; color: #6b7280; margin-bottom: 10px;">Java 14〜</div>
                        <div style="background: white; border-radius: 8px; padding: 10px; font-family: 'JetBrains Mono', monospace; font-size: 0.78rem; line-height: 1.6;">
                            <div><span style="color: #16a34a; font-weight: 600;">name =</span> <span style="color: #7c3aed;">switch</span> {</div>
                            <div>&nbsp; <span style="color: #0369a1;">case</span> 1 <span style="color: #2563eb;">-></span> "月";</div>
                            <div>&nbsp; <span style="color: #0369a1;">case</span> 2 <span style="color: #2563eb;">-></span> "火";</div>
                            <div>&nbsp; <span style="color: #0369a1;">case</span> 6, 7 <span style="color: #2563eb;">-></span> "休";</div>
                            <div>}<span style="color: #16a34a; font-weight: 600;">;</span></div>
                        </div>
                        <div style="margin-top: 10px; display: flex; gap: 6px; flex-wrap: wrap; justify-content: center;">
                            <span style="background: #bbf7d0; border-radius: 4px; padding: 2px 8px; font-size: 0.75rem;">値を返す</span>
                            <span style="background: #bbf7d0; border-radius: 4px; padding: 2px 8px; font-size: 0.75rem;">最も簡潔</span>
                        </div>
                    </div>
                </div>
                <div style="margin-top: 12px; padding: 8px 12px; background: #f0fdf4; border-radius: 8px; font-size: 0.85rem; color: #166534;">
                    <strong>推奨:</strong> Java 14以降では<strong>アロー構文</strong>または<strong>switch式</strong>を使用しましょう。break忘れのバグを防げます
                </div>
            </div>

            <!-- 2.3 switch式 -->
            <div class="subsection">
                <h3 class="subsection-title">2.3 switch式（Java 14以降）</h3>

                <div class="content-block">
                    <div class="prompt-box">
                        <div class="prompt-box-header">
                            <span class="prompt-box-icon"><span class="material-icons">chat</span></span>
                            <span class="prompt-box-title">プロンプト</span>
                            <button class="prompt-copy-btn">コピー</button>
                        </div>
                        <div class="prompt-box-content">
                            <pre><code>## 機能
switch式（Java 14以降）の動作を確認するサンプルプロジェクト

## 生成先
- ディレクトリ: chapter03
- ファイル名: SwitchExprDemo.java

## 実装要件
- switch式で直接変数に代入
- アロー構文で単一行の値を返す
- 複数行の場合はyieldキーワードで値を返す


- mainメソッドを含め、System.out.printlnで各処理の実行結果を出力して動作確認できるようにする

## 使用するJava構文
- switch式（値を返す）
- アロー構文（->）
- yieldキーワード
- ブロック構文（{}）</code></pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">chapter03/SwitchExprDemo.java</span>
                            <span class="code-lang">Java</span>
                        </div>
                        <pre class="code-content"><code>public class SwitchExprDemo {
    public static void main(String[] args) {
        int day = 3;

        // switch式は値を返す
        String dayName = switch (day) {
            case 1 -> "月曜日";
            case 2 -> "火曜日";
            case 3 -> "水曜日";
            case 4 -> "木曜日";
            case 5 -> "金曜日";
            case 6, 7 -> "週末";
            default -> "不正な値";
        };

        System.out.println(dayName);  // 水曜日

        // 複数行の場合はyieldで値を返す
        String description = switch (day) {
            case 1, 2, 3, 4, 5 -> {
                System.out.println("平日です");
                yield "仕事の日";
            }
            case 6, 7 -> {
                System.out.println("休日です");
                yield "休みの日";
            }
            default -> "不正";
        };
        System.out.println(description);  // 仕事の日
    }
}</code></pre>
                    </div>

                    <div class="syntax-box">
                        <div class="syntax-box-header">
                            <span class="syntax-box-icon"><span class="material-icons">menu_book</span></span>
                            <span class="syntax-box-title">構文説明</span>
                        </div>
                        <div class="syntax-box-content">
                            <div class="syntax-item">
                                <h4>switch式</h4>
                                <div class="syntax-pattern">変数 = switch (式) {
  case 値 -> 結果;
  default -> 結果;
};</div>
                                <p>Java 14以降で使用可能。switch全体が値を返し、変数に代入できます。セミコロンが最後に必要です。</p>
                            </div>
                            <div class="syntax-item">
                                <h4>yieldキーワード</h4>
                                <div class="syntax-pattern">case 値 -> {
  処理;
  yield 値;
}</div>
                                <p>switch式のブロック内で値を返すために使用します。複数行の処理が必要な場合に使います。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 練習問題 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Exercise</span>
                <h2 class="section-title">8章 練習問題</h2>
            </div>

            <div class="exercise-list">
                <div class="exercise-item">
                    <div class="exercise-number">Q1</div>
                    <div class="exercise-content">
                        <p>以下のコードの出力は何ですか？</p>
                        <div class="code-block">
                            <pre class="code-content"><code>int a = 5;
int b = a++;
System.out.println(a + " " + b);</code></pre>
                        </div>
                        <ol type="A">
                            <li>5 5</li>
                            <li>6 5</li>
                            <li>5 6</li>
                            <li>6 6</li>
                        </ol>
                    </div>
                </div>

                <div class="exercise-item">
                    <div class="exercise-number">Q2</div>
                    <div class="exercise-content">
                        <p>文字列の比較として正しいものはどれですか？</p>
                        <ol type="A">
                            <li><code>str1 == str2</code></li>
                            <li><code>str1.equals(str2)</code></li>
                            <li><code>str1.compareTo(str2) == 0</code></li>
                            <li>BとCの両方</li>
                        </ol>
                    </div>
                </div>

                <div class="exercise-item">
                    <div class="exercise-number">Q3</div>
                    <div class="exercise-content">
                        <p>以下のコードの出力は何ですか？</p>
                        <div class="code-block">
                            <pre class="code-content"><code>int x = 5 / 2;
double y = 5 / 2;
System.out.println(x + " " + y);</code></pre>
                        </div>
                        <ol type="A">
                            <li>2 2.5</li>
                            <li>2.5 2.5</li>
                            <li>2 2.0</li>
                            <li>2.5 2.0</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- 解答 -->
        <section class="section">
            <div class="section-header">
                <span class="section-number">Answer</span>
                <h2 class="section-title">8章 解説・解答</h2>
            </div>

            <div class="answer-list">
                <div class="answer-item">
                    <div class="answer-header">Q1の解答: B</div>
                    <div class="answer-content">
                        <p>後置インクリメント<code>a++</code>は、現在の値を返してからインクリメントします。したがって、bには5が代入され、その後aが6になります。</p>
                    </div>
                </div>

                <div class="answer-item">
                    <div class="answer-header">Q2の解答: D</div>
                    <div class="answer-content">
                        <p><code>equals()</code>は内容の等価性を比較します。<code>compareTo()</code>が0を返す場合も内容が等しいことを意味します。<code>==</code>は参照の比較なので文字列の比較には適していません。</p>
                    </div>
                </div>

                <div class="answer-item">
                    <div class="answer-header">Q3の解答: C</div>
                    <div class="answer-content">
                        <p>整数同士の除算<code>5 / 2</code>は整数結果の2になります。これをdoubleに代入しても2.0です。2.5にするには<code>5.0 / 2</code>や<code>(double)5 / 2</code>とする必要があります。</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <p>Java Silver 試験対策 教科書</p>
    </footer>

    <div class="page-nav">
        <a href="7java-typecast.html" class="page-nav-btn prev">
            <span>&#8592;</span>
            <div>
                <div class="page-nav-label">前の章</div>
                <div class="page-nav-title">第7章</div>
            </div>
        </a>
        <a href="9java-loop.html" class="page-nav-btn next">
            <div>
                <div class="page-nav-label">次の章</div>
                <div class="page-nav-title">第9章</div>
            </div>
            <span>&#8594;</span>
        </a>
    </div>

    <script>
        function toggleMenu() {
            const toggle = document.querySelector('.nav-toggle');
            const menu = document.querySelector('.nav-menu');
            toggle.classList.toggle('active');
            menu.classList.toggle('active');
        }

        document.addEventListener('click', function(e) {
            const nav = document.querySelector('.global-nav');
            const toggle = document.querySelector('.nav-toggle');
            const menu = document.querySelector('.nav-menu');

            if (!nav.contains(e.target) && menu.classList.contains('active')) {
                toggle.classList.remove('active');
                menu.classList.remove('active');
            }
        });
    </script>
    <script src="../../shared/demo.js"></script>
</body>
</html>
