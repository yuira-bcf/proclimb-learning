<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬5ç«  ã‚¹ãƒ†ãƒƒãƒ—ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ´»ç”¨ - GitHub Actionså…¥é–€</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../shared/common.css">
    <style>
      :root {
        --primary: #2088FF;
        --primary-dark: #1A6FD6;
        --primary-light: #E8F1FF;
        --primary-lighter: #B3D4FF;
      }
      body { padding-top: 48px; }
      .nav-category-links { display: none; }
      .visual-diagram {
        margin: 28px 0; padding: 28px 20px;
        background: linear-gradient(135deg, #eef5ff 0%, #e8f1ff 100%);
        border-radius: 16px; border: 1px solid #b3d4ff;
      }
      .visual-diagram-title {
        text-align: center; font-size: 0.82rem; font-weight: 700;
        color: #2088FF; margin-bottom: 20px; letter-spacing: 0.05em;
      }
      .vd-flow {
        display: flex; align-items: center; justify-content: center;
        gap: 10px; flex-wrap: wrap;
      }
      .vd-box {
        background: white; border: 2px solid #2088FF; border-radius: 14px;
        padding: 16px 14px; text-align: center; min-width: 110px;
        box-shadow: 0 2px 8px rgba(32,136,255,0.08);
      }
      .vd-box.accent { background: #2088FF; color: white; }
      .vd-box .vd-icon { font-size: 1.6rem; display: block; margin-bottom: 4px; }
      .vd-box .vd-label { font-size: 0.78rem; font-weight: 700; display: block; }
      .vd-box .vd-sub { font-size: 0.68rem; opacity: 0.7; display: block; margin-top: 2px; }
      .vd-arrow { color: #2088FF; font-size: 1.3rem; font-weight: 700; }
      .vd-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 12px;
      }
      .vd-card {
        background: white; border-radius: 12px; padding: 16px; text-align: center;
        border: 2px solid #e8f1ff; box-shadow: 0 1px 4px rgba(0,0,0,0.04);
      }
      .vd-card .vd-icon { font-size: 1.8rem; display: block; margin-bottom: 6px; }
      .vd-card .vd-label { font-size: 0.78rem; font-weight: 700; display: block; color: #2088FF; }
      .vd-card .vd-sub { font-size: 0.68rem; color: #666; display: block; margin-top: 4px; }
      .vd-card.green { border-color: #a5d6a7; background: #f1f8e9; }
      .vd-card.red { border-color: #ef9a9a; background: #fce4ec; }
      .vd-card.blue { border-color: #90caf9; background: #e3f2fd; }
      .vd-card.amber { border-color: #ffe082; background: #fff8e1; }
      .vd-card.purple { border-color: #ce93d8; background: #f3e5f5; }
      .vd-bar {
        display: flex; border-radius: 12px; overflow: hidden; margin: 16px 0;
      }
      .vd-bar-seg {
        flex: 1; padding: 14px 8px; text-align: center; font-size: 0.72rem; font-weight: 600; color: white;
      }
      @media (max-width: 560px) {
        .vd-flow { flex-direction: column; }
        .vd-arrow { transform: rotate(90deg); }
        .vd-grid { grid-template-columns: repeat(2, 1fr); }
      }
    </style>
</head>
<body>
    <nav class="global-nav"></nav>
    <script src="../shared/js/nav-github-actions.js"></script>

    <div class="container">
        <header class="chapter-header">
            <div class="chapter-badge"><span class="material-icons">menu_book</span> Chapter</div>
            <div class="chapter-number">5</div>
            <h1 class="chapter-title">ã‚¹ãƒ†ãƒƒãƒ—ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ´»ç”¨</h1>
            <p class="chapter-lead">ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æœ€å°å®Ÿè¡Œå˜ä½ã€Œã‚¹ãƒ†ãƒƒãƒ—ã€ã®è©³ç´°ãªè¨­å®šæ–¹æ³•ã¨ã€Marketplaceã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ´»ç”¨ã—ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’åŠ¹ç‡åŒ–ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚</p>
        </header>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ã‚¹ãƒ†ãƒƒãƒ—ã®åŸºæœ¬ -->
        <section class="section" id="step-basics">
            <h2><span class="material-icons">list_alt</span> ã‚¹ãƒ†ãƒƒãƒ—ã®åŸºæœ¬</h2>

            <p>ã‚¹ãƒ†ãƒƒãƒ—ã¯ã‚¸ãƒ§ãƒ–å†…ã§å®Ÿè¡Œã•ã‚Œã‚‹å€‹ã€…ã®ã‚¿ã‚¹ã‚¯ã§ã™ã€‚ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œï¼ˆ<code>run</code>ï¼‰ã¾ãŸã¯å¤–éƒ¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®åˆ©ç”¨ï¼ˆ<code>uses</code>ï¼‰ã®ã„ãšã‚Œã‹ã‚’è¡Œã„ã¾ã™ã€‚</p>

            <h3>ã‚¹ãƒ†ãƒƒãƒ—ã®ä¸»è¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</h3>

            <div class="visual-diagram">
                <div class="visual-diagram-title">ã‚¹ãƒ†ãƒƒãƒ—ã§ä½¿ç”¨ã§ãã‚‹ä¸»è¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</div>
                <div class="vd-grid">
                    <div class="vd-card blue">
                        <span class="vd-icon">ğŸ·ï¸</span>
                        <span class="vd-label">name</span>
                        <span class="vd-sub">ã‚¹ãƒ†ãƒƒãƒ—ã®è¡¨ç¤ºå<br>ãƒ­ã‚°ã§è­˜åˆ¥ã—ã‚„ã™ã</span>
                    </div>
                    <div class="vd-card green">
                        <span class="vd-icon">â–¶ï¸</span>
                        <span class="vd-label">run</span>
                        <span class="vd-sub">ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ<br>bash / pwsh / python</span>
                    </div>
                    <div class="vd-card amber">
                        <span class="vd-icon">ğŸ“¦</span>
                        <span class="vd-label">uses</span>
                        <span class="vd-sub">å¤–éƒ¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä½¿ç”¨<br>Marketplaceç­‰</span>
                    </div>
                    <div class="vd-card purple">
                        <span class="vd-icon">âš™ï¸</span>
                        <span class="vd-label">with</span>
                        <span class="vd-sub">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¸ã®å…¥åŠ›<br>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š</span>
                    </div>
                    <div class="vd-card blue">
                        <span class="vd-icon">ğŸŒ</span>
                        <span class="vd-label">env</span>
                        <span class="vd-sub">ç’°å¢ƒå¤‰æ•°è¨­å®š<br>ã‚¹ãƒ†ãƒƒãƒ—ã‚¹ã‚³ãƒ¼ãƒ—</span>
                    </div>
                    <div class="vd-card green">
                        <span class="vd-icon">â“</span>
                        <span class="vd-label">if</span>
                        <span class="vd-sub">æ¡ä»¶å®Ÿè¡Œ<br>å¼ãŒtrueã§å®Ÿè¡Œ</span>
                    </div>
                </div>
            </div>

            <h3>run: ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ</h3>

            <pre><code>steps:
  # å˜ä¸€ã‚³ãƒãƒ³ãƒ‰
  - name: Show greeting
    run: echo "Hello World"

  # è¤‡æ•°è¡Œã‚³ãƒãƒ³ãƒ‰ï¼ˆ| ã‚’ä½¿ç”¨ï¼‰
  - name: Build and test
    run: |
      echo "Installing dependencies..."
      npm ci
      echo "Running tests..."
      npm test
      echo "Building..."
      npm run build

  # ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æŒ‡å®š
  - name: Build frontend
    run: npm run build
    working-directory: ./frontend

  # ã‚·ã‚§ãƒ«ã®æŒ‡å®š
  - name: Run Python script
    run: |
      import json
      data = {"status": "success"}
      print(json.dumps(data))
    shell: python

  # PowerShellï¼ˆWindowsï¼‰
  - name: Windows command
    run: Get-Process | Select-Object -First 5
    shell: pwsh</code></pre>

            <h3>uses: å¤–éƒ¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®åˆ©ç”¨</h3>

            <pre><code>steps:
  # GitHubã®å…¬å¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  - uses: actions/checkout@v4

  # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ã
  - uses: actions/setup-node@v4
    with:
      node-version: '20'
      cache: 'npm'

  # ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  - uses: peaceiris/actions-gh-pages@v4
    with:
      github_token: ${{ secrets.GITHUB_TOKEN }}
      publish_dir: ./dist

  # åŒã˜ãƒªãƒã‚¸ãƒˆãƒªå†…ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  - uses: ./.github/actions/my-custom-action
    with:
      input1: value1</code></pre>

            <h3>if: æ¡ä»¶å®Ÿè¡Œ</h3>

            <pre><code>steps:
  - name: Run on main branch only
    if: github.ref == 'refs/heads/main'
    run: echo "This is the main branch"

  - name: Run on pull request
    if: github.event_name == 'pull_request'
    run: echo "This is a PR"

  # å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒå¤±æ•—ã—ã¦ã‚‚å®Ÿè¡Œ
  - name: Cleanup on failure
    if: failure()
    run: echo "Something failed, cleaning up..."

  # å¸¸ã«å®Ÿè¡Œï¼ˆæˆåŠŸ/å¤±æ•—/ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã«é–¢ã‚ã‚‰ãšï¼‰
  - name: Always notify
    if: always()
    run: echo "Workflow completed with status: ${{ job.status }}"

  # è¤‡åˆæ¡ä»¶
  - name: Deploy to production
    if: github.ref == 'refs/heads/main' && github.event_name == 'push'
    run: echo "Deploying to production..."

  # ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²
  - name: Run expensive tests
    if: env.RUN_FULL_TESTS == 'true'
    run: npm run test:full</code></pre>

            <h3>env: ã‚¹ãƒ†ãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ç’°å¢ƒå¤‰æ•°</h3>

            <pre><code># ç’°å¢ƒå¤‰æ•°ã®ã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆ3ã¤ã®ãƒ¬ãƒ™ãƒ«ï¼‰
env:
  # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ¬ãƒ™ãƒ«ï¼ˆå…¨ã‚¸ãƒ§ãƒ–ãƒ»å…¨ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
  APP_NAME: my-application

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      # ã‚¸ãƒ§ãƒ–ãƒ¬ãƒ™ãƒ«ï¼ˆã“ã®ã‚¸ãƒ§ãƒ–å†…ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
      NODE_ENV: production

    steps:
      - name: Build with env
        env:
          # ã‚¹ãƒ†ãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ï¼ˆã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã®ã¿ï¼‰
          BUILD_TARGET: dist
        run: |
          echo "App: $APP_NAME"
          echo "Env: $NODE_ENV"
          echo "Target: $BUILD_TARGET"</code></pre>

            <div class="visual-diagram">
                <div class="visual-diagram-title">ç’°å¢ƒå¤‰æ•°ã®ã‚¹ã‚³ãƒ¼ãƒ—éšå±¤</div>
                <div style="max-width: 400px; margin: 0 auto;">
                    <div style="border: 3px solid #1565C0; border-radius: 16px; padding: 18px; background: rgba(21,101,192,0.03);">
                        <div style="text-align: center; font-weight: 700; color: #1565C0; font-size: 0.82rem; margin-bottom: 10px;">Workflow envï¼ˆå…¨ä½“ï¼‰</div>
                        <div style="border: 2px solid #42A5F5; border-radius: 12px; padding: 16px; background: rgba(66,165,245,0.04);">
                            <div style="text-align: center; font-weight: 700; color: #42A5F5; font-size: 0.8rem; margin-bottom: 10px;">Job envï¼ˆã‚¸ãƒ§ãƒ–å†…ï¼‰</div>
                            <div style="display: flex; gap: 8px; justify-content: center; flex-wrap: wrap;">
                                <div style="background: #E3F2FD; border: 1px solid #90CAF9; border-radius: 8px; padding: 10px 14px; font-size: 0.72rem; font-weight: 600; color: #1565C0; text-align: center;">
                                    Step env<br><span style="font-size: 0.65rem; font-weight: 400;">(ãã®ã‚¹ãƒ†ãƒƒãƒ—ã®ã¿)</span>
                                </div>
                                <div style="background: #E3F2FD; border: 1px solid #90CAF9; border-radius: 8px; padding: 10px 14px; font-size: 0.72rem; font-weight: 600; color: #1565C0; text-align: center;">
                                    Step env<br><span style="font-size: 0.65rem; font-weight: 400;">(ãã®ã‚¹ãƒ†ãƒƒãƒ—ã®ã¿)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: center; font-size: 0.7rem; color: #666; margin-top: 10px;">å†…å´ã®ã‚¹ã‚³ãƒ¼ãƒ—ã¯å¤–å´ã®å€¤ã‚’ä¸Šæ›¸ãå¯èƒ½</div>
                </div>
            </div>

            <div class="exercise">
                <div class="exercise-title"><span class="material-icons">edit</span> æ¼”ç¿’å•é¡Œ 5-1</div>
                <p><strong>å•é¡Œ:</strong> ä»¥ä¸‹ã®è¦ä»¶ã‚’æº€ãŸã™ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚</p>
                <ul>
                    <li>mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã®ã¿ã€ŒProduction buildã€ã‚’å®Ÿè¡Œï¼ˆnpm run build:prodï¼‰</li>
                    <li>ãã‚Œä»¥å¤–ã®ãƒ–ãƒ©ãƒ³ãƒã§ã¯ã€ŒDevelopment buildã€ã‚’å®Ÿè¡Œï¼ˆnpm run build:devï¼‰</li>
                    <li>ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã—ãŸå ´åˆã€ã€ŒBuild failedã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¿½åŠ </li>
                </ul>
                <details>
                    <summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>
                    <div class="exercise-answer">
                        <pre><code>steps:
  - uses: actions/checkout@v4
  - uses: actions/setup-node@v4
    with:
      node-version: '20'
  - run: npm ci

  - name: Production build
    if: github.ref == 'refs/heads/main'
    run: npm run build:prod

  - name: Development build
    if: github.ref != 'refs/heads/main'
    run: npm run build:dev

  - name: Cleanup on failure
    if: failure()
    run: echo "Build failed! Check the logs above."</code></pre>
                    </div>
                </details>
            </div>
        </section>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: actions/checkout -->
        <section class="section" id="actions-checkout">
            <h2><span class="material-icons">download</span> actions/checkout</h2>

            <p><code>actions/checkout</code>ã¯ã€æœ€ã‚‚åŸºæœ¬çš„ã§æœ€ã‚‚ä½¿ç”¨é »åº¦ã®é«˜ã„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ãƒ©ãƒ³ãƒŠãƒ¼ã«ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆï¼ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰ã—ã¾ã™ã€‚</p>

            <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>

            <pre><code>steps:
  # æœ€å°æ§‹æˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼‰
  - uses: actions/checkout@v4

  # ã‚«ãƒ¬ãƒ³ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒãŒãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã•ã‚Œã‚‹</code></pre>

            <h3>ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</h3>

            <table>
                <thead>
                    <tr>
                        <th>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</th>
                        <th>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</th>
                        <th>èª¬æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>ref</code></td>
                        <td>ãƒˆãƒªã‚¬ãƒ¼ã®ref</td>
                        <td>ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã™ã‚‹ãƒ–ãƒ©ãƒ³ãƒ/ã‚¿ã‚°/SHA</td>
                    </tr>
                    <tr>
                        <td><code>fetch-depth</code></td>
                        <td>1</td>
                        <td>å–å¾—ã™ã‚‹ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã®æ·±ã•ï¼ˆ0=å…¨å±¥æ­´ï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>token</code></td>
                        <td>github.token</td>
                        <td>èªè¨¼ã«ä½¿ç”¨ã™ã‚‹ãƒˆãƒ¼ã‚¯ãƒ³</td>
                    </tr>
                    <tr>
                        <td><code>repository</code></td>
                        <td>ç¾åœ¨ã®ãƒªãƒã‚¸ãƒˆãƒª</td>
                        <td>ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒª</td>
                    </tr>
                    <tr>
                        <td><code>path</code></td>
                        <td>.</td>
                        <td>ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆå…ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª</td>
                    </tr>
                    <tr>
                        <td><code>submodules</code></td>
                        <td>false</td>
                        <td>ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚‚ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã™ã‚‹ã‹</td>
                    </tr>
                </tbody>
            </table>

            <h3>å®Ÿè·µçš„ãªä½¿ç”¨ä¾‹</h3>

            <pre><code>steps:
  # ç‰¹å®šã®ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
  - uses: actions/checkout@v4
    with:
      ref: develop

  # å…¨ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’å–å¾—ï¼ˆchangelogç”Ÿæˆã‚„git blameç”¨ï¼‰
  - uses: actions/checkout@v4
    with:
      fetch-depth: 0

  # åˆ¥ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆï¼ˆPATãŒå¿…è¦ï¼‰
  - uses: actions/checkout@v4
    with:
      repository: owner/other-repo
      token: ${{ secrets.PAT_TOKEN }}
      path: other-repo

  # ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚‚å«ã‚ã¦ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
  - uses: actions/checkout@v4
    with:
      submodules: recursive

  # è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªã®ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
  - uses: actions/checkout@v4
    with:
      path: main-repo
  - uses: actions/checkout@v4
    with:
      repository: owner/shared-lib
      token: ${{ secrets.PAT_TOKEN }}
      path: shared-lib</code></pre>

            <div class="visual-diagram">
                <div class="visual-diagram-title">fetch-depth ã«ã‚ˆã‚‹å–å¾—ç¯„å›²ã®é•ã„</div>
                <div class="vd-grid" style="grid-template-columns: repeat(3, 1fr);">
                    <div class="vd-card blue">
                        <span class="vd-icon">1ï¸âƒ£</span>
                        <span class="vd-label">fetch-depth: 1</span>
                        <span class="vd-sub">æœ€æ–°ã‚³ãƒŸãƒƒãƒˆã®ã¿<br>æœ€é€Ÿãƒ»æœ€å°<br>ãƒ“ãƒ«ãƒ‰/ãƒ†ã‚¹ãƒˆå‘ã</span>
                    </div>
                    <div class="vd-card amber">
                        <span class="vd-icon">ğŸ”¢</span>
                        <span class="vd-label">fetch-depth: N</span>
                        <span class="vd-sub">ç›´è¿‘Nã‚³ãƒŸãƒƒãƒˆ<br>å·®åˆ†ç¢ºèªã«ä¾¿åˆ©<br>git log -N ãŒä½¿ãˆã‚‹</span>
                    </div>
                    <div class="vd-card green">
                        <span class="vd-icon">ğŸ“š</span>
                        <span class="vd-label">fetch-depth: 0</span>
                        <span class="vd-sub">å…¨å±¥æ­´å–å¾—<br>æ™‚é–“ãŒã‹ã‹ã‚‹<br>changelog/tagæ“ä½œå‘ã</span>
                    </div>
                </div>
            </div>

            <div class="point-box">
                <div class="point-title"><span class="material-icons">lightbulb</span> ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</div>
                <p>é€šå¸¸ã®CIï¼ˆãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆï¼‰ã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®<code>fetch-depth: 1</code>ã§ååˆ†ã§ã™ã€‚<code>fetch-depth: 0</code>ã¯ã€git logã®å…¨å±¥æ­´ãŒå¿…è¦ãªå ´åˆï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã€changelogç”Ÿæˆç­‰ï¼‰ã«ã®ã¿ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚</p>
            </div>
        </section>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: setupç³»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
        <section class="section" id="setup-actions">
            <h2><span class="material-icons">build</span> setupç³»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h2>

            <p>GitHubã¯ã€å„ç¨®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚„ãƒ„ãƒ¼ãƒ«ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®å…¬å¼setupç³»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚„ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p>

            <h3>actions/setup-node</h3>

            <pre><code>steps:
  - uses: actions/checkout@v4

  # åŸºæœ¬çš„ãªä½¿ã„æ–¹
  - uses: actions/setup-node@v4
    with:
      node-version: '20'

  # npmã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æœ‰åŠ¹åŒ–
  - uses: actions/setup-node@v4
    with:
      node-version: '20'
      cache: 'npm'          # npm / yarn / pnpm

  # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¯„å›²æŒ‡å®š
  - uses: actions/setup-node@v4
    with:
      node-version: '>=18'

  # .nvmrc / .node-version ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’èª­ã¿å–ã‚Š
  - uses: actions/setup-node@v4
    with:
      node-version-file: '.nvmrc'
      cache: 'npm'

  # npmãƒ¬ã‚¸ã‚¹ãƒˆãƒªã®è¨­å®šï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹ç”¨ï¼‰
  - uses: actions/setup-node@v4
    with:
      node-version: '20'
      registry-url: 'https://registry.npmjs.org'</code></pre>

            <h3>actions/setup-python</h3>

            <pre><code>steps:
  - uses: actions/checkout@v4

  - uses: actions/setup-python@v5
    with:
      python-version: '3.12'
      cache: 'pip'           # pip / pipenv / poetry

  - run: pip install -r requirements.txt
  - run: python -m pytest</code></pre>

            <h3>actions/setup-java</h3>

            <pre><code>steps:
  - uses: actions/checkout@v4

  - uses: actions/setup-java@v4
    with:
      java-version: '21'
      distribution: 'temurin'   # temurin / corretto / zulu ç­‰
      cache: 'maven'            # maven / gradle

  - run: mvn test</code></pre>

            <h3>ãã®ä»–ã®ä¸»è¦setupç³»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h3>

            <div class="visual-diagram">
                <div class="visual-diagram-title">ä¸»è¦ãªsetupç³»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§</div>
                <div class="vd-grid">
                    <div class="vd-card green">
                        <span class="vd-icon">ğŸŸ¢</span>
                        <span class="vd-label">setup-node</span>
                        <span class="vd-sub">Node.js<br>npm/yarn/pnpmã‚­ãƒ£ãƒƒã‚·ãƒ¥</span>
                    </div>
                    <div class="vd-card blue">
                        <span class="vd-icon">ğŸ</span>
                        <span class="vd-label">setup-python</span>
                        <span class="vd-sub">Python<br>pip/pipenv/poetryã‚­ãƒ£ãƒƒã‚·ãƒ¥</span>
                    </div>
                    <div class="vd-card red">
                        <span class="vd-icon">â˜•</span>
                        <span class="vd-label">setup-java</span>
                        <span class="vd-sub">Java<br>maven/gradleã‚­ãƒ£ãƒƒã‚·ãƒ¥</span>
                    </div>
                    <div class="vd-card amber">
                        <span class="vd-icon">ğŸ”µ</span>
                        <span class="vd-label">setup-go</span>
                        <span class="vd-sub">Go<br>module cacheã‚­ãƒ£ãƒƒã‚·ãƒ¥</span>
                    </div>
                    <div class="vd-card purple">
                        <span class="vd-icon">ğŸ’</span>
                        <span class="vd-label">ruby/setup-ruby</span>
                        <span class="vd-sub">Ruby<br>bundlerã‚­ãƒ£ãƒƒã‚·ãƒ¥</span>
                    </div>
                    <div class="vd-card blue">
                        <span class="vd-icon">ğŸ¦€</span>
                        <span class="vd-label">dtolnay/rust-toolchain</span>
                        <span class="vd-sub">Rust<br>stable/nightly</span>
                    </div>
                </div>
            </div>

            <h3>ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã®ãƒ‘ã‚¿ãƒ¼ãƒ³</h3>

            <table>
                <thead>
                    <tr>
                        <th>æŒ‡å®šæ–¹æ³•</th>
                        <th>ä¾‹</th>
                        <th>èª¬æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>å®Œå…¨æŒ‡å®š</td>
                        <td><code>'20.11.0'</code></td>
                        <td>ç‰¹å®šã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨</td>
                    </tr>
                    <tr>
                        <td>ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³</td>
                        <td><code>'20'</code></td>
                        <td>v20ç³»ã®æœ€æ–°ã‚’ä½¿ç”¨</td>
                    </tr>
                    <tr>
                        <td>ç¯„å›²æŒ‡å®š</td>
                        <td><code>'>=18'</code></td>
                        <td>18ä»¥ä¸Šã®æœ€æ–°ã‚’ä½¿ç”¨</td>
                    </tr>
                    <tr>
                        <td>ãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§</td>
                        <td><code>node-version-file: '.nvmrc'</code></td>
                        <td>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’èª­ã¿å–ã‚Š</td>
                    </tr>
                    <tr>
                        <td>æœ€æ–°å®‰å®šç‰ˆ</td>
                        <td><code>'lts/*'</code></td>
                        <td>æœ€æ–°ã®LTSãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨</td>
                    </tr>
                </tbody>
            </table>

            <div class="exercise">
                <div class="exercise-title"><span class="material-icons">edit</span> æ¼”ç¿’å•é¡Œ 5-2</div>
                <p><strong>å•é¡Œ:</strong> ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆNode.js + Pythonï¼‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®CIç”¨ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚è¦ä»¶:</p>
                <ul>
                    <li>Node.js 20ï¼ˆnpmã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹ï¼‰</li>
                    <li>Python 3.12ï¼ˆpipã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹ï¼‰</li>
                    <li>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆnpm testï¼‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆpytestï¼‰ã®ä¸¡æ–¹ã‚’ãƒ†ã‚¹ãƒˆ</li>
                </ul>
                <details>
                    <summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>
                    <div class="exercise-answer">
                        <pre><code>steps:
  - uses: actions/checkout@v4

  # Node.js ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  - uses: actions/setup-node@v4
    with:
      node-version: '20'
      cache: 'npm'

  # Python ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  - uses: actions/setup-python@v5
    with:
      python-version: '3.12'
      cache: 'pip'

  # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
  - name: Install frontend dependencies
    run: npm ci

  - name: Test frontend
    run: npm test

  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
  - name: Install backend dependencies
    run: pip install -r requirements.txt

  - name: Test backend
    run: python -m pytest</code></pre>
                    </div>
                </details>
            </div>
        </section>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³4: Marketplaceæ´»ç”¨ -->
        <section class="section" id="marketplace">
            <h2><span class="material-icons">store</span> Marketplaceæ´»ç”¨</h2>

            <p>GitHub Marketplaceã«ã¯20,000ä»¥ä¸Šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå…¬é–‹ã•ã‚Œã¦ãŠã‚Šã€ã‚ˆãã‚ã‚‹å‡¦ç†ã‚’ç°¡å˜ã«å®Ÿè£…ã§ãã¾ã™ã€‚ãŸã ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚„å“è³ªã®è¦³ç‚¹ã‹ã‚‰ã€ä½¿ç”¨ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯æ…é‡ã«é¸å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>

            <h3>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®æ¤œç´¢æ–¹æ³•</h3>
            <ol>
                <li><a href="https://github.com/marketplace?type=actions" target="_blank">GitHub Marketplace</a> ã§æ¤œç´¢</li>
                <li>GitHub æ¤œç´¢ã§ <code>topic:github-actions</code> ã‚’ä½¿ç”¨</li>
                <li><a href="https://github.com/sdras/awesome-actions" target="_blank">awesome-actions</a> ãªã©ã®ã‚­ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚¹ãƒˆ</li>
            </ol>

            <h3>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®æŒ‡å®šæ–¹æ³•</h3>

            <pre><code>steps:
  # owner/repo@ref ã®å½¢å¼ã§æŒ‡å®š

  # ã‚¿ã‚°ï¼ˆæ¨å¥¨: ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ï¼‰
  - uses: actions/checkout@v4

  # å®Œå…¨ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°
  - uses: actions/checkout@v4.1.7

  # ã‚³ãƒŸãƒƒãƒˆSHAï¼ˆæœ€ã‚‚ã‚»ã‚­ãƒ¥ã‚¢ï¼‰
  - uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11

  # ãƒ–ãƒ©ãƒ³ãƒåï¼ˆéæ¨å¥¨: å†…å®¹ãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ï¼‰
  - uses: actions/checkout@main</code></pre>

            <div class="visual-diagram">
                <div class="visual-diagram-title">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šæ–¹æ³•ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«é †ï¼‰</div>
                <div class="vd-flow">
                    <div class="vd-box" style="border-color: #4caf50;">
                        <span class="vd-icon">ğŸ”’</span>
                        <span class="vd-label">SHAæŒ‡å®š</span>
                        <span class="vd-sub">æœ€ã‚‚å®‰å…¨<br>@b4ffde65...</span>
                    </div>
                    <span class="vd-arrow">â†’</span>
                    <div class="vd-box" style="border-color: #2196f3;">
                        <span class="vd-icon">ğŸ·ï¸</span>
                        <span class="vd-label">ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°</span>
                        <span class="vd-sub">æ¨å¥¨<br>@v4.1.7</span>
                    </div>
                    <span class="vd-arrow">â†’</span>
                    <div class="vd-box" style="border-color: #ff9800;">
                        <span class="vd-icon">ğŸ“Œ</span>
                        <span class="vd-label">ãƒ¡ã‚¸ãƒ£ãƒ¼ã‚¿ã‚°</span>
                        <span class="vd-sub">ä¸€èˆ¬çš„<br>@v4</span>
                    </div>
                    <span class="vd-arrow">â†’</span>
                    <div class="vd-box" style="border-color: #f44336;">
                        <span class="vd-icon">âš ï¸</span>
                        <span class="vd-label">ãƒ–ãƒ©ãƒ³ãƒå</span>
                        <span class="vd-sub">éæ¨å¥¨<br>@main</span>
                    </div>
                </div>
            </div>

            <h3>ä¿¡é ¼æ€§ã®ç¢ºèªãƒã‚¤ãƒ³ãƒˆ</h3>

            <table>
                <thead>
                    <tr>
                        <th>ç¢ºèªé …ç›®</th>
                        <th>è‰¯ã„å…†å€™</th>
                        <th>æ³¨æ„ãŒå¿…è¦</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>æä¾›å…ƒ</td>
                        <td>actions/*ï¼ˆGitHubå…¬å¼ï¼‰ã€Verified Creator</td>
                        <td>ä¸æ˜ãªå€‹äººã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</td>
                    </tr>
                    <tr>
                        <td>Staræ•°</td>
                        <td>1,000ä»¥ä¸Š</td>
                        <td>æ•°åä»¥ä¸‹</td>
                    </tr>
                    <tr>
                        <td>æ›´æ–°é »åº¦</td>
                        <td>æœ€è¿‘ã®ã‚³ãƒŸãƒƒãƒˆã‚ã‚Š</td>
                        <td>1å¹´ä»¥ä¸Šæ›´æ–°ãªã—</td>
                    </tr>
                    <tr>
                        <td>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</td>
                        <td>ã‚³ãƒ¼ãƒ‰ãŒå…¬é–‹ãƒ»èª­ã¿ã‚„ã™ã„</td>
                        <td>é›£èª­åŒ–ã•ã‚Œã¦ã„ã‚‹</td>
                    </tr>
                    <tr>
                        <td>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</td>
                        <td>READMEãŒå……å®Ÿ</td>
                        <td>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒãªã„</td>
                    </tr>
                </tbody>
            </table>

            <h3>ã‚ˆãä½¿ã‚ã‚Œã‚‹Marketplaceã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h3>

            <pre><code># Slacké€šçŸ¥
- uses: slackapi/slack-github-action@v2.0.0
  with:
    webhook: ${{ secrets.SLACK_WEBHOOK_URL }}
    webhook-type: incoming-webhook
    payload: |
      {"text": "Build ${{ job.status }}!"}

# GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤
- uses: peaceiris/actions-gh-pages@v4
  with:
    github_token: ${{ secrets.GITHUB_TOKEN }}
    publish_dir: ./dist

# Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ï¼†ãƒ—ãƒƒã‚·ãƒ¥
- uses: docker/build-push-action@v6
  with:
    push: true
    tags: user/app:latest

# CodeQL ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†æ
- uses: github/codeql-action/analyze@v3

# ãƒ©ãƒ™ãƒ«è‡ªå‹•ä»˜ä¸
- uses: actions/labeler@v5
  with:
    repo-token: ${{ secrets.GITHUB_TOKEN }}</code></pre>

            <div class="point-box">
                <div class="point-title"><span class="material-icons">security</span> ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã™ã‚‹æ³¨æ„</div>
                <p>ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å†…ã§ã‚³ãƒ¼ãƒ‰ã‚„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ä¿¡é ¼ã§ãã‚‹æä¾›å…ƒã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é¸ã³ã€å¯èƒ½ã§ã‚ã‚Œã°SHAæŒ‡å®šã§å›ºå®šã—ã¦ãã ã•ã„ã€‚<code>permissions</code>ã‚­ãƒ¼ã§æœ€å°é™ã®æ¨©é™ã‚’ä»˜ä¸ã™ã‚‹ã“ã¨ã‚‚é‡è¦ã§ã™ã€‚</p>
            </div>

            <div class="exercise">
                <div class="exercise-title"><span class="material-icons">edit</span> æ¼”ç¿’å•é¡Œ 5-3</div>
                <p><strong>å•é¡Œ:</strong> ä»¥ä¸‹ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æŒ‡å®šã«ã¤ã„ã¦ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è¦³ç‚¹ã‹ã‚‰å•é¡Œç‚¹ã‚’æŒ‡æ‘˜ã—ã¦ãã ã•ã„ã€‚</p>
                <pre><code>steps:
  - uses: actions/checkout@main
  - uses: unknown-user/deploy-action@v1
  - uses: actions/setup-node@v4</code></pre>
                <details>
                    <summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>
                    <div class="exercise-answer">
                        <ol>
                            <li><code>actions/checkout@main</code> â€” ãƒ–ãƒ©ãƒ³ãƒåã§ã®æŒ‡å®šã¯éæ¨å¥¨ã€‚mainãƒ–ãƒ©ãƒ³ãƒã®å†…å®¹ã¯éšæ™‚å¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚<code>@v4</code> ã¾ãŸã¯SHAæŒ‡å®šã«å¤‰æ›´ã™ã¹ãã€‚</li>
                            <li><code>unknown-user/deploy-action@v1</code> â€” æä¾›å…ƒãŒä¸æ˜ãªå€‹äººã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€‚GitHubå…¬å¼ã‚„Verified Creatorã§ãªã„å ´åˆã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã€Staræ•°ã‚„æ›´æ–°é »åº¦ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ç‰¹ã«ãƒ‡ãƒ—ãƒ­ã‚¤ç³»ã¯ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã€‚</li>
                            <li><code>actions/setup-node@v4</code> â€” GitHubå…¬å¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°æŒ‡å®šã§ã€ä¸€èˆ¬çš„ã«å•é¡Œãªã—ã€‚ã‚ˆã‚Šå³å¯†ã«ã¯SHAæŒ‡å®šã«ã™ã‚‹ã¨ãªãŠè‰¯ã„ã€‚</li>
                        </ol>
                    </div>
                </details>
            </div>
        </section>

        <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5: ã‚¹ãƒ†ãƒƒãƒ—é–“ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ -->
        <section class="section" id="data-sharing">
            <h2><span class="material-icons">share</span> ã‚¹ãƒ†ãƒƒãƒ—é–“ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰</h2>

            <p>åŒã˜ã‚¸ãƒ§ãƒ–å†…ã®ã‚¹ãƒ†ãƒƒãƒ—é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘æ¸¡ã™æ–¹æ³•ã¯è¤‡æ•°ã‚ã‚Šã¾ã™ã€‚ã‚¹ãƒ†ãƒƒãƒ—ã®å‡ºåŠ›å€¤ï¼ˆoutputsï¼‰ã‚„GITHUB_OUTPUTãƒ•ã‚¡ã‚¤ãƒ«ã€GITHUB_ENVãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ´»ç”¨ã—ã¾ã™ã€‚</p>

            <h3>GITHUB_OUTPUT: ã‚¹ãƒ†ãƒƒãƒ—å‡ºåŠ›</h3>
            <p>ã‚ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã®çµæœã‚’å¾Œç¶šã®ã‚¹ãƒ†ãƒƒãƒ—ã§å‚ç…§ã™ã‚‹æœ€ã‚‚åŸºæœ¬çš„ãªæ–¹æ³•ã§ã™ã€‚</p>

            <pre><code>steps:
  # å‡ºåŠ›ã‚’è¨­å®šã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆid ãŒå¿…é ˆï¼‰
  - name: Get version
    id: version
    run: |
      VERSION=$(node -p "require('./package.json').version")
      echo "pkg_version=$VERSION" >> $GITHUB_OUTPUT
      echo "build_time=$(date -u +%Y%m%d%H%M%S)" >> $GITHUB_OUTPUT

  # å‡ºåŠ›ã‚’å‚ç…§ã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—
  - name: Use version
    run: |
      echo "Version: ${{ steps.version.outputs.pkg_version }}"
      echo "Build time: ${{ steps.version.outputs.build_time }}"

  # æ¡ä»¶åˆ†å²ã«ä½¿ç”¨
  - name: Deploy if major version
    if: startsWith(steps.version.outputs.pkg_version, '2.')
    run: echo "Deploying v2.x!"</code></pre>

            <div class="visual-diagram">
                <div class="visual-diagram-title">GITHUB_OUTPUT ã«ã‚ˆã‚‹ã‚¹ãƒ†ãƒƒãƒ—é–“ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã®æµã‚Œ</div>
                <div class="vd-flow">
                    <div class="vd-box accent">
                        <span class="vd-icon">ğŸ“¤</span>
                        <span class="vd-label">Step A (id: step_a)</span>
                        <span class="vd-sub">echo "key=value"<br>&gt;&gt; $GITHUB_OUTPUT</span>
                    </div>
                    <span class="vd-arrow">â†’</span>
                    <div class="vd-box" style="border-color: #4caf50;">
                        <span class="vd-icon">ğŸ“¥</span>
                        <span class="vd-label">Step B</span>
                        <span class="vd-sub">${{ steps.step_a<br>.outputs.key }}</span>
                    </div>
                </div>
            </div>

            <h3>GITHUB_ENV: ç’°å¢ƒå¤‰æ•°ã®è¨­å®š</h3>
            <p>å¾Œç¶šã®ã‚¹ãƒ†ãƒƒãƒ—ã§ä½¿ãˆã‚‹ç’°å¢ƒå¤‰æ•°ã‚’å‹•çš„ã«è¨­å®šã§ãã¾ã™ã€‚</p>

            <pre><code>steps:
  - name: Set environment variables
    run: |
      echo "APP_VERSION=1.2.3" >> $GITHUB_ENV
      echo "BUILD_NUMBER=${{ github.run_number }}" >> $GITHUB_ENV
      echo "DEPLOY_ENV=staging" >> $GITHUB_ENV

  # å¾Œç¶šã®ã‚¹ãƒ†ãƒƒãƒ—ã§é€šå¸¸ã®ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦åˆ©ç”¨å¯èƒ½
  - name: Use environment variables
    run: |
      echo "Version: $APP_VERSION"
      echo "Build: $BUILD_NUMBER"
      echo "Env: $DEPLOY_ENV"

  # ifæ¡ä»¶ã§ã‚‚ä½¿ç”¨å¯èƒ½
  - name: Production only
    if: env.DEPLOY_ENV == 'production'
    run: echo "This is production!"</code></pre>

            <h3>GITHUB_OUTPUT vs GITHUB_ENV ã®ä½¿ã„åˆ†ã‘</h3>

            <table>
                <thead>
                    <tr>
                        <th>é …ç›®</th>
                        <th>GITHUB_OUTPUT</th>
                        <th>GITHUB_ENV</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ç”¨é€”</td>
                        <td>ã‚¹ãƒ†ãƒƒãƒ—ã®å‡ºåŠ›å€¤</td>
                        <td>ç’°å¢ƒå¤‰æ•°ã®è¨­å®š</td>
                    </tr>
                    <tr>
                        <td>å‚ç…§æ–¹æ³•</td>
                        <td><code>${{ steps.id.outputs.key }}</code></td>
                        <td><code>${{ env.KEY }}</code> ã¾ãŸã¯ <code>$KEY</code></td>
                    </tr>
                    <tr>
                        <td>ã‚¹ã‚³ãƒ¼ãƒ—</td>
                        <td>åŒä¸€ã‚¸ãƒ§ãƒ–å†…ã®ã‚¹ãƒ†ãƒƒãƒ—</td>
                        <td>è¨­å®šä»¥é™ã®ã™ã¹ã¦ã®ã‚¹ãƒ†ãƒƒãƒ—</td>
                    </tr>
                    <tr>
                        <td>ifæ¡ä»¶</td>
                        <td>ä½¿ç”¨å¯èƒ½</td>
                        <td>ä½¿ç”¨å¯èƒ½</td>
                    </tr>
                    <tr>
                        <td>æ¨å¥¨å ´é¢</td>
                        <td>è¨ˆç®—çµæœã®å—ã‘æ¸¡ã—</td>
                        <td>è¨­å®šå€¤ã®å…±æœ‰</td>
                    </tr>
                </tbody>
            </table>

            <h3>ã‚¸ãƒ§ãƒ–é–“ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ï¼ˆoutputsï¼‰</h3>
            <p>ã‚¸ãƒ§ãƒ–ãƒ¬ãƒ™ãƒ«ã§outputsã‚’å®šç¾©ã™ã‚‹ã¨ã€<code>needs</code>ã§ä¾å­˜ã™ã‚‹ã‚¸ãƒ§ãƒ–ã‹ã‚‰å‚ç…§ã§ãã¾ã™ã€‚</p>

            <pre><code>jobs:
  build:
    runs-on: ubuntu-latest
    # ã‚¸ãƒ§ãƒ–ãƒ¬ãƒ™ãƒ«ã®outputså®šç¾©
    outputs:
      version: ${{ steps.get-version.outputs.version }}
      sha_short: ${{ steps.get-sha.outputs.sha }}
    steps:
      - uses: actions/checkout@v4

      - name: Get version
        id: get-version
        run: |
          VERSION=$(node -p "require('./package.json').version")
          echo "version=$VERSION" >> $GITHUB_OUTPUT

      - name: Get short SHA
        id: get-sha
        run: echo "sha=${GITHUB_SHA::7}" >> $GITHUB_OUTPUT

  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: Deploy version
        run: |
          echo "Deploying version: ${{ needs.build.outputs.version }}"
          echo "Commit: ${{ needs.build.outputs.sha_short }}"</code></pre>

            <div class="visual-diagram">
                <div class="visual-diagram-title">ã‚¸ãƒ§ãƒ–é–“ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ãƒ•ãƒ­ãƒ¼</div>
                <div style="max-width: 480px; margin: 0 auto;">
                    <div style="border: 2px solid #2196F3; border-radius: 14px; padding: 16px; margin-bottom: 12px; background: rgba(33,150,243,0.03);">
                        <div style="font-weight: 700; color: #2196F3; font-size: 0.84rem; margin-bottom: 8px; text-align: center;">Job: build</div>
                        <div style="display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; margin-bottom: 10px;">
                            <div style="background: #E3F2FD; border-radius: 6px; padding: 6px 10px; font-size: 0.7rem;">step (id: get-version)</div>
                            <div style="background: #E3F2FD; border-radius: 6px; padding: 6px 10px; font-size: 0.7rem;">step (id: get-sha)</div>
                        </div>
                        <div style="background: #E8F5E9; border: 1px solid #A5D6A7; border-radius: 8px; padding: 8px; text-align: center; font-size: 0.72rem; font-weight: 600; color: #2E7D32;">
                            outputs: version, sha_short
                        </div>
                    </div>
                    <div style="text-align: center; color: #2088FF; font-size: 1.3rem; font-weight: 700; margin: 8px 0;">â†“ needs: build</div>
                    <div style="border: 2px solid #42A5F5; border-radius: 14px; padding: 16px; background: rgba(66,165,245,0.03);">
                        <div style="font-weight: 700; color: #42A5F5; font-size: 0.84rem; margin-bottom: 8px; text-align: center;">Job: deploy</div>
                        <div style="background: #FFF3E0; border: 1px solid #FFE082; border-radius: 8px; padding: 8px; text-align: center; font-size: 0.72rem; color: #E65100;">
                            ${{ needs.build.outputs.version }}<br>
                            ${{ needs.build.outputs.sha_short }}
                        </div>
                    </div>
                </div>
            </div>

            <h3>å®Ÿè·µä¾‹: ãƒ“ãƒ«ãƒ‰æƒ…å ±ã®æ´»ç”¨</h3>

            <pre><code>name: Build & Deploy

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    outputs:
      artifact_name: ${{ steps.build-info.outputs.artifact_name }}
      version: ${{ steps.build-info.outputs.version }}

    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - run: npm ci

      - name: Set build info
        id: build-info
        run: |
          VERSION=$(node -p "require('./package.json').version")
          ARTIFACT="app-${VERSION}-${GITHUB_SHA::7}"
          echo "version=$VERSION" >> $GITHUB_OUTPUT
          echo "artifact_name=$ARTIFACT" >> $GITHUB_OUTPUT

      - name: Build
        run: npm run build
        env:
          APP_VERSION: ${{ steps.build-info.outputs.version }}

      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: ${{ steps.build-info.outputs.artifact_name }}
          path: dist/

  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: Download artifact
        uses: actions/download-artifact@v4
        with:
          name: ${{ needs.build.outputs.artifact_name }}

      - name: Deploy
        run: |
          echo "Deploying ${{ needs.build.outputs.artifact_name }}"
          echo "Version: ${{ needs.build.outputs.version }}"
          ls -la</code></pre>

            <div class="exercise">
                <div class="exercise-title"><span class="material-icons">edit</span> æ¼”ç¿’å•é¡Œ 5-4</div>
                <p><strong>å•é¡Œ:</strong> ä»¥ä¸‹ã®è¦ä»¶ã‚’æº€ãŸã™ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
                <ul>
                    <li><code>check</code>ã‚¸ãƒ§ãƒ–: package.json ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã—ã€ã‚¸ãƒ§ãƒ–ã®outputsã¨ã—ã¦å…¬é–‹</li>
                    <li><code>build</code>ã‚¸ãƒ§ãƒ–: checkã‚¸ãƒ§ãƒ–ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å—ã‘å–ã‚Šã€ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã®ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã—ã¦ä½¿ç”¨</li>
                </ul>
                <details>
                    <summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>
                    <div class="exercise-answer">
                        <pre><code>name: Version Build

on: push

jobs:
  check:
    runs-on: ubuntu-latest
    outputs:
      app_version: ${{ steps.get-ver.outputs.version }}
    steps:
      - uses: actions/checkout@v4
      - name: Get version from package.json
        id: get-ver
        run: |
          VER=$(node -p "require('./package.json').version")
          echo "version=$VER" >> $GITHUB_OUTPUT
          echo "Detected version: $VER"

  build:
    needs: check
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - run: npm ci
      - name: Build with version
        run: npm run build
        env:
          APP_VERSION: ${{ needs.check.outputs.app_version }}</code></pre>
                    </div>
                </details>
            </div>

            <div class="exercise">
                <div class="exercise-title"><span class="material-icons">edit</span> æ¼”ç¿’å•é¡Œ 5-5ï¼ˆç·åˆå•é¡Œï¼‰</div>
                <p><strong>å•é¡Œ:</strong> ä»¥ä¸‹ã®å®Œå…¨ãªCI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
                <ol>
                    <li>mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã«ãƒˆãƒªã‚¬ãƒ¼</li>
                    <li>checkoutã¨Node.js 20ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆnpmã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹ï¼‰</li>
                    <li>ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ãƒªãƒ³ãƒˆã€ãƒ†ã‚¹ãƒˆã€ãƒ“ãƒ«ãƒ‰ã‚’é †ã«å®Ÿè¡Œ</li>
                    <li>ãƒ“ãƒ«ãƒ‰ã‚¹ãƒ†ãƒƒãƒ—ã§package.jsonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦ä½¿ç”¨</li>
                    <li>ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã«Slackã«é€šçŸ¥ã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¿½åŠ ï¼ˆã‚³ãƒãƒ³ãƒ‰ã¯ echo ã§ä»£æ›¿å¯ï¼‰</li>
                </ol>
                <details>
                    <summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary>
                    <div class="exercise-answer">
                        <pre><code>name: CI/CD Pipeline

on:
  push:
    branches: [main]

jobs:
  ci:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run linter
        run: npm run lint

      - name: Run tests
        run: npm test

      - name: Get version
        id: pkg
        run: |
          VERSION=$(node -p "require('./package.json').version")
          echo "version=$VERSION" >> $GITHUB_OUTPUT

      - name: Build
        run: npm run build
        env:
          APP_VERSION: ${{ steps.pkg.outputs.version }}

      - name: Notify on failure
        if: failure()
        run: |
          echo "CI failed! Sending Slack notification..."
          echo "Build version: ${{ steps.pkg.outputs.version }}"
          echo "Commit: ${{ github.sha }}"
          echo "Author: ${{ github.actor }}"</code></pre>
                    </div>
                </details>
            </div>
        </section>

        <!-- ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <nav class="chapter-nav">
            <a href="4actions-jobs-runners.html" class="prev"><span class="material-icons">arrow_back</span> å‰ã®ç« </a>
            <a href="index.html" class="home"><span class="material-icons">home</span> ç›®æ¬¡</a>
            <a href="6actions-env-secrets.html" class="next">æ¬¡ã®ç«  <span class="material-icons">arrow_forward</span></a>
        </nav>
    </div>

    <footer class="global-footer"></footer>
    <script src="../shared/footer.js"></script>
</body>
</html>